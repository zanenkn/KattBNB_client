(this.webpackJsonpkattbnb_client=this.webpackJsonpkattbnb_client||[]).push([[0],{178:function(e,t,a){},262:function(e,t,a){},321:function(e,t,a){},368:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(31),n=a.n(r),i=a(16),o=a.n(i),c=a(23),l=a(2),d=(a(262),a(22)),u=a(0),h=function(e){return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,viewBox:"0 0 300 300",children:[Object(u.jsx)("path",{fill:"#C90B61",d:"M150,300L150,300C67.16,300,0,232.84,0,150l0,0C0,67.16,67.16,0,150,0h0c82.84,0,150,67.16,150,150v0 C300,232.84,232.84,300,150,300z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M104.91,100.15l-35.49,28.06c-1.41,1.12-3.5,0.11-3.5-1.69V84.71c0-3.55,3.51-6.03,6.84-4.84l31.82,16.68 C105.95,97.27,106.13,99.18,104.91,100.15z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M234.08,84.71v41.85c0,1.8-2.08,2.81-3.5,1.69l-35.52-28.07c-1.23-0.97-1.05-2.88,0.33-3.6l31.82-16.71 C230.57,78.68,234.08,81.16,234.08,84.71z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M234.07,162.74v50.98c0,3.7-3,6.71-6.7,6.71h-35.23v-40c0-1.84-1.49-3.33-3.33-3.33h-35.6 c-1.84,0-3.33,1.49-3.33,3.33v40H72.62c-3.7,0-6.7-3-6.7-6.71v-50.98c0-2.02,0.04-4.26,2.53-6.76l77.38-61.15 c1.21-0.99,2.65-1.45,4.15-1.45c1.45,0,2.89,0.46,4.1,1.45l77.38,61.15C234.05,158.56,234.07,160.72,234.07,162.74z"})]})},j=function(){return Object(u.jsx)("div",{style:{margin:"auto",display:"table",marginTop:"2rem"},children:Object(u.jsxs)("div",{className:"lds-spinner",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})},p=a(219),b=a(385),m=a(395),g=a(119),x=a(399),O=a(12),v=a(28),f=function(e){return Object(u.jsxs)("svg",{height:e.height,fill:e.fill,className:e.class,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",children:[Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M540,0C242.24,0,0,242.24,0,540c0,297.75,242.24,540,540,540s540-242.25,540-540C1080,242.24,837.76,0,540,0z M689.79,320.31c0,4.5-3.65,8.15-8.15,8.15H616.7c-15.94,0-28.85,12.92-28.85,28.86v67.99h92.36c4.77,0,8.52,4.08,8.12,8.84 l-8.1,95.84c-0.36,4.22-3.89,7.46-8.12,7.46h-84.26v318.07c0,4.5-3.65,8.15-8.16,8.15H463.47c-4.5,0-8.15-3.65-8.15-8.15V537.45 h-58.11c-4.51,0-8.15-3.65-8.15-8.15v-95.84c0-4.5,3.64-8.15,8.15-8.15h58.11v-92.39c0-64.39,52.2-116.59,116.59-116.59h109.73 c4.5,0,8.15,3.65,8.15,8.15V320.31z"})}),Object(u.jsxs)("g",{children:[Object(u.jsx)("circle",{cx:"1735.44",cy:"425.34",r:"176.14"}),Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M1735.6,628.14c-110.88,0-201.1-90.21-201.1-201.1c0-110.88,90.21-201.1,201.1-201.1 c110.88,0,201.1,90.21,201.1,201.1C1936.69,537.93,1846.48,628.14,1735.6,628.14z M1803.41,345.46c-8.22,0-14.88,6.66-14.88,14.88 c0,8.22,6.66,14.88,14.88,14.88c8.22,0,14.88-6.66,14.88-14.88C1818.29,352.12,1811.62,345.46,1803.41,345.46z M1737.25,364.54 c-34.47,0-62.51,28.04-62.51,62.51s28.04,62.51,62.51,62.51c34.47,0,62.51-28.04,62.51-62.51S1771.72,364.54,1737.25,364.54z M1737.25,467.09c-22.08,0-40.04-17.96-40.04-40.04s17.96-40.04,40.04-40.04c22.08,0,40.04,17.96,40.04,40.04 S1759.33,467.09,1737.25,467.09z M1863.38,375.1c0-42.11-34.14-76.24-76.24-76.24h-100.63c-42.11,0-76.24,34.13-76.24,76.24 v100.64c0,42.11,34.14,76.24,76.24,76.24h100.63c42.11,0,76.24-34.13,76.24-76.24V375.1z M1839.5,475.73 c0,28.92-23.45,52.36-52.37,52.36h-100.63c-28.92,0-52.37-23.44-52.37-52.36V375.1c0-28.92,23.45-52.36,52.37-52.36h100.63 c28.92,0,52.37,23.44,52.37,52.36V475.73z"})})]}),Object(u.jsxs)("g",{children:[Object(u.jsxs)("g",{children:[Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M1616.21,1124.61c-111.43,0-202.08-90.65-202.08-202.07c0-111.42,90.65-202.07,202.08-202.07 c111.42,0,202.07,90.65,202.07,202.07C1818.29,1033.96,1727.64,1124.61,1616.21,1124.61z"})}),Object(u.jsx)("g",{children:Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M1730.45,937.93v75.45c0,1.86-1.51,3.38-3.38,3.38h-38.95c-1.86,0-3.38-1.51-3.38-3.38v-70.17 c0-18.47-6.6-31.08-23.15-31.08c-12.63,0-20.13,8.49-23.44,16.71c-1.2,2.94-1.51,7.02-1.51,11.14v73.39 c0,1.86-1.51,3.38-3.38,3.38h-38.94c-1.87,0-3.38-1.51-3.38-3.38c0.09-18.69,0.48-109.35,0.08-130.66 c-0.04-1.89,1.49-3.42,3.37-3.42h38.86c1.86,0,3.38,1.51,3.38,3.38v16.1c-0.09,0.15-0.22,0.3-0.3,0.45h0.3v-0.45 c6.07-9.35,16.91-22.71,41.19-22.71C1707.91,876.07,1730.45,895.71,1730.45,937.93L1730.45,937.93z M1523.36,1016.75h38.94 c1.86,0,3.38-1.51,3.38-3.38V882.67c0-1.86-1.51-3.38-3.38-3.38h-38.94c-1.86,0-3.38,1.51-3.38,3.38v130.71 C1519.98,1015.24,1521.49,1016.75,1523.36,1016.75z"})})})]}),Object(u.jsx)("g",{children:Object(u.jsx)("circle",{cx:"1541.46",cy:"837.35",r:"24.46"})})]})]})},y=function(e){return Object(u.jsxs)("svg",{height:e.height,fill:e.fill,className:e.class,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",children:[Object(u.jsx)("g",{children:Object(u.jsxs)("g",{children:[Object(u.jsx)("path",{d:"M540,0C242.25,0,0,242.25,0,540s242.25,540,540,540s540-242.25,540-540S837.75,0,540,0z M883.12,670.73 c0,113.07-91.66,204.73-204.73,204.73H408.18c-113.08,0-204.74-91.66-204.74-204.73V400.5c0-113.07,91.66-204.73,204.74-204.73 h270.21c113.07,0,204.73,91.66,204.73,204.73V670.73z"}),Object(u.jsx)("path",{d:"M678.39,259.89H408.18c-77.67,0-140.62,62.95-140.62,140.61v270.23c0,77.66,62.95,140.61,140.62,140.61 h270.21c77.66,0,140.61-62.95,140.61-140.61V400.5C819,322.84,756.05,259.89,678.39,259.89z M544.44,707.86 c-92.56,0-167.86-75.3-167.86-167.86c0-92.55,75.3-167.85,167.86-167.85c92.55,0,167.85,75.3,167.85,167.85 C712.29,632.56,636.99,707.86,544.44,707.86z M722.08,400.82c-22.07,0-39.96-17.88-39.96-39.95s17.89-39.96,39.96-39.96 s39.96,17.89,39.96,39.96S744.15,400.82,722.08,400.82z"}),Object(u.jsx)("path",{d:"M651.96,540c0,59.29-48.24,107.53-107.52,107.53c-59.29,0-107.53-48.24-107.53-107.53 c0-59.29,48.24-107.52,107.53-107.52C603.72,432.48,651.96,480.71,651.96,540z"})]})}),Object(u.jsxs)("g",{children:[Object(u.jsxs)("g",{children:[Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M1616.21,1124.61c-111.43,0-202.08-90.65-202.08-202.07c0-111.42,90.65-202.07,202.08-202.07 c111.42,0,202.07,90.65,202.07,202.07C1818.29,1033.96,1727.64,1124.61,1616.21,1124.61z"})}),Object(u.jsx)("g",{children:Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M1730.45,937.93v75.45c0,1.86-1.51,3.38-3.38,3.38h-38.95c-1.86,0-3.38-1.51-3.38-3.38v-70.17 c0-18.47-6.6-31.08-23.15-31.08c-12.63,0-20.13,8.49-23.44,16.71c-1.2,2.94-1.51,7.02-1.51,11.14v73.39 c0,1.86-1.51,3.38-3.38,3.38h-38.94c-1.87,0-3.38-1.51-3.38-3.38c0.09-18.69,0.48-109.35,0.08-130.66 c-0.04-1.89,1.49-3.42,3.37-3.42h38.86c1.86,0,3.38,1.51,3.38,3.38v16.1c-0.09,0.15-0.22,0.3-0.3,0.45h0.3v-0.45 c6.07-9.35,16.91-22.71,41.19-22.71C1707.91,876.07,1730.45,895.71,1730.45,937.93L1730.45,937.93z M1523.36,1016.75h38.94 c1.86,0,3.38-1.51,3.38-3.38V882.67c0-1.86-1.51-3.38-3.38-3.38h-38.94c-1.86,0-3.38,1.51-3.38,3.38v130.71 C1519.98,1015.24,1521.49,1016.75,1523.36,1016.75z"})})})]}),Object(u.jsx)("g",{children:Object(u.jsx)("circle",{cx:"1541.46",cy:"837.35",r:"24.46"})})]})]})},w=function(e){return Object(u.jsxs)("svg",{height:e.height,fill:e.fill,className:e.class,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",children:[Object(u.jsx)("path",{d:"M593.81,477.69h0.81v-1.2C594.38,476.9,594.03,477.3,593.81,477.69z"}),Object(u.jsx)("path",{d:"M540,0C242.24,0,0,242.24,0,540s242.24,540,540,540s540-242.24,540-540S837.76,0,540,0z M404.95,782.75 c0,4.98-4.04,9.02-9.02,9.02H291.87c-4.98,0-9.02-4.04-9.02-9.02V433.46c0-4.98,4.04-9.02,9.02-9.02h104.06 c4.98,0,9.02,4.04,9.02,9.02V782.75z M340.25,377.71c-36.11,0-65.38-29.26-65.38-65.37c0-36.1,29.27-65.37,65.38-65.37 c36.1,0,65.37,29.27,65.37,65.37C405.62,348.45,376.35,377.71,340.25,377.71z M845.29,782.75c0,4.98-4.04,9.02-9.03,9.02H732.17 c-4.98,0-9.01-4.04-9.01-9.02V595.23c0-49.34-17.64-83.05-61.86-83.05c-33.74,0-53.79,22.69-62.64,44.66 c-3.22,7.85-4.05,18.76-4.05,29.77v196.13c0,4.98-4.03,9.02-9.02,9.02H481.54c-5,0-9.05-4.03-9.02-9.02 c0.23-49.94,1.28-292.23,0.21-349.17c-0.09-5.05,3.97-9.13,9.02-9.13H585.6c4.98,0,9.02,4.04,9.02,9.02v43.03 c16.23-24.97,45.18-60.68,110.07-60.68c80.35,0,140.6,52.5,140.6,165.31V782.75z"})]})},k="Folke",S=1,C="https://www.instagram.com/finafolke/",D="@finafolke",I=function(e){var t=e.className;return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 334",className:t,children:[Object(u.jsx)("path",{fill:"#C80A61",d:"M166.67,196.17v137.5L100,267l-66.67,66.67v-137.5C73.35,224.21,126.65,224.21,166.67,196.17z"}),Object(u.jsx)("path",{fill:"#C80A61",d:"M100,200.33L100,200.33c-55.23,0-100-44.77-100-100v0c0-55.23,44.77-100,100-100h0c55.23,0,100,44.77,100,100 v0C200,155.56,155.23,200.33,100,200.33z"}),Object(u.jsx)("path",{fill:"#ffffff",d:"M69.94,67.1L46.28,85.81c-0.94,0.75-2.33,0.07-2.33-1.13V56.8c0-2.36,2.34-4.02,4.56-3.22L69.71,64.7 C70.63,65.18,70.75,66.46,69.94,67.1z"}),Object(u.jsx)("path",{fill:"#ffffff",d:"M156.05,56.8v27.9c0,1.2-1.39,1.87-2.33,1.13l-23.68-18.71c-0.82-0.65-0.7-1.92,0.22-2.4l21.21-11.14 C153.71,52.79,156.05,54.44,156.05,56.8z"}),Object(u.jsx)("path",{fill:"#ffffff",d:"M156.05,108.83v33.99c0,2.47-2,4.47-4.46,4.47h-23.49v-26.67c0-1.23-0.99-2.22-2.22-2.22h-23.73 c-1.23,0-2.22,0.99-2.22,2.22v26.67H48.41c-2.47,0-4.47-2-4.47-4.47v-33.99c0-1.35,0.03-2.84,1.69-4.51l51.59-40.76 c0.81-0.66,1.77-0.97,2.77-0.97c0.97,0,1.93,0.31,2.73,0.97l51.59,40.76C156.03,106.04,156.05,107.48,156.05,108.83z"})]})},N=a(218),M=a.n(N),_=(a(280),a(281),function(){var e=Object(s.useRef)(null),t=Object(s.useState)(null),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(s.useState)(null),o=Object(l.a)(i,2),c=o[0],N=o[1],_=Object(p.a)("Landing"),H=_.t,B=_.ready,F=Object(s.useCallback)((function(e){!function(){if(null!==e){var t=e.clientHeight,a=e.clientWidth;t>a?(n("".concat(a,"px")),N("".concat(a,"px"))):(n("".concat(t,"px")),N("".concat(t,"px")))}}()}),[]);return B?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - kattvakt online!"}),Object(u.jsx)("meta",{name:"description",content:"Att hitta en kattvakt du kan lita p\xe5 \xe4r ingen enkel uppgift. Vi \xe4r h\xe4r f\xf6r att hj\xe4lpa dig. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - kattvakt online!"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Att hitta en kattvakt du kan lita p\xe5 \xe4r ingen enkel uppgift. Vi \xe4r h\xe4r f\xf6r att hj\xe4lpa dig. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsx)("div",{style:{backgroundColor:"#fafafa"},children:Object(u.jsxs)("div",{className:"landing-wrapper",children:[Object(u.jsxs)("div",{className:"landing-carousel device-height",children:[Object(u.jsx)("div",{ref:F,className:"carousel-outer-wrapper",children:Object(u.jsxs)("div",{className:"carousel-inner-wrapper",style:{width:r,height:c,position:"relative"},children:[Object(u.jsx)(I,{className:"badge"}),Object(u.jsxs)("div",{className:"name-wrapper",children:[Object(u.jsx)("h2",{className:"title",children:H("Landing:weekly-cat",{count:S})}),Object(u.jsx)("h2",{className:"name",children:k})]}),Object(u.jsx)(M.a,Object(d.a)(Object(d.a)({},{dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,cssEase:"ease-in",speed:400,lazyLoad:"progressive"}),{},{children:Array.from({length:10},(function(e,t){return t+1})).map((function(e){return Object(u.jsx)("img",{src:"weekly/weekly_".concat(e,".jpg"),alt:"weekly cat ".concat(e)},"weekly_cat_".concat(e))}))}))]})}),Object(u.jsxs)("div",{className:"mobile-only",style:{width:"165px"},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(O.b,{to:"/search",children:Object(u.jsx)(m.a,{style:{width:"100%",marginTop:"0"},children:H("Landing:cta-find")})}),Object(u.jsx)(O.b,{to:"en"===window.localStorage.getItem("I18N_LANGUAGE")?"/become-host":"/bli-kattvakt",children:Object(u.jsx)(m.a,{style:{width:"100%",marginTop:"1rem"},children:H("Landing:cta-become")})})]}),Object(u.jsx)("div",{className:"scroll-down-cta",onClick:function(){window.scrollTo({top:e.current.getBoundingClientRect().top-60,behavior:"smooth"})},children:Object(u.jsx)(g.a,{link:!0,name:"angle down",size:"huge",color:"grey"})})]})]}),Object(u.jsxs)("div",{ref:e,className:"landing-text min-device-height",children:[Object(u.jsx)(h,{width:"100px"}),Object(u.jsx)(x.a,{as:"h1",children:H("Landing:title")}),Object(u.jsx)("p",{style:{textAlign:"center",maxWidth:"300px"},dangerouslySetInnerHTML:{__html:H("Landing:text")}}),Object(u.jsxs)("div",{style:{width:"165px"},children:[Object(u.jsx)(O.b,{to:"/search",children:Object(u.jsx)(m.a,{style:{width:"100%"},children:H("Landing:cta-find")})}),Object(u.jsx)(O.b,{to:"en"===window.localStorage.getItem("I18N_LANGUAGE")?"/become-host":"/bli-kattvakt",children:Object(u.jsx)(m.a,{style:{width:"100%"},children:H("Landing:cta-become")})})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"center",margin:"4rem auto"},children:[Object(u.jsx)("a",{href:"https://www.facebook.com/kattbnb/",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(f,{height:"3rem",fill:"silver",class:"some-icon"})}),Object(u.jsx)("a",{href:"https://www.instagram.com/kattbnb",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(y,{height:"3rem",fill:"silver",class:"some-icon"})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/company/28767809",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(w,{height:"3rem",fill:"silver",class:"some-icon"})})]}),Object(u.jsx)("p",{style:{fontSize:"small",color:"#a5a5a5"},children:Object(u.jsxs)(b.a,{i18nKey:"Landing:photo-credit",children:["Photo credit:",Object(u.jsx)("a",{href:C,target:"_blank",rel:"noopener noreferrer",children:{author:D}})]})})]})]})})]}):Object(u.jsx)(j,{})}),H=a(397),B=a(386),F=a(240),A=a(20),z=Object(A.b)((function(e){return{menuVisible:e.animation.menuVisible,currentUserIn:e.reduxTokenAuth.currentUser.isSignedIn,avatar:e.reduxTokenAuth.currentUser.attributes.avatar,username:e.reduxTokenAuth.currentUser.attributes.username}}))((function(e){var t="https://ui-avatars.com/api/?name=".concat(e.username,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false");return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(H.a,{id:"navbar",verticalAlign:"middle",columns:2,children:[Object(u.jsx)(H.a.Column,{style:{padding:"0"},id:"hamburger",width:4,children:Object(u.jsx)("button",{className:e.menuVisible?"hamburger hamburger--squeeze is-active":"hamburger hamburger--squeeze",style:{padding:"0"},type:"button",onClick:function(){return e.dispatch({type:"CHANGE_VISIBILITY"})},children:Object(u.jsx)("span",{className:"hamburger-box",children:Object(u.jsx)("span",{className:"hamburger-inner"})})})}),Object(u.jsxs)(H.a.Column,{style:{padding:"0",display:"flex",flexDirection:"row"},width:12,children:[Object(u.jsx)(B.a,{className:"navlink",as:O.b,to:"/search",onClick:e.menuVisible?function(){e.dispatch({type:"CHANGE_VISIBILITY"})}:function(){},children:Object(u.jsx)("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{fill:"#FFFFFF",d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})})}),Object(u.jsx)(B.a,{className:"navlink",style:{marginTop:"0.3rem"},as:O.b,to:e.currentUserIn?"/messenger":"/login",onClick:e.menuVisible?function(){e.dispatch({type:"CHANGE_VISIBILITY"})}:function(){},children:Object(u.jsx)("svg",{id:"messenger-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{fill:"#FFFFFF",d:"M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z"})})}),Object(u.jsx)(B.a,{className:"navlink",as:O.b,to:e.currentUserIn?"/all-bookings":"/login",onClick:e.menuVisible?function(){e.dispatch({type:"CHANGE_VISIBILITY"})}:function(){},children:Object(u.jsx)("svg",{id:"bookings-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{fill:"#FFFFFF",d:"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z"})})}),Object(u.jsx)(B.a,{className:"navlink",as:O.b,to:e.currentUserIn?"/user-page":"/login",onClick:e.menuVisible?function(){e.dispatch({type:"CHANGE_VISIBILITY"})}:function(){},children:e.currentUserIn?Object(u.jsx)(F.a,{id:"user-icon",src:null===e.avatar?t:e.avatar,style:{height:"5vh",width:"5vh",padding:"1px",border:"white solid 2px",borderRadius:"50%"}}):Object(u.jsxs)("svg",{id:"user-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(u.jsx)("path",{fill:"#FFFFFF",d:"M10,0A10,10,0,1,0,20,10,10,10,0,0,0,10,0Zm0,19a9,9,0,1,1,9-9A9,9,0,0,1,10,19Z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M10,11a3,3,0,0,0,3-3V6a3,3,0,0,0-3-3A3,3,0,0,0,7,6V8A3,3,0,0,0,10,11Z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M3.3,14.4a7.94,7.94,0,0,0,11.1,2.2,7.68,7.68,0,0,0,2.2-2.2A16.23,16.23,0,0,0,3.3,14.4Z"})]})})]})]})})})),T=a(14),L=a(15),P=a(19),Y=a(18),V=a(398),U=a(396),R=a(29),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not";"not"===e?(window.localStorage.removeItem("access-token"),window.localStorage.removeItem("token-type"),window.localStorage.removeItem("client"),window.localStorage.removeItem("uid"),window.localStorage.removeItem("expiry")):(window.localStorage.removeItem("access-token"),window.localStorage.removeItem("token-type"),window.localStorage.removeItem("client"),window.localStorage.removeItem("uid"),window.localStorage.removeItem("expiry"),window.location.replace(e))},K=a(7),E=a.n(K),G=a(185),W=a(241),Z=a(72);G.a.use(W.a).use(Z.e).init({fallbackLng:["en"],ns:["reusable"],lng:window.localStorage.getItem("I18N_LANGUAGE")||"sv",debug:!1,whitelist:["en","sv"],order:["navigator","querystring","cookie","localStorage","htmlTag","path","subdomain"],interpolation:{escapeValue:!1},react:{wait:!0,useSuspense:!1}});var J=G.a,Q=a(387),X=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).handleMenuVisibilty=function(t){e.props.menuVisbilityHandler()},e.signOut=function(t){t.preventDefault();var a=e.props.t;if(!1===window.navigator.onLine)window.alert(a("reusable:errors:window-navigator"));else{var s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.delete("/api/v1/auth/sign_out",{headers:s}).then((function(){q("/")})).catch((function(){q("/login")}))}},e}return Object(L.a)(a,[{key:"changeLng",value:function(e){J.changeLanguage(e),window.localStorage.setItem("I18N_LANGUAGE",e)}},{key:"render",value:function(){var e,t=this,a=this.props.t;return this.props.tReady?(e=this.props.currentUserIn?Object(u.jsx)(x.a,{id:"logout",className:"menu-link",as:O.b,onClick:this.signOut,children:a("reusable:title.logout")}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(x.a,{id:"login",className:"menu-link",as:O.b,to:"/login",children:a("reusable:title.login-signup")})}),Object(u.jsxs)(V.a,{id:"menu",as:U.a,animation:"overlay",direction:"left",visible:this.props.menuVisible,children:[e,Object(u.jsx)(x.a,{id:"about",className:"menu-link",as:O.b,to:"/about-us",children:a("reusable:title.about")}),Object(u.jsx)(x.a,{id:"faq",className:"menu-link",as:O.b,to:"faq",children:a("reusable:title.faq")}),Object(u.jsx)(x.a,{id:"contact",className:"menu-link",as:O.b,to:"/contact-us",children:a("reusable:title.contact")}),Object(u.jsx)(x.a,{id:"blog",className:"menu-link",as:O.b,to:"/blog",children:a("reusable:title.stories")}),Object(u.jsx)(x.a,{id:"legal",className:"menu-link",as:O.b,to:"/legal",children:a("reusable:title.legal")}),Object(u.jsxs)("div",{style:{display:"flex",alignSelf:"center"},children:[Object(u.jsx)(m.a,{id:"se",className:"lng-button",size:"mini",onClick:function(){return t.changeLng("sv")},children:"Svenska"}),Object(u.jsx)(m.a,{id:"en",className:"lng-button",size:"mini",onClick:function(){return t.changeLng("en")},children:"English"})]})]})):null}}]),a}(s.Component),$=Object(Q.a)()(Object(R.f)(Object(A.b)((function(e){return{menuVisible:e.animation.menuVisible,currentUserIn:e.reduxTokenAuth.currentUser.isSignedIn}}),{menuVisbilityHandler:function(e){return{type:"CHANGE_VISIBILITY",menuVisbible:e}}})(X))),ee=a(27),te=a(69),ae=a(393),se=a(392),re=a(391),ne=[{text:"Ale",key:"Ale",value:"Ale"},{text:"Alings\xe5s",key:"Alings\xe5s",value:"Alings\xe5s"},{text:"Alvesta",key:"Alvesta",value:"Alvesta"},{text:"Aneby",key:"Aneby",value:"Aneby"},{text:"Arboga",key:"Arboga",value:"Arboga"},{text:"Arjeplog",key:"Arjeplog",value:"Arjeplog"},{text:"Arvidsjaur",key:"Arvidsjaur",value:"Arvidsjaur"},{text:"Arvika",key:"Arvika",value:"Arvika"},{text:"Askersund",key:"Askersund",value:"Askersund"},{text:"Avesta",key:"Avesta",value:"Avesta"},{text:"Bengtsfors",key:"Bengtsfors",value:"Bengtsfors"},{text:"Berg",key:"Berg",value:"Berg"},{text:"Bjurholm",key:"Bjurholm",value:"Bjurholm"},{text:"Bjuv",key:"Bjuv",value:"Bjuv"},{text:"Boden",key:"Boden",value:"Boden"},{text:"Bollebygd",key:"Bollebygd",value:"Bollebygd"},{text:"Bolln\xe4s",key:"Bolln\xe4s",value:"Bolln\xe4s"},{text:"Borgholm",key:"Borgholm",value:"Borgholm"},{text:"Borl\xe4nge",key:"Borl\xe4nge",value:"Borl\xe4nge"},{text:"Bor\xe5s",key:"Bor\xe5s",value:"Bor\xe5s"},{text:"Botkyrka",key:"Botkyrka",value:"Botkyrka"},{text:"Boxholm",key:"Boxholm",value:"Boxholm"},{text:"Brom\xf6lla",key:"Brom\xf6lla",value:"Brom\xf6lla"},{text:"Br\xe4cke",key:"Br\xe4cke",value:"Br\xe4cke"},{text:"Burl\xf6v",key:"Burl\xf6v",value:"Burl\xf6v"},{text:"B\xe5stad",key:"B\xe5stad",value:"B\xe5stad"},{text:"Dals-Ed",key:"Dals-Ed",value:"Dals-Ed"},{text:"Danderyd",key:"Danderyd",value:"Danderyd"},{text:"Degerfors",key:"Degerfors",value:"Degerfors"},{text:"Dorotea",key:"Dorotea",value:"Dorotea"},{text:"Eda",key:"Eda",value:"Eda"},{text:"Eker\xf6",key:"Eker\xf6",value:"Eker\xf6"},{text:"Eksj\xf6",key:"Eksj\xf6",value:"Eksj\xf6"},{text:"Emmaboda",key:"Emmaboda",value:"Emmaboda"},{text:"Enk\xf6ping",key:"Enk\xf6ping",value:"Enk\xf6ping"},{text:"Eskilstuna",key:"Eskilstuna",value:"Eskilstuna"},{text:"Esl\xf6v",key:"Esl\xf6v",value:"Esl\xf6v"},{text:"Essunga",key:"Essunga",value:"Essunga"},{text:"Fagersta",key:"Fagersta",value:"Fagersta"},{text:"Falkenberg",key:"Falkenberg",value:"Falkenberg"},{text:"Falk\xf6ping",key:"Falk\xf6ping",value:"Falk\xf6ping"},{text:"Falu",key:"Falu",value:"Falu"},{text:"Filipstad",key:"Filipstad",value:"Filipstad"},{text:"Finsp\xe5ng",key:"Finsp\xe5ng",value:"Finsp\xe5ng"},{text:"Flen",key:"Flen",value:"Flen"},{text:"Forshaga",key:"Forshaga",value:"Forshaga"},{text:"F\xe4rgelanda",key:"F\xe4rgelanda",value:"F\xe4rgelanda"},{text:"Gagnef",key:"Gagnef",value:"Gagnef"},{text:"Gislaved",key:"Gislaved",value:"Gislaved"},{text:"Gnesta",key:"Gnesta",value:"Gnesta"},{text:"Gnosj\xf6",key:"Gnosj\xf6",value:"Gnosj\xf6"},{text:"Gotland",key:"Gotland",value:"Gotland"},{text:"Grums",key:"Grums",value:"Grums"},{text:"Gr\xe4storp",key:"Gr\xe4storp",value:"Gr\xe4storp"},{text:"Gullsp\xe5ng",key:"Gullsp\xe5ng",value:"Gullsp\xe5ng"},{text:"G\xe4llivare",key:"G\xe4llivare",value:"G\xe4llivare"},{text:"G\xe4vle",key:"G\xe4vle",value:"G\xe4vle"},{text:"G\xf6teborg",key:"G\xf6teborg",value:"G\xf6teborg"},{text:"G\xf6tene",key:"G\xf6tene",value:"G\xf6tene"},{text:"Habo",key:"Habo",value:"Habo"},{text:"Hagfors",key:"Hagfors",value:"Hagfors"},{text:"Hallsberg",key:"Hallsberg",value:"Hallsberg"},{text:"Hallstahammar",key:"Hallstahammar",value:"Hallstahammar"},{text:"Halmstad",key:"Halmstad",value:"Halmstad"},{text:"Hammar\xf6",key:"Hammar\xf6",value:"Hammar\xf6"},{text:"Haninge",key:"Haninge",value:"Haninge"},{text:"Haparanda",key:"Haparanda",value:"Haparanda"},{text:"Heby",key:"Heby",value:"Heby"},{text:"Hedemora",key:"Hedemora",value:"Hedemora"},{text:"Helsingborg",key:"Helsingborg",value:"Helsingborg"},{text:"Herrljunga",key:"Herrljunga",value:"Herrljunga"},{text:"Hjo",key:"Hjo",value:"Hjo"},{text:"Hofors",key:"Hofors",value:"Hofors"},{text:"Huddinge",key:"Huddinge",value:"Huddinge"},{text:"Hudiksvall",key:"Hudiksvall",value:"Hudiksvall"},{text:"Hultsfred",key:"Hultsfred",value:"Hultsfred"},{text:"Hylte",key:"Hylte",value:"Hylte"},{text:"H\xe5bo",key:"H\xe5bo",value:"H\xe5bo"},{text:"H\xe4llefor",key:"H\xe4llefor",value:"H\xe4llefor"},{text:"H\xe4rjedalen",key:"H\xe4rjedalen",value:"H\xe4rjedalen"},{text:"H\xe4rn\xf6sand",key:"H\xe4rn\xf6sand",value:"H\xe4rn\xf6sand"},{text:"H\xe4rryda",key:"H\xe4rryda",value:"H\xe4rryda"},{text:"H\xe4ssleholm",key:"H\xe4ssleholm",value:"H\xe4ssleholm"},{text:"H\xf6gan\xe4",key:"H\xf6gan\xe4",value:"H\xf6gan\xe4"},{text:"H\xf6gsby",key:"H\xf6gsby",value:"H\xf6gsby"},{text:"H\xf6rby",key:"H\xf6rby",value:"H\xf6rby"},{text:"H\xf6\xf6r",key:"H\xf6\xf6r",value:"H\xf6\xf6r"},{text:"Jokkmokk",key:"Jokkmokk",value:"Jokkmokk"},{text:"J\xe4rf\xe4lla",key:"J\xe4rf\xe4lla",value:"J\xe4rf\xe4lla"},{text:"J\xf6nk\xf6ping",key:"J\xf6nk\xf6ping",value:"J\xf6nk\xf6ping"},{text:"Kalix",key:"Kalix",value:"Kalix"},{text:"Kalmar",key:"Kalmar",value:"Kalmar"},{text:"Karlsborg",key:"Karlsborg",value:"Karlsborg"},{text:"Karlshamn",key:"Karlshamn",value:"Karlshamn"},{text:"Karlskoga",key:"Karlskoga",value:"Karlskoga"},{text:"Karlskrona",key:"Karlskrona",value:"Karlskrona"},{text:"Karlstad",key:"Karlstad",value:"Karlstad"},{text:"Katrineholm",key:"Katrineholm",value:"Katrineholm"},{text:"Kil",key:"Kil",value:"Kil"},{text:"Kinda",key:"Kinda",value:"Kinda"},{text:"Kiruna",key:"Kiruna",value:"Kiruna"},{text:"Klippan",key:"Klippan",value:"Klippan"},{text:"Knivsta",key:"Knivsta",value:"Knivsta"},{text:"Kramfors",key:"Kramfors",value:"Kramfors"},{text:"Kristianstad",key:"Kristianstad",value:"Kristianstad"},{text:"Kristinehamn",key:"Kristinehamn",value:"Kristinehamn"},{text:"Krokom",key:"Krokom",value:"Krokom"},{text:"Kumla",key:"Kumla",value:"Kumla"},{text:"Kungsbacka",key:"Kungsbacka",value:"Kungsbacka"},{text:"Kungs\xf6r",key:"Kungs\xf6r",value:"Kungs\xf6r"},{text:"Kung\xe4lv",key:"Kung\xe4lv",value:"Kung\xe4lv"},{text:"K\xe4vlinge",key:"K\xe4vlinge",value:"K\xe4vlinge"},{text:"K\xf6ping",key:"K\xf6ping",value:"K\xf6ping"},{text:"Laholm",key:"Laholm",value:"Laholm"},{text:"Landskrona",key:"Landskrona",value:"Landskrona"},{text:"Lax\xe5",key:"Lax\xe5",value:"Lax\xe5"},{text:"Lekeberg",key:"Lekeberg",value:"Lekeberg"},{text:"Leksand",key:"Leksand",value:"Leksand"},{text:"Lerum",key:"Lerum",value:"Lerum"},{text:"Lessebo",key:"Lessebo",value:"Lessebo"},{text:"Liding\xf6",key:"Liding\xf6",value:"Liding\xf6"},{text:"Lidk\xf6ping",key:"Lidk\xf6ping",value:"Lidk\xf6ping"},{text:"Lilla",key:"Lilla",value:"Lilla"},{text:"Lindesberg",key:"Lindesberg",value:"Lindesberg"},{text:"Link\xf6ping",key:"Link\xf6ping",value:"Link\xf6ping"},{text:"Ljungby",key:"Ljungby",value:"Ljungby"},{text:"Ljusdal",key:"Ljusdal",value:"Ljusdal"},{text:"Ljusnarsberg",key:"Ljusnarsberg",value:"Ljusnarsberg"},{text:"Lomma",key:"Lomma",value:"Lomma"},{text:"Ludvika",key:"Ludvika",value:"Ludvika"},{text:"Lule\xe5",key:"Lule\xe5",value:"Lule\xe5"},{text:"Lund",key:"Lund",value:"Lund"},{text:"Lycksele",key:"Lycksele",value:"Lycksele"},{text:"Lysekil",key:"Lysekil",value:"Lysekil"},{text:"Malm\xf6",key:"Malm\xf6",value:"Malm\xf6"},{text:"Malung-S\xe4len",key:"Malung-S\xe4len",value:"Malung-S\xe4len"},{text:"Mal\xe5",key:"Mal\xe5",value:"Mal\xe5"},{text:"Mariestad",key:"Mariestad",value:"Mariestad"},{text:"Mark",key:"Mark",value:"Mark"},{text:"Markaryd",key:"Markaryd",value:"Markaryd"},{text:"Mellerud",key:"Mellerud",value:"Mellerud"},{text:"Mj\xf6lby",key:"Mj\xf6lby",value:"Mj\xf6lby"},{text:"Mora",key:"Mora",value:"Mora"},{text:"Motala",key:"Motala",value:"Motala"},{text:"Mullsj\xf6",key:"Mullsj\xf6",value:"Mullsj\xf6"},{text:"Munkedal",key:"Munkedal",value:"Munkedal"},{text:"Munkfors",key:"Munkfors",value:"Munkfors"},{text:"M\xf6lndal",key:"M\xf6lndal",value:"M\xf6lndal"},{text:"M\xf6nster\xe5",key:"M\xf6nster\xe5",value:"M\xf6nster\xe5"},{text:"M\xf6rbyl\xe5nga",key:"M\xf6rbyl\xe5nga",value:"M\xf6rbyl\xe5nga"},{text:"Nacka",key:"Nacka",value:"Nacka"},{text:"Nora",key:"Nora",value:"Nora"},{text:"Norberg",key:"Norberg",value:"Norberg"},{text:"Nordanstig",key:"Nordanstig",value:"Nordanstig"},{text:"Nordmaling",key:"Nordmaling",value:"Nordmaling"},{text:"Norrk\xf6ping",key:"Norrk\xf6ping",value:"Norrk\xf6ping"},{text:"Norrt\xe4lje",key:"Norrt\xe4lje",value:"Norrt\xe4lje"},{text:"Norsj\xf6",key:"Norsj\xf6",value:"Norsj\xf6"},{text:"Nybro",key:"Nybro",value:"Nybro"},{text:"Nykvarn",key:"Nykvarn",value:"Nykvarn"},{text:"Nyk\xf6ping",key:"Nyk\xf6ping",value:"Nyk\xf6ping"},{text:"Nyn\xe4shamn",key:"Nyn\xe4shamn",value:"Nyn\xe4shamn"},{text:"N\xe4ssj\xf6",key:"N\xe4ssj\xf6",value:"N\xe4ssj\xf6"},{text:"Ockelbo",key:"Ockelbo",value:"Ockelbo"},{text:"Olofstr\xf6m",key:"Olofstr\xf6m",value:"Olofstr\xf6m"},{text:"Orsa",key:"Orsa",value:"Orsa"},{text:"Orust",key:"Orust",value:"Orust"},{text:"Osby",key:"Osby",value:"Osby"},{text:"Oskarshamn",key:"Oskarshamn",value:"Oskarshamn"},{text:"Ovan\xe5ker",key:"Ovan\xe5ker",value:"Ovan\xe5ker"},{text:"Oxel\xf6sund",key:"Oxel\xf6sund",value:"Oxel\xf6sund"},{text:"Pajala",key:"Pajala",value:"Pajala"},{text:"Partille",key:"Partille",value:"Partille"},{text:"Perstorp",key:"Perstorp",value:"Perstorp"},{text:"Pite\xe5",key:"Pite\xe5",value:"Pite\xe5"},{text:"Ragunda",key:"Ragunda",value:"Ragunda"},{text:"Robertsfors",key:"Robertsfors",value:"Robertsfors"},{text:"Ronneby",key:"Ronneby",value:"Ronneby"},{text:"R\xe4ttvik",key:"R\xe4ttvik",value:"R\xe4ttvik"},{text:"Sala",key:"Sala",value:"Sala"},{text:"Salem",key:"Salem",value:"Salem"},{text:"Sandviken",key:"Sandviken",value:"Sandviken"},{text:"Sigtuna",key:"Sigtuna",value:"Sigtuna"},{text:"Simrishamn",key:"Simrishamn",value:"Simrishamn"},{text:"Sj\xf6bo",key:"Sj\xf6bo",value:"Sj\xf6bo"},{text:"Skara",key:"Skara",value:"Skara"},{text:"Skellefte\xe5",key:"Skellefte\xe5",value:"Skellefte\xe5"},{text:"Skinnskatteberg",key:"Skinnskatteberg",value:"Skinnskatteberg"},{text:"Skurup",key:"Skurup",value:"Skurup"},{text:"Sk\xf6vde",key:"Sk\xf6vde",value:"Sk\xf6vde"},{text:"Smedjebacken",key:"Smedjebacken",value:"Smedjebacken"},{text:"Sollefte\xe5",key:"Sollefte\xe5",value:"Sollefte\xe5"},{text:"Sollentuna",key:"Sollentuna",value:"Sollentuna"},{text:"Solna",key:"Solna",value:"Solna"},{text:"Sorsele",key:"Sorsele",value:"Sorsele"},{text:"Soten\xe4",key:"Soten\xe4",value:"Soten\xe4"},{text:"Staffanstorp",key:"Staffanstorp",value:"Staffanstorp"},{text:"Stenungsund",key:"Stenungsund",value:"Stenungsund"},{text:"Stockholm",key:"Stockholm",value:"Stockholm"},{text:"Storfors",key:"Storfors",value:"Storfors"},{text:"Storuman",key:"Storuman",value:"Storuman"},{text:"Str\xe4ngn\xe4",key:"Str\xe4ngn\xe4",value:"Str\xe4ngn\xe4"},{text:"Str\xf6mstad",key:"Str\xf6mstad",value:"Str\xf6mstad"},{text:"Str\xf6msund",key:"Str\xf6msund",value:"Str\xf6msund"},{text:"Sundbyberg",key:"Sundbyberg",value:"Sundbyberg"},{text:"Sundsvall",key:"Sundsvall",value:"Sundsvall"},{text:"Sunne",key:"Sunne",value:"Sunne"},{text:"Surahammar",key:"Surahammar",value:"Surahammar"},{text:"Sval\xf6v",key:"Sval\xf6v",value:"Sval\xf6v"},{text:"Svedala",key:"Svedala",value:"Svedala"},{text:"Svenljunga",key:"Svenljunga",value:"Svenljunga"},{text:"S\xe4ffle",key:"S\xe4ffle",value:"S\xe4ffle"},{text:"S\xe4ter",key:"S\xe4ter",value:"S\xe4ter"},{text:"S\xe4vsj\xf6",key:"S\xe4vsj\xf6",value:"S\xe4vsj\xf6"},{text:"S\xf6derhamn",key:"S\xf6derhamn",value:"S\xf6derhamn"},{text:"S\xf6derk\xf6ping",key:"S\xf6derk\xf6ping",value:"S\xf6derk\xf6ping"},{text:"S\xf6dert\xe4lje",key:"S\xf6dert\xe4lje",value:"S\xf6dert\xe4lje"},{text:"S\xf6lvesborg",key:"S\xf6lvesborg",value:"S\xf6lvesborg"},{text:"Tanum",key:"Tanum",value:"Tanum"},{text:"Tibro",key:"Tibro",value:"Tibro"},{text:"Tidaholm",key:"Tidaholm",value:"Tidaholm"},{text:"Tierp",key:"Tierp",value:"Tierp"},{text:"Timr\xe5",key:"Timr\xe5",value:"Timr\xe5"},{text:"Tingsryd",key:"Tingsryd",value:"Tingsryd"},{text:"Tj\xf6rn",key:"Tj\xf6rn",value:"Tj\xf6rn"},{text:"Tomelilla",key:"Tomelilla",value:"Tomelilla"},{text:"Torsby",key:"Torsby",value:"Torsby"},{text:"Tors\xe5",key:"Tors\xe5",value:"Tors\xe5"},{text:"Tranemo",key:"Tranemo",value:"Tranemo"},{text:"Tran\xe5",key:"Tran\xe5",value:"Tran\xe5"},{text:"Trelleborg",key:"Trelleborg",value:"Trelleborg"},{text:"Trollh\xe4ttan",key:"Trollh\xe4ttan",value:"Trollh\xe4ttan"},{text:"Trosa",key:"Trosa",value:"Trosa"},{text:"Tyres\xf6",key:"Tyres\xf6",value:"Tyres\xf6"},{text:"T\xe4by",key:"T\xe4by",value:"T\xe4by"},{text:"T\xf6reboda",key:"T\xf6reboda",value:"T\xf6reboda"},{text:"Uddevalla",key:"Uddevalla",value:"Uddevalla"},{text:"Ulricehamn",key:"Ulricehamn",value:"Ulricehamn"},{text:"Ume\xe5",key:"Ume\xe5",value:"Ume\xe5"},{text:"Uppland",key:"Uppland",value:"Uppland"},{text:"Upplands-Bro",key:"Upplands-Bro",value:"Upplands-Bro"},{text:"Uppsala",key:"Uppsala",value:"Uppsala"},{text:"Uppvidinge",key:"Uppvidinge",value:"Uppvidinge"},{text:"Vadstena",key:"Vadstena",value:"Vadstena"},{text:"Vaggeryd",key:"Vaggeryd",value:"Vaggeryd"},{text:"Valdemarsvik",key:"Valdemarsvik",value:"Valdemarsvik"},{text:"Vallentuna",key:"Vallentuna",value:"Vallentuna"},{text:"Vansbro",key:"Vansbro",value:"Vansbro"},{text:"Vara",key:"Vara",value:"Vara"},{text:"Varberg",key:"Varberg",value:"Varberg"},{text:"Vaxholm",key:"Vaxholm",value:"Vaxholm"},{text:"Vellinge",key:"Vellinge",value:"Vellinge"},{text:"Vetlanda",key:"Vetlanda",value:"Vetlanda"},{text:"Vilhelmina",key:"Vilhelmina",value:"Vilhelmina"},{text:"Vimmerby",key:"Vimmerby",value:"Vimmerby"},{text:"Vindeln",key:"Vindeln",value:"Vindeln"},{text:"Ving\xe5ker",key:"Ving\xe5ker",value:"Ving\xe5ker"},{text:"V\xe5rg\xe5rda",key:"V\xe5rg\xe5rda",value:"V\xe5rg\xe5rda"},{text:"V\xe4nersborg",key:"V\xe4nersborg",value:"V\xe4nersborg"},{text:"V\xe4nn\xe4",key:"V\xe4nn\xe4",value:"V\xe4nn\xe4"},{text:"V\xe4rmd\xf6",key:"V\xe4rmd\xf6",value:"V\xe4rmd\xf6"},{text:"V\xe4rnamo",key:"V\xe4rnamo",value:"V\xe4rnamo"},{text:"V\xe4stervik",key:"V\xe4stervik",value:"V\xe4stervik"},{text:"V\xe4ster\xe5s",key:"V\xe4ster\xe5s",value:"V\xe4ster\xe5s"},{text:"V\xe4xj\xf6",key:"V\xe4xj\xf6",value:"V\xe4xj\xf6"},{text:"Ydre",key:"Ydre",value:"Ydre"},{text:"Ystad",key:"Ystad",value:"Ystad"},{text:"\xc5m\xe5l",key:"\xc5m\xe5l",value:"\xc5m\xe5l"},{text:"\xc5nge",key:"\xc5nge",value:"\xc5nge"},{text:"\xc5re",key:"\xc5re",value:"\xc5re"},{text:"\xc5rj\xe4ng",key:"\xc5rj\xe4ng",value:"\xc5rj\xe4ng"},{text:"\xc5sele",key:"\xc5sele",value:"\xc5sele"},{text:"\xc5storp",key:"\xc5storp",value:"\xc5storp"},{text:"\xc5tvidaberg",key:"\xc5tvidaberg",value:"\xc5tvidaberg"},{text:"\xc4lmhult",key:"\xc4lmhult",value:"\xc4lmhult"},{text:"\xc4lvdalen",key:"\xc4lvdalen",value:"\xc4lvdalen"},{text:"\xc4lvkarleby",key:"\xc4lvkarleby",value:"\xc4lvkarleby"},{text:"\xc4lvsbyn",key:"\xc4lvsbyn",value:"\xc4lvsbyn"},{text:"\xc4ngelholm",key:"\xc4ngelholm",value:"\xc4ngelholm"},{text:"\xd6cker\xf6",key:"\xd6cker\xf6",value:"\xd6cker\xf6"},{text:"\xd6desh\xf6g",key:"\xd6desh\xf6g",value:"\xd6desh\xf6g"},{text:"\xd6rebro",key:"\xd6rebro",value:"\xd6rebro"},{text:"\xd6rkelljunga",key:"\xd6rkelljunga",value:"\xd6rkelljunga"},{text:"\xd6rnsk\xf6ldsvik",key:"\xd6rnsk\xf6ldsvik",value:"\xd6rnsk\xf6ldsvik"},{text:"\xd6stersund",key:"\xd6stersund",value:"\xd6stersund"},{text:"\xd6ster\xe5ker",key:"\xd6ster\xe5ker",value:"\xd6ster\xe5ker"},{text:"\xd6sthammar",key:"\xd6sthammar",value:"\xd6sthammar"},{text:"\xd6stra",key:"\xd6stra",value:"\xd6stra"},{text:"\xd6verkalix",key:"\xd6verkalix",value:"\xd6verkalix"},{text:"\xd6vertorne\xe5",key:"\xd6vertorne\xe5",value:"\xd6vertorne\xe5"}],ie=a(8),oe=a.n(ie),ce=a(184),le=a.n(ce),de=(a(321),function(){return null===window.localStorage.getItem("I18N_LANGUAGE")||""===window.localStorage.getItem("I18N_LANGUAGE")||"sv"===window.localStorage.getItem("I18N_LANGUAGE")?"sv-SE":"en-US"}),ue=a(49),he=a.n(ue),je=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var s;return Object(T.a)(this,a),(s=t.call(this,e)).onChangeHandler=function(e){s.setState(Object(ee.a)({},e.target.id,e.target.value))},s.handleLocationChange=function(e,t){var a=t.value;s.setState({location:a})},s.clearDates=function(){s.setState({from:void 0,to:void 0,errorDisplay:!1,errors:""})},s.listenEnterKeySearch=function(e){"Enter"===e.key&&s.search(e)},s.search=function(e){if(e.preventDefault(),s.state.cats<=0||s.state.cats%1!==0)s.setState({errorDisplay:!0,errors:["Search:error-1"]});else if(""===s.state.location||void 0===s.state.location)s.setState({errorDisplay:!0,errors:["Search:error-2"]});else if(void 0===s.state.to||void 0===s.state.from)s.setState({errorDisplay:!0,errors:["Search:error-3"]});else{var t=Date.UTC(s.state.from.getUTCFullYear(),s.state.from.getUTCMonth(),s.state.from.getUTCDate()),a=new Date(t).getTime(),r=Date.UTC(s.state.to.getUTCFullYear(),s.state.to.getUTCMonth(),s.state.to.getUTCDate()),n=new Date(r).getTime();s.props.history.push({pathname:"/search-results",search:"?from=".concat(a,"&to=").concat(n,"&cats=").concat(s.state.cats,"&location=").concat(s.state.location,"&view=map")})}},s.handleFromChange=s.handleFromChange.bind(Object(te.a)(s)),s.handleToChange=s.handleToChange.bind(Object(te.a)(s)),s.state={errorDisplay:!1,errors:"",location:s.props.location,cats:"",from:void 0,to:void 0},s}return Object(L.a)(a,[{key:"componentDidMount",value:function(){void 0!==this.props.history.location.state&&this.setState({from:this.props.history.location.state.checkInDate,to:this.props.history.location.state.checkOutDate,location:this.props.history.location.state.location,cats:this.props.history.location.state.numberOfCats})}},{key:"showFromMonth",value:function(){var e=this.state,t=e.from,a=e.to;t&&oe()(a).diff(oe()(t),"months")<2&&this.to.getDayPicker().showMonth(t)}},{key:"handleFromChange",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({from:t});case 2:this.to.getInput().focus();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleToChange",value:function(e){this.setState({to:e},this.showFromMonth)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t;if(t.tReady){var s,r=de(),n=this.state,i=n.from,o=n.to,c={start:i,end:o},l=new Date;return this.state.errorDisplay&&(s=Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{children:a("Search:error-header")}),Object(u.jsx)("ul",{children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]})),Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - boka kattvakt online!"}),Object(u.jsx)("meta",{name:"description",content:"Det \xe4r inte enkelt att hitta en p\xe5litlig kattvakt. Men lugn, vi l\xf6ser det. P\xe5 KattBNB bokar du kattvakt online - snabbt och enkelt!"}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/search"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - boka kattvakt online!"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/search"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"St\xe4ll inte in din semester. Vi har kattvakt till din katt. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsx)(x.a,{as:"h1",children:a("Search:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsxs)(se.a,{id:"search-form",style:{margin:"auto",maxWidth:"177px"},children:[Object(u.jsxs)("div",{className:"required field",style:{marginBottom:"0.5em"},children:[Object(u.jsx)("label",{children:a("Search:when")}),Object(u.jsx)("div",{className:"InputFromTo",children:Object(u.jsx)(le.a,{value:i||a("Search:checkin"),format:"LL",formatDate:ue.formatDate,parseDate:ue.parseDate,inputProps:{readOnly:!0},dayPickerProps:{selectedDays:[i,{from:i,to:o}],disabledDays:{after:o,before:l},fromMonth:l,toMonth:o,modifiers:c,numberOfMonths:1,firstDayOfWeek:1,localeUtils:he.a,locale:r,showWeekNumbers:!0},onDayChange:this.handleFromChange})}),Object(u.jsx)("div",{className:"InputFromTo",style:{marginTop:"0.5em"},children:Object(u.jsx)(le.a,{ref:function(t){return e.to=t},value:o||a("Search:checkout"),format:"LL",formatDate:ue.formatDate,parseDate:ue.parseDate,inputProps:void 0===this.state.from?{disabled:!0}:{disabled:!1,readOnly:!0},dayPickerProps:{selectedDays:[i,{from:i,to:o}],disabledDays:void 0!==this.state.from?{before:i}:{before:l},modifiers:c,firstDayOfWeek:1,showWeekNumbers:!0,month:i,fromMonth:i,localeUtils:he.a,locale:r,numberOfMonths:1},onDayChange:this.handleToChange})})]}),Object(u.jsx)("div",{style:void 0===this.state.from&&void 0===this.state.to?{visibility:"hidden"}:{},children:Object(u.jsx)(x.a,{className:"fake-link-underlined",style:{textAlign:"right"},onClick:this.clearDates,children:a("Search:reset")})}),Object(u.jsxs)("div",{className:"required field",style:{marginBottom:"1.5em"},children:[Object(u.jsx)("label",{children:a("Search:where")}),Object(u.jsx)(re.a,{clearable:!0,search:!0,selection:!0,value:this.state.location,placeholder:a("Search:where-plch"),options:ne,id:"location",onChange:this.handleLocationChange,onKeyPress:this.listenEnterKeySearch})]}),Object(u.jsx)(se.a.Input,{label:a("Search:how-many"),type:"number",required:!0,id:"cats",value:this.state.cats,onChange:this.onChangeHandler,onKeyPress:this.listenEnterKeySearch,style:{maxWidth:"180px",height:"38px"}})]}),s,Object(u.jsx)("div",{className:"button-wrapper",children:Object(u.jsx)("div",{children:Object(u.jsx)(m.a,{id:"search-button",className:"submit-button",onClick:this.search,children:a("Search:cta")})})}),Object(u.jsx)("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(u.jsx)(O.b,{to:"/area-list",className:"discreet-link",children:a("Search:sitters-near-you")})})]})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),pe=Object(Q.a)("Search")(Object(A.b)((function(e){return{location:e.reduxTokenAuth.currentUser.attributes.location}}))(je)),be=a(60),me=a.n(be),ge=function(e){return Object(u.jsxs)("div",{style:{display:"flex",margin:e.margin||"1rem 0",alignItems:"flex-end",justifyContent:e.center?"center":"unset"},children:[[1,2,3,4,5].map((function(t){return e.score%1!==0&&Math.floor(e.score)+1===t?Object(u.jsx)("div",{onClick:e.setScore,id:t,style:{marginRight:"0.5rem",cursor:e.clickable?"pointer":"unset"},children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.height||"2em",viewBox:"0 0 25 25",children:[Object(u.jsx)("path",{fill:"#C90C61",d:"M8.5,11.4c2,0,3.6-2.2,3.6-4.9s-1.6-4.9-3.6-4.9S4.9,3.9,4.9,6.5C4.9,9.2,6.5,11.4,8.5,11.4z"}),Object(u.jsx)("path",{fill:"#C0C0C0",d:"M16.2,11.4c2,0,3.6-2.2,3.6-4.9s-1.6-4.9-3.6-4.9c-2,0-3.6,2.2-3.6,4.9C12.6,9.2,14.2,11.4,16.2,11.4z"}),Object(u.jsx)("path",{fill:"#C0C0C0",d:"M22.1,8.9c-1.6,0-2.9,1.7-2.9,3.8s1.3,3.8,2.9,3.8c1.6,0,2.9-1.7,2.9-3.8S23.8,8.9,22.1,8.9z"}),Object(u.jsx)("path",{fill:"#C90C61",d:"M5.7,12.7c0-2.1-1.3-3.8-2.9-3.8C1.2,8.9,0,10.6,0,12.7s1.3,3.8,2.9,3.8S5.7,14.8,5.7,12.7z"}),Object(u.jsx)("path",{fill:"#C0C0C0",d:"M19.5,16.5c-0.1-0.1-0.1-0.2-0.2-0.4c-0.1-0.1-0.1-0.2-0.2-0.3c-0.8-1.7-3-3.8-6.6-3.8h-0.1v9.1 c0.6,0,0.9,0.1,1,0.1c0.7,0.3,1.2,0.7,1.8,1c0.8,0.6,1.6,1.1,2.5,1.1c0.4,0,0.7-0.1,1.1-0.3C20.6,22,20.9,19,19.5,16.5z"}),Object(u.jsx)("path",{fill:"#C90C61",d:"M5.7,15.8c0,0.1-0.1,0.1-0.2,0.2c-0.1,0.1-0.2,0.2-0.2,0.3c-0.7,1.2-1.1,2.5-1.1,3.7c0.1,1.3,0.6,2.3,1.5,2.9 c0.4,0.2,0.8,0.4,1.2,0.4c0.9,0,1.6-0.5,2.6-1c0.6-0.4,1.2-0.7,1.9-1c0.1,0,0.4-0.1,0.9-0.1h0.1V12C8.8,12,6.5,14,5.7,15.8z"})]})},t):Object(u.jsx)("div",{onClick:e.setScore,id:t,style:{marginRight:"0.5rem",cursor:e.clickable?"pointer":"unset"},children:Object(u.jsxs)("svg",{fill:Math.floor(e.score)>=t?"#c90c61":"silver",height:e.height||"2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 390.1 390.1",children:[Object(u.jsx)("path",{d:"M132.6,177.9c31.2,0,56.5-34,56.5-75.8c0-41.8-25.3-75.8-56.5-75.8c-31.2,0-56.5,34-56.5,75.8 C76.1,143.8,101.5,177.9,132.6,177.9z"}),Object(u.jsx)("path",{d:"M300.2,251.6c-1.2-1.6-2.3-3.1-2.9-4.3c-12.6-27-47.3-58.9-103.4-59.7l-2.2,0c-55.2,0-89.6,30.2-103.4,58.5 c-0.5,1-1.5,2.2-2.6,3.5c-1.3,1.6-2.6,3.1-3.7,4.9c-11.6,18.1-17.5,38.4-16.7,57.3c0.9,20,9.3,36.1,23.6,45.3 c5.8,3.7,12,5.6,18.5,5.6c13.5,0,25.8-7.6,40.1-16.4c9.1-5.6,18.5-11.4,28.9-15.7c1.2-0.4,6-1,13.8-1c9.3,0,16,0.8,17.4,1.3 c10.2,4.5,19.1,10.4,27.7,16.1c13.2,8.7,25.8,17,39.3,17c5.8,0,11.5-1.5,16.8-4.6c29.4-16.7,35-62.5,12.5-102.1 C302.9,255.3,301.6,253.4,300.2,251.6z"}),Object(u.jsx)("path",{d:"M252.8,177.9c31.1,0,56.5-34,56.5-75.8c0-41.8-25.4-75.8-56.5-75.8c-31.2,0-56.5,34-56.5,75.8 C196.3,143.8,221.6,177.9,252.8,177.9z"}),Object(u.jsx)("path",{d:"M345.6,138.9c-25,0-44.5,25.9-44.5,59c0,33.1,19.6,59,44.5,59c25,0,44.5-25.9,44.5-59 C390.1,164.8,370.6,138.9,345.6,138.9z"}),Object(u.jsx)("path",{d:"M89,197.9c0-33.1-19.6-59-44.5-59c-25,0-44.5,25.9-44.5,59c0,33.1,19.6,59,44.5,59S89,230.9,89,197.9z"})]})},t)})),e.displayNumerical&&Object(u.jsxs)("p",{style:{color:"silver",marginLeft:"0.5rem"},children:["(",e.score%1!==0?parseFloat(e.score).toFixed(1):e.score,"/5)"]})]})},xe=function(e){var t=e.toFixed(2);return"0"===t[t.length-1]&&"0"===t[t.length-2]?parseFloat(t):t},Oe=function(e,t,a,s,r){var n=parseFloat(e)+(parseFloat(t)-1)*parseFloat(a),i=parseFloat(n)*parseFloat((r-s)/864e5+1);return xe(i)},ve=function(e,t,a,s,r){var n=parseFloat(e)+(parseFloat(t)-1)*parseFloat(a),i=parseFloat(n)*parseFloat((r-s)/864e5+1),o=.17*parseFloat(i),c=.25*parseFloat(o),l=parseFloat(i)+parseFloat(o)+parseFloat(c);return xe(l)},fe=function(e,t,a,s,r){var n=ve(e,t,a,s,r)/parseFloat((r-s)/864e5+1);return xe(n)},ye=function(e){var t=.17*parseFloat(e),a=.25*parseFloat(t),s=parseFloat(e)+parseFloat(t)+parseFloat(a);return xe(s)},we=function(e){return Object(u.jsx)("svg",{fill:e.fill,height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})})},ke=function(e){return Object(u.jsx)("svg",{fill:e.fill,height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",children:Object(u.jsx)("path",{d:"M24.7,13c0.4-0.3,0.4-0.9,0-1.3l-2-1.6c-0.3-0.2-0.4-0.6-0.3-0.9l0.9-2.4c0.2-0.5-0.1-1-0.6-1.1l-2.5-0.4 c-0.3-0.1-0.6-0.3-0.7-0.7L19,2.2c-0.1-0.5-0.6-0.8-1.1-0.6l-2.4,0.9c-0.3,0.1-0.7,0-0.9-0.2L13,0.3c-0.3-0.4-0.9-0.4-1.3,0l-1.6,2 C9.9,2.6,9.5,2.7,9.2,2.6L6.8,1.7c-0.5-0.2-1,0.1-1.1,0.6L5.3,4.9C5.3,5.2,5,5.5,4.7,5.5L2.1,6C1.6,6.1,1.3,6.6,1.5,7.1l0.9,2.4 c0.1,0.3,0,0.7-0.2,0.9l-1.9,1.7c-0.4,0.3-0.4,0.9,0,1.2l2,1.6c0.3,0.2,0.4,0.6,0.3,0.9l-0.9,2.4c-0.2,0.5,0.1,1,0.6,1.1l2.5,0.4 c0.3,0.1,0.6,0.3,0.7,0.7L6,22.9c0.1,0.5,0.6,0.8,1.1,0.6l2.4-0.9c0.3-0.1,0.7,0,0.9,0.2l1.7,2c0.3,0.4,0.9,0.4,1.3,0l1.6-2 c0.2-0.3,0.6-0.4,0.9-0.3l2.4,0.9c0.5,0.2,1-0.1,1.1-0.6l0.4-2.5c0.1-0.3,0.3-0.6,0.7-0.7l2.5-0.5c0.5-0.1,0.8-0.6,0.6-1.1l-0.9-2.4 c-0.1-0.3,0-0.7,0.2-0.9L24.7,13z M11.2,17.2l-4.9-4.9l1.9-1.9l3.1,3.1l5.7-5.7l1.9,1.9L11.2,17.2z"})})},Se=function(e){return Object(u.jsxs)("svg",{height:e.height,viewBox:"0 0 48 53",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("path",{d:"M10.02 22.7035V27.7487H15.0301V22.7035H10.02ZM10.02 32.7939V37.8391H15.0301V32.7939H10.02ZM20.0401 22.7035V27.7487H25.0501V22.7035H20.0401ZM20.0401 32.7939V37.8391H25.0501V32.7939H20.0401ZM30.0602 22.7035V27.7487H35.0702V22.7035H30.0602ZM10.02 22.7035V27.7487H15.0301V22.7035H10.02ZM10.02 32.7939V37.8391H15.0301V32.7939H10.02ZM20.0401 22.7035V27.7487H25.0501V22.7035H20.0401ZM20.0401 32.7939V37.8391H25.0501V32.7939H20.0401ZM30.0602 22.7035V27.7487H35.0702V22.7035H30.0602ZM10.02 22.7035V27.7487H15.0301V22.7035H10.02ZM10.02 32.7939V37.8391H15.0301V32.7939H10.02ZM20.0401 22.7035V27.7487H25.0501V22.7035H20.0401ZM20.0401 32.7939V37.8391H25.0501V32.7939H20.0401ZM30.0602 22.7035V27.7487H35.0702V22.7035H30.0602Z",fill:"white"}),Object(u.jsx)("path",{d:"M45.0904 10.0904V32.7434C43.5623 31.583 41.8589 30.8515 40.0803 30.4983V15.1356H5.01004V45.4069H25.6013C25.9771 47.2232 26.7536 48.9386 27.956 50.4521H5.01004C2.25452 50.4521 0 48.1818 0 45.4069V10.0904C0 7.31556 2.25452 5.04521 5.01004 5.04521H10.0201V0H15.0301V5.04521H30.0603V0H35.0703V5.04521H40.0803C42.8359 5.04521 45.0904 7.29034 45.0904 10.0904Z",fill:"white"}),Object(u.jsx)("path",{d:"M45.0151 35.6445L44.7646 35.3922C40.7315 31.4569 34.2936 31.5831 30.3858 35.6445C26.4779 39.7059 26.6032 46.189 30.6363 50.1242C34.5691 53.9586 40.8317 53.9586 44.7646 50.1242C48.7977 46.189 48.9229 39.7059 45.0151 35.6445ZM36.7986 47.3998L33.0411 43.6159L34.4689 42.1528L36.7986 44.5241L41.1824 40.1347L42.6103 41.5726L36.7986 47.3998Z",fill:"white"}),Object(u.jsx)("path",{d:"M45.0151 35.6445L44.7646 35.3922C40.7315 31.4569 34.2936 31.5831 30.3858 35.6445C26.4779 39.7059 26.6032 46.189 30.6363 50.1242C34.5691 53.9586 40.8317 53.9586 44.7646 50.1242C48.7977 46.189 48.9229 39.7059 45.0151 35.6445ZM36.7986 47.3998L33.0411 43.6159L34.4689 42.1528L36.7986 44.5241L41.1824 40.1347L42.6103 41.5726L36.7986 47.3998Z",fill:"white"})]})},Ce=function(e){var t=e.finalAvailableHosts,a=e.checkInDate,s=e.checkOutDate,r=e.location,n=e.numberOfCats,i=e.handleListItemClick,o=Object(p.a)("List"),c=o.t;return o.ready?Object(u.jsxs)("div",{style:{padding:"2rem"},children:[0===t.length&&Object(u.jsx)(x.a,{children:Object(u.jsxs)(b.a,{i18nKey:"List:no-results",children:["Your search did not yield any results! Try",Object(u.jsx)(O.b,{className:"fake-link",style:{textDecoration:"underline"},to:{pathname:"/search",state:{checkInDate:new Date(a),checkOutDate:new Date(s),location:r,numberOfCats:n}},children:"changing your search criteria"}),"or go to the map view to find cat sitters in nearby areas."]})}),t.length>0&&t.map((function(e){var t=fe(e.price_per_day_1_cat,n,e.supplement_price_per_cat_per_day,a,s),r=ve(e.price_per_day_1_cat,n,e.supplement_price_per_cat_per_day,a,s);return Object(u.jsxs)("div",{className:"list-card",onClick:function(t){return i(e.user.id,e.available)},id:e.user.id,children:[e.available&&Object(u.jsx)("div",{className:"available-host",children:Object(u.jsx)("div",{style:{margin:"10px"},children:Object(u.jsx)(Se,{height:"30px"})})}),e.score&&Object(u.jsx)(ge,{score:e.score,height:"1rem",displayNumerical:!0}),Object(u.jsxs)("div",{style:{margin:"0",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===e.user.profile_avatar?"https://ui-avatars.com/api/?name=".concat(e.user.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):e.user.profile_avatar,style:{borderRadius:"50%",margin:"auto",height:"100px"}}),Object(u.jsxs)("p",{style:{fontSize:"small",marginTop:"0.3rem"},children:[Object(u.jsx)(we,{fill:"grey",height:"0.8em"}),"\u2002",Object(u.jsx)("strong",{children:e.user.nickname})]})]}),Object(u.jsx)("div",{style:{padding:"0 0 0 2rem"},children:Object(u.jsxs)("div",{children:[Object(u.jsxs)(x.a,{as:"h3",style:{textAlign:"left",marginBottom:"0"},children:[t," ",c("reusable:price.per-day")]}),Object(u.jsxs)(x.a,{as:"h5",style:{textAlign:"left",margin:"0"},children:[r," ",c("reusable:price.total")]}),e.score&&Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline"},children:[Object(u.jsx)(ke,{fill:"grey",height:"0.8em"})," \u2002",Object(u.jsx)("p",{style:{fontSize:"small"},children:Object(u.jsx)("strong",{children:c("reusable:reviews",{count:e.reviews_count})})})]})]})})]})]},e.id)}))]}):Object(u.jsx)(j,{})},De=a(171),Ie=a(238),Ne=a(164),Me=function(e){var t=e.cluster,a=e.available,s=e.id,r=e.onClick,n=e.total,i=e.pointCount;return Object(u.jsxs)("div",{style:{transform:t?"translate(calc(-50% + 30px), -50%)":"translate(-50%, -50%)",position:"absolute",display:t?"flex":"block"},onClick:function(e){return r(s,a)},children:[Object(u.jsxs)(Ne.a,{pointing:"below",style:{backgroundColor:a?"#c90c61":"#808080",color:"#ffffff"},id:s,children:[n,"\xa0kr"]}),t&&Object(u.jsxs)("div",{style:{height:"25px",display:"flex",alignItems:"center",justifyContent:"center",width:"25px",fontSize:"10px",fontWeight:"bold",backgroundColor:"#c90c61",color:"#ffffff",borderRadius:"9999px",marginLeft:"5px"},children:["+",i-1]})]})},_e=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],He=function(e){var t=e.pointLength,a=e.pointCount,s=e.onClick;return Object(u.jsx)("div",{style:{width:"".concat(10+a/t*20,"px"),height:"".concat(10+a/t*20,"px"),color:"#fff",backgroundColor:"#c90c61",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",borderRadius:"9999px",transform:"translate(-50%, -50%)",position:"absolute"},onClick:s,children:a})},Be=function(e){var t=e.allAvailableHosts,a=e.mapCenterLat,r=e.mapCenterLong,n=e.handleDatapointClick,i=Object(s.useRef)(),o=Object(s.useState)(null),c=Object(l.a)(o,2),d=c[0],h=c[1],j=Object(s.useState)(12),p=Object(l.a)(j,2),b=p[0],m=p[1],g=t.map((function(e){var t=e.available,a=e.lat,s=e.lng,r=e.total;return{type:"Feature",properties:{cluster:!1,hostId:e.user.id,total:r,available:t},geometry:{type:"Point",coordinates:[parseFloat(s),parseFloat(a)]}}})),x=Object(Ie.a)({points:g,bounds:d,zoom:b,options:{radius:125,maxZoom:20}}),O=x.clusters,v=x.supercluster,f=function(e,t,a){i.current.setZoom(e),i.current.panTo({lat:t,lng:a})};return Object(u.jsx)("div",{id:"map-wrapper",children:Object(u.jsx)(De.a,{defaultCenter:{lat:59.330651,lng:18.068562},center:{lat:a,lng:r},defaultZoom:12,options:{styles:_e,restriction:{latLngBounds:{east:31.817221,north:71.185669,south:51.080991,west:3.221893}}},onGoogleApiLoaded:function(e){var t=e.map;i.current=t},onChange:function(e){var t=e.zoom,a=e.bounds;m(t),h([a.nw.lng,a.se.lat,a.se.lng,a.nw.lat])},yesIWantToUseGoogleMapApiInternals:!0,bootstrapURLKeys:{key:"AIzaSyAKRffbsFSvi6G-ojAk4X7GgW1p5TvqDeo"},children:O.map((function(e){var t=Object(l.a)(e.geometry.coordinates,2),a=t[0],s=t[1],r=e.properties,i=r.cluster,o=r.point_count;if(i){if(b<10)return Object(u.jsx)(He,{lat:s,lng:a,onClick:function(){return f(12,s,a)},pointCount:o,pointLength:g.length},"cluster-".concat(e.id));var c=v.getLeaves(e.id,1,0)[0],d=c.properties,h=d.id,j=d.total;return Object(u.jsx)(Me,{lat:c.geometry.coordinates[1],lng:c.geometry.coordinates[0],id:h,total:j,available:!0,onClick:function(){return f(Math.min(v.getClusterExpansionZoom(e.id),20),s,a)},cluster:!0,pointCount:o},"cluster-".concat(e.id))}return Object(u.jsx)(Me,{id:e.properties.hostId,lat:s,lng:a,total:e.properties.total,available:e.properties.available,onClick:n},"host-".concat(e.properties.hostId))}))})})},Fe=function(e){var t=Object(p.a)("HostReplyReview"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)(!1),h=Object(l.a)(d,2),b=h[0],g=h[1],x=Object(s.useState)([]),O=Object(l.a)(x,2),v=O[0],f=O[1],y=Object(s.useState)(!1),w=Object(l.a)(y,2),k=w[0],S=w[1],C=Object(s.useState)(""),D=Object(l.a)(C,2),I=D[0],N=D[1];Object(s.useEffect)((function(){if(""!==window.location.hash){var t=window.location.hash.split("-")[1];parseInt(t)===e.reviewId&&c(!0)}}),[]);return r?e.hostReply?null:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{maxHeight:o?"500px":"20px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:o&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(se.a,{id:"host-reply-form",children:Object(u.jsx)(se.a.TextArea,{required:!0,id:"host-reply",placeholder:a("HostReplyReview:plch"),value:I,onChange:function(e){return N(e.target.value)}})}),Object(u.jsxs)("p",{style:{textAlign:"end",fontSize:"smaller",fontStyle:"italic"},children:[a("reusable:remaining-chars")," ",1e3-I.length]}),k&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:v.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{onClick:function(){return c(!1),N(""),S(!1),void f([])},secondary:!0,id:"host-reply-close-button",className:"cancel-button",children:a("reusable:cta:close")}),Object(u.jsx)(m.a,{onClick:function(){return function(){var t=de();if(g(!0),!1===window.navigator.onLine)g(!1),f(["reusable:errors:window-navigator"]),S(!0);else if(""===I)g(!1),f(["HostReplyReview:update-error-1"]),S(!0);else if(I.length>1e3)g(!1),f(["HostReplyReview:update-error-2"]),S(!0);else{var s="/api/v1/reviews/".concat(e.reviewId),r={host_reply:I,locale:t},n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.patch(s,r,{headers:n}).then((function(){window.alert(a("HostReplyReview:update-success")),e.reload(I)})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(g(!1),f(["reusable:errors:500"]),S(!0)):503===e.response.status?q("/is-not-available?atm"):(g(!1),f([e.response.data.error]),S(!0))}))}}()},id:"host-reply-submit-button",className:"submit-button",disabled:b,loading:b,children:a("reusable:cta:save")})]})]})}),Object(u.jsx)(u.Fragment,{children:!o&&Object(u.jsx)("p",{onClick:function(){return c(!0)},className:"fake-link-underlined",children:a("reusable:cta:reply")})})]}):Object(u.jsx)(j,{})},Ae=a(389),ze=Object(A.b)((function(e){return{username:e.reduxTokenAuth.currentUser.attributes.username}}))((function(e){var t=Object(p.a)("AllReviews"),a=t.t,r=t.ready,n=Object(s.useCallback)((function(e){if(null!==e)for(var t=function(t){e.children[t].id===window.location.hash.substr(1)&&0===window.scrollY&&setTimeout((function(){window.scrollTo({top:e.children[t].getBoundingClientRect().top-90,behavior:"smooth"})}),500)},a=0;a<e.children.length;a++)t(a)}),[]),i=Object(s.useState)([]),o=Object(l.a)(i,2),c=o[0],d=o[1],h=Object(s.useState)(!1),b=Object(l.a)(h,2),m=b[0],g=b[1],O=Object(s.useState)([]),v=Object(l.a)(O,2),f=v[0],y=v[1],w=Object(s.useState)(!1),k=Object(l.a)(w,2),S=k[0],C=k[1],D=Object(s.useState)(""),I=Object(l.a)(D,2),N=I[0],M=I[1],_=de();return Object(s.useEffect)((function(){g(!0),!1===window.navigator.onLine?(g(!1),y(["reusable:errors:window-navigator"]),C(!0)):E.a.get("/api/v1/reviews?host_profile_id=".concat(e.hostProfileId,"&locale=").concat(_)).then((function(e){var t=e.data;t.sort((function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()})),d(t),g(!1)})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(g(!1),C(!0),y(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(g(!1),C(!0),y([e.response.data.error]))}))}),[N]),r&&!1===m?(oe.a.locale(_),Object(u.jsxs)(u.Fragment,{children:[S&&Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:f.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})}),null===e.score&&0===c.length?Object(u.jsx)("p",{style:{color:"silver",fontStyle:"italic"},children:a("AllReviews:no-reviews")}):null!==e.score&&0===c.length?Object(u.jsx)("p",{style:{color:"silver",fontStyle:"italic"},children:a("reusable:errors:index-no-host-2")}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ge,{score:e.score,displayNumerical:!0,margin:"0"}),Object(u.jsx)("p",{style:{color:"silver",fontStyle:"italic",marginBottom:"3rem"},children:a("AllReviews:review-count",{count:c.length})}),Object(u.jsx)(Ae.a,{}),Object(u.jsx)("div",{id:"all-reviews",ref:n,children:c.map((function(t){return Object(u.jsxs)("div",{id:"review-".concat(t.id),style:{margin:"2rem 0 3rem"},children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===t.user?"https://ui-avatars.com/api/?name=[x]&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false":null===t.user.profile_avatar?"https://ui-avatars.com/api/?name=".concat(t.user.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):t.user.profile_avatar,size:"small",style:{borderRadius:"50%",width:"3rem",height:"3rem"}}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(u.jsx)(x.a,{style:{margin:"0 0.5rem"},children:null===t.user?a("reusable:deleted-user"):t.user.nickname}),Object(u.jsx)("p",{style:{fontSize:"small"},children:oe()(t.created_at).fromNow()})]})]}),Object(u.jsx)(ge,{score:t.score,displayNumerical:!0,height:"1rem"}),Object(u.jsx)("p",{children:t.body}),t.host_reply&&Object(u.jsxs)("div",{style:{padding:"1rem 0 1rem 2rem"},children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===t.host_avatar?"https://ui-avatars.com/api/?name=".concat(t.host_nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):t.host_avatar,size:"small",style:{borderRadius:"50%",width:"2rem",height:"2rem"}}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(u.jsx)(x.a,{style:{margin:"0 0.5rem"},children:t.host_nickname}),Object(u.jsx)("p",{style:{fontSize:"small"},children:oe()(t.updated_at).fromNow()})]})]}),Object(u.jsx)("p",{style:{paddingLeft:"2.5rem"},children:t.host_reply})]}),t.host_nickname===e.username&&Object(u.jsx)(Fe,{hostReply:t.host_reply,reviewId:t.id,reload:function(e){return M(e)}}),Object(u.jsx)(Ae.a,{})]},t.id)}))})]})]})):Object(u.jsx)(j,{})})),Te=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).handleMapChange=function(t){var a=t.center,s=t.zoom,r=t.bounds;e.setState({mapOptions:{center:a,zoom:s,bounds:r}})},e}return Object(L.a)(a,[{key:"render",value:function(){var e,t,a,s=this.props.t;return this.props.tReady?(a="https://www.google.com/maps/search/?api=1&query=".concat(parseFloat(this.props.lat),",").concat(parseFloat(this.props.long)),void 0===this.props.address?e=Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"0.5rem"},children:Object(u.jsxs)(b.a,{i18nKey:"HostLocationMap:under-map-txt",values:{nickname:this.props.nickname},children:["This is the approximate area of ",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:this.props.nickname}),". You will receive the exact location when booking is confirmed."]})}):(e=Object(u.jsxs)("p",{style:{margin:"1rem",textAlign:"center"},children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),"\xa0",Object(u.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:this.props.address})]}),t=Object(u.jsx)(g.a,{name:"map marker alternate",size:"huge",style:{color:"#c90c61"},lat:parseFloat(this.props.lat),lng:parseFloat(this.props.long)})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{width:"100%",height:"300px",overflow:"hidden"},children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left",margin:"2rem 0 1rem"},children:s("HostLocationMap:header-location")}),Object(u.jsx)(De.a,{defaultCenter:{lat:59.330651,lng:18.068562},center:{lat:parseFloat(this.props.lat),lng:parseFloat(this.props.long)},defaultZoom:15,options:{scrollwheel:!1,zoomControl:!1,gestureHandling:"none",styles:_e},onChange:this.handleMapChange,yesIWantToUseGoogleMapApiInternals:!0,bootstrapURLKeys:{key:"AIzaSyAKRffbsFSvi6G-ojAk4X7GgW1p5TvqDeo"},children:t})]}),e]})):Object(u.jsx)(j,{})}}]),a}(s.Component);Te.defaultProps={center:{lat:59.95,lng:30.33},zoom:13};var Le=Object(Q.a)("HostLocationMap")(Te),Pe=function(e){var t=Object(p.a)(),a=t.t;return t.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"0.5rem"},children:Object(u.jsxs)(b.a,{i18nKey:"reusable:request-cta.txt",count:parseInt(e.numberOfCats),children:["The stay for ",Object(u.jsxs)("strong",{style:{color:"#c90c61"},children:[{count:e.numberOfCats}," cat"]})," with",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{host:e.nickname}})," during the dates of",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{checkin:oe()(e.checkInDate).format("YYYY-MM-DD")}}),"until",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{checkout:oe()(e.checkOutDate).format("YYYY-MM-DD")}}),"would in total cost"]})}),Object(u.jsxs)(x.a,{id:"total",as:"h3",style:{marginTop:"0"},children:[e.orderTotal," kr"]}),Object(u.jsx)(m.a,{id:"request-to-book",style:{marginTop:"0",marginBottom:"2rem"},onClick:e.requestToBookButtonClick,children:a("reusable:request-cta.btn")})]}):Object(u.jsx)(j,{})},Ye=function(e){var t=Object(p.a)("HostProfileView"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1];return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{id:"total",as:"h3",style:{marginBottom:"0"},children:a("HostProfileView:questions")}),Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"1rem"},children:Object(u.jsxs)(b.a,{i18nKey:"HostProfileView:send-msg",values:{host:e.nickname},children:["You can send a message to ",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:e.nickname})," and find out."]})}),Object(u.jsx)(m.a,{id:"send-message",style:{marginTop:"0",marginBottom:"2rem"},loading:o,disabled:o,onClick:function(t){return function(t){c(!0),t.preventDefault(),e.messageHost(t)}(t)},children:a("HostProfileView:send-cta")})]}):Object(u.jsx)(j,{})},Ve=void 0,Ue=function(e){var t,a,s,r=fe(e.rate,e.numberOfCats,e.supplement,e.checkInDate,e.checkOutDate),n=ve(e.rate,e.numberOfCats,e.supplement,e.checkInDate,e.checkOutDate),i=Object(p.a)("HostProfileView"),o=i.t;if(i.ready){if(e.location&&0===e.numberOfCats){var c=ye(e.rate);t=Object(u.jsxs)(x.a,{id:"per-day",as:"h4",style:{marginTop:"0"},children:[Object(u.jsx)("svg",{fill:"grey",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),"\xa0",e.location,"\u2002",Object(u.jsx)("svg",{fill:"grey",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})}),"\xa0",c," ",o("reusable:price.total-for-1")]})}else e.location&&(t=Object(u.jsxs)(x.a,{id:"per-day",as:"h4",style:{marginTop:"0"},children:[Object(u.jsx)("svg",{fill:"grey",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),"\xa0",e.location,"\u2002",Object(u.jsx)("svg",{fill:"grey",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})}),"\xa0",r," ",o("reusable:price.per-day")]}));return!0!==e.noMessage&&(a=Object(u.jsx)(Ye,{nickname:e.nickname,messageHost:e.messageHost.bind(Ve)})),e.requestToBookButtonClick&&(s=Object(u.jsx)("div",{style:{marginTop:"3rem"},children:Object(u.jsx)(Pe,{numberOfCats:e.numberOfCats,nickname:e.nickname,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,orderTotal:n,requestToBookButtonClick:e.requestToBookButtonClick.bind(Ve)})})),Object(u.jsxs)("div",{className:"expanding-wrapper",style:{paddingTop:"2rem"},children:[Object(u.jsx)(F.a,{id:"avatar",src:null===e.avatar?"https://ui-avatars.com/api/?name=".concat(e.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):e.avatar,size:"small",style:{borderRadius:"50%",margin:"auto",marginBottom:"0.5rem"}}),null!=e.score&&Object(u.jsx)(ge,{score:e.score,height:"1rem",center:!0,displayNumerical:!0}),Object(u.jsxs)(x.a,{id:"nickname",as:"h2",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[Object(u.jsx)("svg",{fill:"#c90c61",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})}),"\u2002",e.nickname]}),t,Object(u.jsx)("p",{id:"description",children:e.description}),a,Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left",margin:"4rem 0px 2rem"},children:o("HostProfileView:reviews-title")}),Object(u.jsx)(ze,{hostProfileId:e.hostProfileId,score:e.score}),s,Object(u.jsx)(Le,{lat:e.lat,long:e.long,nickname:e.nickname,address:e.address}),s]})}return Object(u.jsx)(j,{})},Re=(a(323),a(24)),qe=function(e){return Object(u.jsx)("svg",{fill:e.fill,height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})})},Ke=function(e){return Object(u.jsx)("svg",{fill:e.fill,height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})})},Ee=function(e){var t=Object(p.a)("HostPopup"),a=t.t;if(t.ready){var s=fe(e.rate,e.numberOfCats,e.supplement,e.checkInDate,e.checkOutDate),r=ve(e.rate,e.numberOfCats,e.supplement,e.checkInDate,e.checkOutDate);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(F.a,{src:null===e.avatar?"https://ui-avatars.com/api/?name=".concat(e.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):e.avatar,size:"small",style:{borderRadius:"50%",margin:"auto",marginBottom:"0.5rem"}}),e.score&&Object(u.jsx)(ge,{score:e.score,height:"1rem",center:!0,displayNumerical:!0}),Object(u.jsxs)(x.a,{as:"h2",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[Object(u.jsx)(we,{fill:"#c90c61",height:"0.8em"}),"\u2002",e.nickname]}),Object(u.jsxs)(x.a,{as:"h4",style:{marginBottom:"0",marginTop:"0",lineHeight:"150%"},children:[Object(u.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[Object(u.jsx)(qe,{fill:"grey",height:"0.8em"}),"\xa0",e.location,"\u2002"]}),Object(u.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[Object(u.jsx)(Ke,{fill:"grey",height:"0.8em"}),"\xa0",s," ",a("reusable:price.per-day"),"\u2002"]}),e.reviewsCount&&Object(u.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[Object(u.jsx)(ke,{fill:"grey",height:"0.8em"}),"\xa0",a("reusable:reviews",{count:parseInt(e.reviewsCount)})]})]}),Object(u.jsx)(x.a,{onClick:e.handleHostProfileClick,className:"fake-link-underlined",id:"more",style:{marginTop:"0.5rem",marginBottom:"1.5rem",textAlign:"center",marginLeft:"auto",marginRight:"auto",display:"table"},children:a("HostPopup:more")}),Object(u.jsx)(Pe,{numberOfCats:e.numberOfCats,nickname:e.nickname,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,orderTotal:r,requestToBookButtonClick:e.requestToBookButtonClick.bind(undefined)}),!1===e.hostAvailable&&Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{i18nKey:"HostPopup:host-availability-disclaimer",children:["This cat sitter have not added information about their availability for the dates you chose. You can still send them a booking request or",Object(u.jsx)("span",{id:"send-message",className:"fake-link-underlined",style:{display:"contents"},onClick:e.messageHost,children:"contact them"}),"first to see if they are available."]})})]})}return Object(u.jsx)(j,{})},Ge=a(25),We=a.n(Ge),Ze=Object(A.b)((function(e){return{id:e.reduxTokenAuth.currentUser.attributes.id}}))((function(e){var t,a,r,n,i=Object(p.a)("SearchResults"),o=i.t,c=i.ready,d=e.id,h=e.history,m=Object(s.useState)(""),O=Object(l.a)(m,2),f=O[0],y=O[1],w=Object(s.useState)(""),k=Object(l.a)(w,2),S=k[0],C=k[1],D=Object(s.useState)(""),I=Object(l.a)(D,2),N=I[0],M=I[1],_=Object(s.useState)(""),B=Object(l.a)(_,2),F=B[0],A=B[1],z=Object(s.useState)(null),T=Object(l.a)(z,2),L=T[0],P=T[1],Y=Object(s.useState)(null),V=Object(l.a)(Y,2),U=V[0],R=V[1],K=Object(s.useState)(""),G=Object(l.a)(K,2),W=G[0],Z=G[1],J=Object(s.useState)(""),Q=Object(l.a)(J,2),X=Q[0],$=Q[1],ee=Object(s.useState)(""),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ie=Object(s.useState)(""),ce=Object(l.a)(ie,2),le=ce[0],ue=ce[1],he=Object(s.useState)(!1),je=Object(l.a)(he,2),pe=je[0],be=je[1],ge=Object(s.useState)(0),xe=Object(l.a)(ge,2),Oe=xe[0],fe=xe[1],ye=Object(s.useState)(!0),we=Object(l.a)(ye,2),ke=we[0],Se=we[1],De=Object(s.useState)(!0),Ie=Object(l.a)(De,2),Ne=Ie[0],Me=Ie[1],_e=Object(s.useState)(!1),He=Object(l.a)(_e,2),Fe=He[0],Ae=He[1],ze=Object(s.useState)([]),Te=Object(l.a)(ze,2),Le=Te[0],Pe=Te[1],Ye=Object(s.useState)([]),Ve=Object(l.a)(Ye,2),qe=Ve[0],Ke=Ve[1],Ge=Object(s.useState)([]),Ze=Object(l.a)(Ge,2),Je=Ze[0],Qe=Ze[1],Xe=Object(s.useState)(""),$e=Object(l.a)(Xe,2),et=$e[0],tt=$e[1],at=Object(s.useState)(""),st=Object(l.a)(at,2),rt=st[0],nt=st[1],it=Object(s.useState)(""),ot=Object(l.a)(it,2),ct=ot[0],lt=ot[1],dt=Object(s.useState)(""),ut=Object(l.a)(dt,2),ht=ut[0],jt=ut[1],pt=Object(s.useState)(""),bt=Object(l.a)(pt,2),mt=bt[0],gt=bt[1],xt=Object(s.useState)(""),Ot=Object(l.a)(xt,2),vt=Ot[0],ft=Ot[1],yt=Object(s.useState)(""),wt=Object(l.a)(yt,2),kt=wt[0],St=wt[1],Ct=Object(s.useState)(""),Dt=Object(l.a)(Ct,2),It=Dt[0],Nt=Dt[1],Mt=Object(s.useState)(""),_t=Object(l.a)(Mt,2),Ht=_t[0],Bt=_t[1],Ft=Object(s.useState)(""),At=Object(l.a)(Ft,2),zt=At[0],Tt=At[1],Lt=function(e,s){e.map((function(e){return e.available=s,e.id=e.user.id,e.lat=parseFloat(e.lat),e.lng=parseFloat(e.long),e.total=ve(e.price_per_day_1_cat,n,e.supplement_price_per_cat_per_day,t,a),null}))},Pt=oe.a.utc().hours(0).minutes(0).seconds(0).milliseconds(0).valueOf();Object(s.useEffect)((function(){if(void 0===We.a.parse(e.location.search).location)h.push({pathname:"/search"});else{if(void 0!==We.a.parse(e.location.search).from){var s=We.a.parse(e.location.search);t=s.from,a=s.to,r=s.location,n=s.cats}else r=We.a.parse(e.location.search).location,n=1,t=Pt+864e5,a=Pt+864e5;if(void 0===We.a.parse(e.location.search).view&&window.history.replaceState(null,null,window.location.search.concat("&view=map")),!1===window.navigator.onLine)Se(!1),Ae(!0),Pe(["reusable:errors:window-navigator"]);else{var i=de(),o=E.a.get("/api/v1/host_profiles?location=".concat(r,"&startDate=").concat(t,"&endDate=").concat(a,"&cats=").concat(n,"&locale=").concat(i)),c=E.a.get("/api/v1/host_profiles?startDate=".concat(t,"&endDate=").concat(a,"&cats=").concat(n,"&locale=").concat(i));E.a.all([o,c]).then(E.a.spread((function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],a=[],s=[],r=[],n=[];e.data.with.length>0&&((a=e.data.with.filter((function(e){return e.user.id!==d}))).sort((function(e,t){return t.score-e.score})),a.map((function(e){return e.available=!0,null}))),e.data.without.length>0&&((s=e.data.without.filter((function(e){return e.user.id!==d}))).sort((function(e,t){return t.score-e.score})),s.map((function(e){return e.available=!1,null}))),Ke(a.concat(s)),""!==t.data&&t.data.with.length>0&&(r=t.data.with.filter((function(e){return e.user.id!==d})),Lt(r,!0)),""!==t.data&&t.data.without.length>0&&(n=t.data.without.filter((function(e){return e.user.id!==d})),Lt(n,!1)),Qe(r.concat(n))}))).catch((function(e){var t=e.response;void 0===t?q("/is-not-available?atm"):500===t.status?(Se(!1),Ae(!0),Pe(["reusable:errors:500"])):503===t.status?q("/is-not-available?atm"):(Se(!1),Ae(!0),Pe(t.data.error))})),y(parseInt(t)),C(parseInt(a)),M(n),A(r),Se(!1),ue(We.a.parse(e.location.search).view?We.a.parse(e.location.search).view:"map"),l=r,me.a.setApiKey("AIzaSyC-qFZ0xFJcqr0VEvduFb-j7v3QIOPXjlw"),me.a.fromAddress(l).then((function(e){var t=e.results[0].geometry.location,a=t.lat,s=t.lng;P(a),R(s)}))}}var l}),[]);var Yt=function(e,t){if(!1===window.navigator.onLine)Ae(!0),Pe(["reusable:errors:window-navigator"]);else{var a=de();E.a.get("/api/v1/host_profiles?user_id=".concat(e,"&locale=").concat(a)).then((function(e){var a=e.data;1===a.length?(tt(a[0].user.id),nt(a[0].user.profile_avatar),lt(a[0].user.nickname),jt(a[0].user.location),gt(a[0].price_per_day_1_cat),ft(a[0].supplement_price_per_cat_per_day),St(a[0].description),Nt(a[0].lat),Bt(a[0].long),Z(a[0].id),$(a[0].score),ne(a[0].reviews_count),Tt(t),be(!0),Me(!1)):(Ae(!0),Pe(["reusable:errors:index-no-host-1"]))})).catch((function(e){var t=e.response;void 0===t?q("/is-not-available?atm"):500===t.status?(Ae(!0),Pe(["reusable:errors:500"])):503===t.status?q("/is-not-available?atm"):(Ae(!0),Pe(t.data.error))}))}},Vt=function(){nt(""),lt(""),jt(""),gt(""),ft(""),St(""),Nt(""),Bt(""),Tt(""),tt(""),Z(""),$(""),ne("")},Ut=function(e){window.scrollTo(0,Oe),window.history.replaceState(null,null,window.location.search.replace("view=".concat(le),"view=".concat(e.target.id.split("-")[0]))),ue(e.target.id.split("-")[0]),Vt()},Rt=function(){void 0===d?h.push("/login"):h.push({pathname:"/request-to-book",state:{numberOfCats:N,checkInDate:f,checkOutDate:S,nickname:ct,hostRate:mt,hostSupplement:vt}})},qt=function(e){if(e.preventDefault(),!1===window.navigator.onLine)Ae(!0),Pe(["reusable:errors:window-navigator"]);else if(void 0===d)h.push("/login");else{var t=de(),a={user1_id:d,user2_id:et,locale:t},s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/conversations",a,{headers:s}).then((function(e){var t=e.data;h.push({pathname:"/conversation",state:{id:t.id,user:{profile_avatar:rt,id:et,location:ht,nickname:ct}}})})).catch((function(e){var t=e.response;void 0===t?q("/is-not-available?atm"):500===t.status?(Ae(!0),Pe(["reusable:errors:500"])):503===t.status?q("/is-not-available?atm"):401===t.status?(window.alert(o("reusable:errors:401")),q("/")):422===t.status?(Ae(!0),Pe(["reusable:errors:422-conversation"])):(Ae(!0),Pe(t.data.error))}))}};if(c&&!1===ke){var Kt,Et,Gt,Wt;switch(le){case"list":Kt={backgroundColor:"#c90c61",cursor:"pointer"},Et={backgroundColor:"grey",cursor:"pointer"},Gt=Object(u.jsx)(b.a,{values:{count:qe.length},i18nKey:"SearchResults:counter"}),Wt=Object(u.jsx)("div",{id:"search-results-wrapper",children:Object(u.jsx)(Ce,{finalAvailableHosts:qe,numberOfCats:N,checkInDate:f,checkOutDate:S,location:F,handleListItemClick:function(e,t){return Yt(e,t)}})});break;case"map":Kt={backgroundColor:"grey",cursor:"pointer"},Et={backgroundColor:"#c90c61",cursor:"pointer"},Gt=Object(u.jsx)(b.a,{values:{count:qe.length},i18nKey:"SearchResults:counter"}),Wt=Object(u.jsx)("div",{id:"search-results-wrapper",children:Object(u.jsx)(Be,{numberOfCats:N,checkInDate:f,checkOutDate:S,mapCenterLat:L,mapCenterLong:U,allAvailableHosts:Je,handleDatapointClick:function(e,t){return Yt(e,t)}})});break;case"profile":Gt=Object(u.jsx)(x.a,{id:"list-return",onClick:Ut,className:"fake-link-underlined",style:{textAlign:"right"},children:o("SearchResults:back")}),Wt=Object(u.jsx)("div",{id:"search-results-wrapper",style:{background:"white"},children:Object(u.jsx)(Ue,{numberOfCats:N,checkInDate:f,checkOutDate:S,hostId:et,currentUserId:d,avatar:rt,nickname:ct,location:ht,rate:mt,supplement:vt,description:kt,lat:It,long:Ht,hostProfileId:W,score:X,requestToBookButtonClick:Rt,messageHost:qt})})}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"Kattvakt i ".concat(r," | KattBNB")}),Object(u.jsx)("meta",{name:"description",content:"L\xe4mna din katt i trygga h\xe4nder - hos en p\xe5litlig kattvakt som verkligen bryr sig. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/search-results/".concat(window.location.search)}),Object(u.jsx)("meta",{property:"og:title",content:"Kattvakt i ".concat(r," | KattBNB")}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/search-results/".concat(window.location.search)}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"L\xe4mna din katt i trygga h\xe4nder - hos en p\xe5litlig kattvakt som verkligen bryr sig. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsx)(Re.a,{modal:!0,open:pe,closeOnDocumentClick:!0,onClose:function(){be(!1),Me(!0),"profile"!==le&&Vt()},position:"top center",children:Object(u.jsx)("div",{children:Ne?Object(u.jsx)(j,{}):Object(u.jsx)(Ee,{numberOfCats:N,checkInDate:f,checkOutDate:S,avatar:rt,nickname:ct,location:ht,rate:mt,supplement:vt,score:X,reviewsCount:re,handleHostProfileClick:function(){ue("profile"),be(!1),fe(window.pageYOffset),window.scrollTo(0,0)},requestToBookButtonClick:Rt,hostAvailable:zt,messageHost:qt})})}),Object(u.jsx)(Re.a,{modal:!0,open:Fe,closeOnDocumentClick:!0,onClose:function(){Ae(!1),Pe([])},position:"top center",children:Object(u.jsx)("div",{children:Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:Le.map((function(e){return Object(u.jsx)("li",{children:o(e)},e)}))})})})}),Object(u.jsx)("div",{id:"secondary-sticky",children:Object(u.jsxs)("div",{style:{width:"min-content",margin:"auto"},children:[Object(u.jsxs)("p",{style:{color:"#c90c61",textAlign:"left"},children:[Object(u.jsx)("svg",{fill:"#c90c61",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),"\xa0",F,"\u2003",Object(u.jsx)("svg",{fill:"#c90c61",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 236.62 236.62",children:Object(u.jsx)("path",{d:"M197.023,225.545c-1.145-9.533-11.68-10.614-17.805-9.958c-6.521-24.554,16.225-61.151,17.563-69.82c1.438-9.312-6.658-63.5-7.513-90.938C188.389,26.662,147.48-4.433,140.65,0.524c-6.768,7.484,9.748,17.585,1.054,26.245c-8.398,8.367-10.588,13.99-16.824,23.46c-15.976,24.255,27.318,24.558,27.318,24.558s-33.882,25.112-41.421,37.768c-6.943,11.656-9.854,24.696-18.232,35.688c-19.094,25.051-14.791,68.729-14.791,68.729s-36.17-11.839-16.264-53.133C76.643,132.406,84.107,86.02,50.016,97.95c-13.189,4.616,2.949,14.325,5.734,17.435c9.318,10.4,1.441,27.896-4.174,38.012c-15.037,27.091-20.496,55.475,11.154,72.978c14.063,7.776,33.055,9.7,52.17,9.982l48.64,0.14C179.564,237.294,197.689,234.298,197.023,225.545z"})}),"\xa0",N]}),Object(u.jsx)(se.a,{style:{padding:"0",width:"100%"},children:Object(u.jsxs)(se.a.Group,{inline:!0,unstackable:!0,style:{padding:"0",justifyContent:"space-between",margin:"auto",minWidth:"258px"},children:[Object(u.jsx)(se.a.Input,{iconPosition:"left",style:{maxWidth:"125px",marginRight:"-1rem"},readOnly:!0,value:oe()(f).format("l"),icon:Object(u.jsx)(g.a,{fitted:!0,name:"arrow right",style:{color:"#c90c61"}})}),Object(u.jsx)(se.a.Input,{iconPosition:"left",style:{maxWidth:"125px",marginRight:"-1rem"},readOnly:!0,value:oe()(S).format("l"),icon:Object(u.jsx)(g.a,{fitted:!0,name:"arrow left",style:{color:"#c90c61"}})})]})}),Object(u.jsxs)(H.a,{columns:2,style:{display:"flex",flexDirection:"row",marginTop:"1rem",marginLeft:"auto",marginRight:"auto"},children:[Object(u.jsx)(H.a.Column,{width:8,style:{padding:"0"},children:"profile"===le?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g.a,{id:"list-button",name:"list",disabled:!0,circular:!0,inverted:!0,style:{backgroundColor:"grey"}}),Object(u.jsx)(g.a,{id:"map-button",name:"map",disabled:!0,circular:!0,inverted:!0,style:{backgroundColor:"grey"}})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g.a,{id:"list-button",name:"list",circular:!0,inverted:!0,style:Kt,onClick:Ut}),Object(u.jsx)(g.a,{id:"map-button",name:"map",circular:!0,inverted:!0,style:Et,onClick:Ut})]})}),Object(u.jsx)(H.a.Column,{width:8,style:{padding:"0",textAlign:"right",alignContent:"center",display:"grid"},children:Object(u.jsx)("strong",{style:{color:"grey",fontSize:"small"},children:Gt})})]})]})}),Wt]})}return Object(u.jsx)(j,{})})),Je=function(){var e=Object(p.a)("AboutUs"),t=e.t;return e.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - hitta kattvakt n\xe4ra dig!"}),Object(u.jsx)("meta",{name:"description",content:"Letar du efter kattvakt? D\xe5 har du kommit r\xe4tt. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/about-us"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - hitta kattvakt n\xe4ra dig!"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/about-us"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Vi bryr oss om katterna. P\xe5 KattBNB bokar du kattpassning online - snabbt och enkelt!"}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsx)("div",{className:"content-wrapper",style:{marginBottom:"2rem",paddingBottom:"0"},children:Object(u.jsx)(x.a,{as:"h1",children:t("reusable:title.about")})}),Object(u.jsxs)("div",{className:"expanding-wrapper",style:{paddingTop:"0"},children:[Object(u.jsx)(x.a,{as:"h2",children:t("AboutUs:idea-title")}),Object(u.jsx)("p",{children:t("AboutUs:idea-p1")}),Object(u.jsx)("p",{children:t("AboutUs:idea-p2")}),Object(u.jsx)("p",{children:t("AboutUs:idea-p3")}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(x.a,{as:"h2",children:t("AboutUs:behind-scenes-title")}),Object(u.jsx)("div",{children:Object(u.jsx)(F.a,{style:{margin:"auto"},src:"zane2.png",size:"small"})}),Object(u.jsx)(x.a,{style:{marginBottom:0},children:Object(u.jsx)("a",{href:"https://www.linkedin.com/in/zane-neikena",target:"_blank",rel:"noopener noreferrer",children:"Zane Neikena"})}),Object(u.jsx)(x.a,{as:"h4",style:{marginTop:0},children:t("AboutUs:zane-title")}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AboutUs:zane-txt")}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)("div",{children:Object(u.jsx)(F.a,{style:{margin:"auto"},src:"george2.png",size:"small"})}),Object(u.jsx)(x.a,{style:{marginBottom:0},children:Object(u.jsx)("a",{href:"https://www.linkedin.com/in/george-tomaras-05833730/",target:"_blank",rel:"noopener noreferrer",children:"George Tomaras"})}),Object(u.jsx)(x.a,{as:"h4",style:{marginTop:0},children:t("AboutUs:george-title")}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AboutUs:george-txt")}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)("div",{children:Object(u.jsx)(F.a,{style:{margin:"auto"},src:"laura.png",size:"small"})}),Object(u.jsx)(x.a,{style:{marginBottom:0},children:Object(u.jsx)("a",{href:"https://www.linkedin.com/in/realelaura/",target:"_blank",rel:"noopener noreferrer",children:"Laura Reale"})}),Object(u.jsx)(x.a,{as:"h4",style:{marginTop:0},children:t("AboutUs:laura-title")}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AboutUs:laura-txt")}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)("div",{children:Object(u.jsx)(F.a,{style:{margin:"auto"},src:"joel.png",size:"small"})}),Object(u.jsx)(x.a,{style:{marginBottom:0},children:Object(u.jsx)("a",{href:"https://www.linkedin.com/in/joel-%C3%B6hman-b09307159/",target:"_blank",rel:"noopener noreferrer",children:"Joel \xd6hman"})}),Object(u.jsx)(x.a,{as:"h4",style:{marginTop:0},children:t("AboutUs:joel-title")}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AboutUs:joel-txt")}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(x.a,{as:"h2",children:t("AboutUs:acknowledgements-title")}),Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"AboutUs:acknowledgements-felix",children:["Thank you",Object(u.jsx)("a",{href:"https://www.linkedin.com/in/felix-bonnier-90b4561/",target:"_blank",rel:"noopener noreferrer",children:"Felix Bonnier"}),"for all the encouragement, advice in business development and the invaluable help with our very first pitch deck."]})}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"AboutUs:acknowledgements-clarissa",children:["Thank you",Object(u.jsx)("a",{href:"https://se.linkedin.com/in/living-and-breathing-tdd",target:"_blank",rel:"noopener noreferrer",children:"Clarissa Liljander"}),"for introducing us with i18n solution for translations and helping out with the setup, best of luck with you career as a developer!"]})})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"center",margin:"1.5rem 0 1.5rem"},children:[Object(u.jsx)("a",{href:"https://www.facebook.com/kattbnb/",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(f,{height:"2rem",fill:"silver"})}),Object(u.jsx)("a",{href:"https://www.instagram.com/kattbnb",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(y,{height:"2rem",fill:"silver"})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/company/28767809",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(w,{height:"2rem",fill:"silver"})})]})]}):Object(u.jsx)(j,{})},Qe=a(388),Xe=a(158),$e=function(e){var t=Object(p.a)("ContactUs"),a=t.t,r=t.ready,n=Object(s.useState)([]),i=Object(l.a)(n,2),d=i[0],h=i[1],b=Object(s.useState)(!1),g=Object(l.a)(b,2),O=g[0],k=g[1],S=Object(s.useState)(!1),C=Object(l.a)(S,2),D=C[0],I=C[1],N=Object(s.useState)(""),M=Object(l.a)(N,2),_=M[0],H=M[1],B=Object(s.useState)(""),F=Object(l.a)(B,2),A=F[0],z=F[1],T=Object(s.useState)(""),L=Object(l.a)(T,2),P=L[0],Y=L[1],V=Object(s.useState)(""),R=Object(l.a)(V,2),K=R[0],G=R[1],W=Object(s.useState)(""),Z=Object(l.a)(W,2),J=Z[0],Q=Z[1],X=function(){var t=Object(c.a)(o.a.mark((function t(){var s,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I(!0),h([]),k(!1),!1!==window.navigator.onLine){t.next=9;break}k(!0),h(["reusable:errors:window-navigator"]),I(!1),t.next=40;break;case 9:if(t.prev=9,""!==_&&""!==A&&""!==P){t.next=16;break}k(!0),h(["ContactUs:error-msg-fields"]),I(!1),t.next=34;break;case 16:if(!(P.length>1e3)){t.next=22;break}k(!0),h(["ContactUs:error-msg-length"]),I(!1),t.next=34;break;case 22:if(J===K){t.next=28;break}k(!0),h(["reusable:errors:captcha"]),I(!1),t.next=34;break;case 28:return s=de(),r="/api/v1/contactus?locale=".concat(s,"&name=").concat(_,"&email=").concat(A,"&message=").concat(P),t.next=32,E.a.get(r);case 32:200===t.sent.status&&(window.alert(a("ContactUs:thankyou-msg")),e.history.push("/search"));case 34:t.next=40;break;case 36:t.prev=36,t.t0=t.catch(9),void 0===(n=t.t0.response)||503===n.status?q("/is-not-available?atm"):(k(!0),h([n.data.error]),I(!1));case 40:case"end":return t.stop()}}),t,null,[[9,36]])})));return function(){return t.apply(this,arguments)}}();return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB vill h\xf6ra fr\xe5n dig!"}),Object(u.jsx)("meta",{name:"description",content:"Vi vill bli b\xe4st inom djurpassning! H\xf6r av dig om du har en id\xe9 hur kan vi g\xf6ra det \xe4nnu l\xe4ttare f\xf6r dig att hitta kattvakt!"}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/contact-us"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB vill h\xf6ra fr\xe5n dig!"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/contact-us"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Vi vill bli b\xe4st inom djurpassning! H\xf6r av dig om du har en id\xe9 hur kan vi g\xf6ra det \xe4nnu l\xe4ttare f\xf6r dig att hitta kattvakt!"}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),!1,Object(u.jsxs)("div",{className:"content-wrapper",style:{marginBottom:"0",paddingBottom:"0"},children:[Object(u.jsx)(x.a,{as:"h1",children:a("reusable:title.contact")}),Object(u.jsx)(U.a,{className:"whitebox",children:Object(u.jsx)(se.a,{name:"contact-us",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{style:{textAlign:"center"},children:a("ContactUs:contact-p")}),Object(u.jsx)(se.a.Input,{id:"name",value:_,onChange:function(e){return H(e.target.value)},placeholder:a("ContactUs:name-placeholder"),style:{marginBottom:"1rem"}}),Object(u.jsx)(se.a.Input,{id:"email",value:A,onChange:function(e){return z(e.target.value)},placeholder:a("ContactUs:email-placeholder"),style:{marginBottom:"1rem"}}),Object(u.jsx)(Qe.a,{id:"message",value:P,onChange:function(e){return Y(e.target.value)},placeholder:a("ContactUs:message-placeholder")}),Object(u.jsxs)("p",{style:{textAlign:"end",fontSize:"smaller",fontStyle:"italic"},children:[a("reusable:remaining-chars")," ",1e3-P.length]}),Object(u.jsx)("div",{style:{margin:"1em 0"},children:Object(u.jsx)(Xe.a,{captchaCode:function(e){return G(e)},fontFamily:"bodoni",fontColor:"#c90c61",charsCount:6,backgroundColor:"#e8e8e8",width:130})}),Object(u.jsx)(se.a.Input,{id:"userCaptcha",value:J,onChange:function(e){return Q(e.target.value)},placeholder:a("reusable:plch:captcha")}),O&&Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:d.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})}),Object(u.jsx)(m.a,{className:"submit-button",onClick:X,loading:D,children:a("ContactUs:send-btn")})]})})}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.5rem"},children:[Object(u.jsx)("a",{href:"https://www.facebook.com/kattbnb/",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(f,{height:"2rem",fill:"silver"})}),Object(u.jsx)("a",{href:"https://www.instagram.com/kattbnb",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(y,{height:"2rem",fill:"silver"})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/company/28767809",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 0.5rem",cursor:"pointer"},children:Object(u.jsx)(w,{height:"2rem",fill:"silver"})})]})]})]}):Object(u.jsx)(j,{})},et=a(394),tt=a(40),at=a(66),st=function(e){var t=function(e,t){var a=t.index;m(h===a?-1:a)},a=function(e){return Object(s.useCallback)((function(t){if(null!==t&&We.a.parse(window.location.search).section===e){var a=parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--nav"));if(We.a.parse(window.location.search).active){if(t.children[1].childElementCount>0){var s=t.children[1].getElementsByClassName("title"),r=parseInt(We.a.parse(window.location.search).active.substring(1))-1;window.scrollTo({top:s[r].offsetTop,behavior:"smooth"})}}else t.children[1].childElementCount>0&&window.scrollTo({top:t.getBoundingClientRect().top-a,behavior:"smooth"})}}),[w])},r=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tt.a.client("https://kattbnb.prismic.io/api/v2"),e.next=3,a.query([tt.a.Predicates.at("document.type","faq_item"),tt.a.Predicates.at("document.tags",[t])],{orderings:"[my.faq_item.index]",lang:S});case 3:s=e.sent,k((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(ee.a)({},t,s.results))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=Object(s.useState)(),i=Object(l.a)(n,2),h=i[0],m=i[1],f=Object(s.useState)({general:[],sitter:[],owner:[],privacy:[],payments:[]}),y=Object(l.a)(f,2),w=y[0],k=y[1],S=de().toLowerCase(),C=Object(p.a)("Faq"),D=C.t,I=C.ready,N=a("general"),M=a("sitter"),_=a("owner"),H=a("privacy"),B=a("payments");return Object(s.useEffect)((function(){try{r("general"),r("sitter"),r("owner"),r("privacy"),r("payments")}catch(a){window.alertwindow.alert(D("reusable:errors:500"))}var t=We.a.parse(e.location.search);t.active&&m(parseInt(t.active))}),[S]),I?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - \xe4ntligen ett svar p\xe5 kattpassningsfr\xe5gan"}),Object(u.jsx)("meta",{name:"description",content:"Fullbokat i kattpensionat? Vi k\xe4nner igen frustrationen. Vi bryr oss om katterna och d\xe4rf\xf6r lanserar KattBNB - allt-i-ett kattpassningssida d\xe4r du kan hitta en perfekt kattvakt till din katt. Fr\xe5gor p\xe5 det?"}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/faq"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - fr\xe5gor p\xe5 det?"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/faq"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"KattBNB - \xe4ntligen ett svar p\xe5 kattpassningsfr\xe5gan"}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsxs)("div",{className:"content-wrapper",style:{marginBottom:"2rem",paddingBottom:"0"},children:[Object(u.jsx)(x.a,{as:"h1",children:D("reusable:title.faq")}),Object(u.jsx)("p",{style:{textAlign:"center"},children:Object(u.jsxs)(b.a,{i18nKey:"Faq:to-guidelines",children:["Have you booked a stay already? Check out our helpful",Object(u.jsx)(x.a,{as:O.b,to:"guidelines",className:"fake-link-underlined-reg",children:"guidelines"}),"."]})})]}),Object(u.jsxs)("div",{className:"expanding-wrapper",children:[Object(u.jsxs)("div",{ref:N,style:{paddingTop:"2rem"},children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:D("Faq:general")}),Object(u.jsx)(et.a,{children:w.general.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(et.a.Title,{active:h===parseInt(e.data.index),index:parseInt(e.data.index),onClick:t,style:{color:"grey",fontWeight:"600"},children:[Object(u.jsx)(g.a,{name:"dropdown",style:{color:"#c90c61"}}),e.data.header[0].text]}),Object(u.jsx)(et.a.Content,{active:h===parseInt(e.data.index),children:at.RichText.render(e.data.body)})]})}))})]}),Object(u.jsxs)("div",{ref:M,style:{paddingTop:"2rem"},children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:D("Faq:sitter")}),Object(u.jsx)(et.a,{children:w.sitter.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(et.a.Title,{active:h===parseInt(e.data.index),index:parseInt(e.data.index),onClick:t,style:{color:"grey",fontWeight:"600"},children:[Object(u.jsx)(g.a,{name:"dropdown",style:{color:"#c90c61"}}),e.data.header[0].text]}),Object(u.jsx)(et.a.Content,{active:h===parseInt(e.data.index),children:at.RichText.render(e.data.body)})]})}))})]}),Object(u.jsxs)("div",{ref:_,style:{paddingTop:"2rem"},children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:D("Faq:owner")}),Object(u.jsx)(et.a,{children:w.owner.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(et.a.Title,{active:h===parseInt(e.data.index),index:parseInt(e.data.index),onClick:t,style:{color:"grey",fontWeight:"600"},children:[Object(u.jsx)(g.a,{name:"dropdown",style:{color:"#c90c61"}}),e.data.header[0].text]}),Object(u.jsx)(et.a.Content,{active:h===parseInt(e.data.index),children:at.RichText.render(e.data.body)})]})}))})]}),Object(u.jsxs)("div",{ref:H,style:{paddingTop:"2rem"},children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:D("Faq:privacy")}),Object(u.jsx)(et.a,{children:w.privacy.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(et.a.Title,{active:h===parseInt(e.data.index),index:parseInt(e.data.index),onClick:t,style:{color:"grey",fontWeight:"600"},children:[Object(u.jsx)(g.a,{name:"dropdown",style:{color:"#c90c61"}}),e.data.header[0].text]}),Object(u.jsx)(et.a.Content,{active:h===parseInt(e.data.index),children:at.RichText.render(e.data.body)})]})}))})]}),Object(u.jsxs)("div",{ref:B,style:{paddingTop:"2rem"},children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:D("Faq:payments")}),Object(u.jsx)(et.a,{children:w.payments.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(et.a.Title,{active:h===parseInt(e.data.index),index:parseInt(e.data.index),onClick:t,style:{color:"grey",fontWeight:"600"},children:[Object(u.jsx)(g.a,{name:"dropdown",style:{color:"#c90c61"}}),e.data.header[0].text]}),Object(u.jsx)(et.a.Content,{active:h===parseInt(e.data.index),children:at.RichText.render(e.data.body)})]})}))})]})]})]}):Object(u.jsx)(j,{})},rt=function(){var e=Object(p.a)(),t=e.t,a=e.ready,r=Object(s.useState)({}),n=Object(l.a)(r,2),i=n[0],d=n[1],h=de().toLowerCase();return Object(s.useEffect)((function(){var e=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=tt.a.client("https://kattbnb.prismic.io/api/v2"),e.next=3,t.query(tt.a.Predicates.at("document.type","terms"),{lang:h});case 3:a=e.sent,d(a.results[0].data.body);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(a){window.alertwindow.alert(t("reusable:errors:500"))}}),[h]),a?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - anv\xe4ndarvillkor"}),Object(u.jsx)("meta",{name:"description",content:"Tack f\xf6r att du v\xe4ljer KattBNB. Vi vill att du k\xe4nner dig trygg med att anv\xe4nda v\xe5r webbapp. H\xe4r \xe4r reglerna som g\xe4ller."}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/legal"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - anv\xe4ndarvillkor"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/legal"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Tack f\xf6r att du v\xe4ljer KattBNB. Vi vill att du k\xe4nner dig trygg med att anv\xe4nda v\xe5r webbapp. H\xe4r \xe4r reglerna som g\xe4ller."}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsx)("div",{className:"content-wrapper",style:{marginBottom:"2rem",paddingBottom:"0"},children:Object(u.jsx)(x.a,{as:"h1",children:t("reusable:title.legal")})}),Object(u.jsx)("div",{className:"expanding-wrapper",id:"terms",children:at.RichText.render(i)})]}):Object(u.jsx)(j,{})},nt=function(){var e=Object(p.a)("Guidelines"),t=e.t;return e.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - att t\xe4nka p\xe5 innan vistelsen"}),Object(u.jsx)("meta",{name:"description",content:"Har du hittat den perfekta kattvakt? Grattis! H\xe4r har du n\xe5gra viktiga saker att t\xe4nka p\xe5 innan vistelsen."}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/guidelines"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - den ultimata checklistan"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/guidelines"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Vi bryr oss om katterna. H\xe4r har vi samlat n\xe5gra viktiga saker du b\xf6r fundera p\xe5 innan din vistelse hos kattvakten."}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:t("Guidelines:before-stay.title")}),Object(u.jsx)("p",{children:t("Guidelines:before-stay.p1")}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:t("Guidelines:before-stay.list-item1")}),Object(u.jsx)("li",{children:t("Guidelines:before-stay.list-item2")}),Object(u.jsx)("li",{children:t("Guidelines:before-stay.list-item3")}),Object(u.jsx)("li",{children:t("Guidelines:before-stay.list-item4")})]}),Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:t("Guidelines:owner.title")}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:t("Guidelines:owner.list-item1")}),Object(u.jsx)("li",{children:t("Guidelines:owner.list-item2")}),Object(u.jsx)("li",{children:t("Guidelines:owner.list-item3")}),Object(u.jsx)("li",{children:t("Guidelines:owner.list-item4")})]}),Object(u.jsxs)(U.a,{raised:!0,style:{paddingTop:"1rem",margin:"1rem 0"},children:[Object(u.jsx)(Ne.a,{ribbon:!0,style:{backgroundColor:"#c90c61",color:"white",margin:"0 0 1rem"},children:t("Guidelines:owner.checklist.title")}),Object(u.jsxs)("p",{style:{padding:"0 1rem 1rem 1rem",textSize:"small"},children:[Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:t("Guidelines:owner.checklist.list-item1")}),Object(u.jsx)("li",{children:t("Guidelines:owner.checklist.list-item2")}),Object(u.jsx)("li",{children:t("Guidelines:owner.checklist.list-item3")}),Object(u.jsx)("li",{children:t("Guidelines:owner.checklist.list-item4")}),Object(u.jsx)("li",{children:t("Guidelines:owner.checklist.list-item5")})]}),Object(u.jsx)("p",{style:{fontStyle:"italic",margin:"1rem 0 0.5rem"},children:t("Guidelines:owner.optional.title")}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:t("Guidelines:owner.optional.list-item1")}),Object(u.jsx)("li",{children:t("Guidelines:owner.optional.list-item2")})]})]})]}),Object(u.jsx)(x.a,{as:"h3",style:{textAlign:"left"},children:t("Guidelines:host.title")}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:t("Guidelines:host.list-item1")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item2")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item3")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item4")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item5")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item6")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item7")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item8")}),Object(u.jsx)("li",{children:t("Guidelines:host.list-item9")})]})]})]}):Object(u.jsx)(j,{})},it=a(159),ot={authUrl:"".concat("https://yet-another-url.herokuapp.com","/api/v1/auth"),userAttributes:{id:"id",uid:"uid",location:"location",username:"nickname",avatar:"avatar",messageNotifications:"message_notification",langPref:"lang_pref"},userRegistrationAttributes:{passwordConfirmation:"password_confirmation",location:"location",nickname:"nickname",url:"confirm_success_url",lang:"locale",langPref:"lang_pref"}},ct=Object(it.generateAuthActions)(ot),lt=ct.registerUser,dt=ct.signInUser,ut=ct.verifyCredentials,ht=Object(A.b)(null,{signInUser:dt})((function(e){var t=Object(p.a)("Login"),a=t.t,r=t.ready,n=Object(s.useState)(""),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)(""),h=Object(l.a)(d,2),b=h[0],g=h[1],v=Object(s.useState)(!1),f=Object(l.a)(v,2),y=f[0],w=f[1],k=Object(s.useState)(!1),S=Object(l.a)(k,2),C=S[0],D=S[1],I=Object(s.useState)([]),N=Object(l.a)(I,2),M=N[0],_=N[1],H=Object(s.useState)(!1),B=Object(l.a)(H,2),F=B[0],A=B[1],z=function(){if(A(!0),!1===window.navigator.onLine)A(!1),w(!0),_(a("reusable:errors:window-navigator"));else{var t=de(),s=e.history;(0,e.signInUser)({email:o,password:b,locale:t}).then((function(){D(!0),w(!1),void 0===s?window.location.reload():s.length<=2?s.push("/"):s.go(-1)})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(A(!1),w(!0),_(a("reusable:errors:500"))):503===e.response.status?q("/is-not-available?atm"):(A(!1),w(!0),_(e.response.data.errors[0]))}))}};return r?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("Login:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsxs)(se.a,{id:"login-form",children:[Object(u.jsx)(se.a.Input,{required:!0,id:"email",label:a("reusable:plch.email"),value:o,onChange:function(e){return c(e.target.value)},placeholder:a("reusable:plch.email"),onKeyPress:function(e){"Enter"===e.key&&z()}}),Object(u.jsx)(se.a.Input,{required:!0,id:"password",type:"password",label:a("reusable:plch.password"),value:b,onChange:function(e){return g(e.target.value)},placeholder:a("reusable:plch.password"),onKeyPress:function(e){"Enter"===e.key&&z()}}),!1===C&&Object(u.jsx)("div",{style:{textAlign:"right"},children:Object(u.jsx)(x.a,{id:"password-reset-link",as:O.b,to:"password-reset",className:"fake-link-underlined",children:a("Login:forgot-link")})})]}),y&&Object(u.jsx)(ae.a,{negative:!0,style:{textAlign:"center"},children:M}),C&&Object(u.jsx)(ae.a,{success:!0,style:{textAlign:"center"},children:a("Login:success-msg")}),Object(u.jsx)(m.a,{className:"submit-button",id:"log-in-button",disabled:F,loading:F,onClick:function(){return z()},children:a("Login:title")}),!1===C&&Object(u.jsxs)("p",{style:{textAlign:"center",marginTop:"2rem"},children:[a("Login:no-acc"),Object(u.jsx)("br",{}),Object(u.jsx)(x.a,{as:O.b,to:"sign-up",className:"fake-link",id:"create-account",children:a("Login:signup-link")})]})]})]}):Object(u.jsx)(j,{})})),jt=a(401),pt=Object(A.b)(null,{registerUser:lt})((function(e){var t=Object(p.a)("SignUp"),a=t.t,r=t.ready,n=Object(s.useState)(""),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)(""),h=Object(l.a)(d,2),g=h[0],f=h[1],y=Object(s.useState)(""),w=Object(l.a)(y,2),k=w[0],S=w[1],C=Object(s.useState)(""),D=Object(l.a)(C,2),I=D[0],N=D[1],M=Object(s.useState)(""),_=Object(l.a)(M,2),H=_[0],B=_[1],F=Object(s.useState)(!1),A=Object(l.a)(F,2),z=A[0],T=A[1],L=Object(s.useState)([]),P=Object(l.a)(L,2),Y=P[0],V=P[1],R=Object(s.useState)(!1),K=Object(l.a)(R,2),E=K[0],G=K[1],W=Object(s.useState)(""),Z=Object(l.a)(W,2),J=Z[0],Q=Z[1],X=Object(s.useState)(""),$=Object(l.a)(X,2),ee=$[0],te=$[1],ie=Object(s.useState)(!1),oe=Object(l.a)(ie,2),ce=oe[0],le=oe[1],ue=function(){if(G(!0),!1===window.navigator.onLine)V(["reusable:errors:window-navigator"]),T(!0),G(!1);else if(!1===ce)V(["SignUp:terms-error"]),T(!0),G(!1);else if(ee!==J)V(["reusable:errors:captcha"]),T(!0),G(!1);else{var t=e.history,a=e.registerUser,s=de(),r=de();a({email:o,password:g,passwordConfirmation:k,location:H,nickname:I,url:"https://kattbnb.netlify.app/login",lang:r,langPref:s}).then((function(){T(!1),t.push("/signup-success")})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(V(["reusable:errors:500"]),T(!0),G(!1)):503===e.response.status?q("/is-not-available?atm"):(V(e.response.data.errors.full_messages),T(!0),G(!1))}))}};return"POP"===e.history.action&&e.history.push({pathname:"/"}),r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"KattBNB - registrera konto"}),Object(u.jsx)("meta",{name:"description",content:"Fullbokat i kattpensionat? Vi k\xe4nner igen frustrationen. Registrera konto med KattBNB och hitta den perfekta kattvakten."}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/sign-up"}),Object(u.jsx)("meta",{property:"og:title",content:"KattBNB - registrera konto"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/sign-up"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Fullbokat i kattpensionat? Vi k\xe4nner igen frustrationen. Registrera konto med KattBNB och hitta den perfekta kattvakten."}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/KattBNB_og.jpg"})]}),!1,Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("SignUp:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)("p",{style:{textAlign:"center"},children:a("SignUp:instructions")}),Object(u.jsxs)(se.a,{id:"signup-form",children:[Object(u.jsx)(se.a.Input,{required:!0,id:"email",label:a("reusable:plch.email"),value:o,onChange:function(e){return c(e.target.value)},placeholder:a("reusable:plch.email"),onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(u.jsx)(se.a.Input,{required:!0,id:"password",type:"password",label:a("reusable:plch.password"),value:g,onChange:function(e){return f(e.target.value)},placeholder:a("reusable:plch.password"),onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(u.jsx)(se.a.Input,{required:!0,id:"passwordConfirmation",type:"password",label:a("reusable:plch.password-confirmation"),value:k,onChange:function(e){return S(e.target.value)},placeholder:a("reusable:plch.password-confirmation"),onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(u.jsx)(se.a.Input,{required:!0,id:"nickname",label:a("SignUp:nickname-plch"),value:I,onChange:function(e){return N(e.target.value)},placeholder:a("SignUp:nickname-plch"),onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(u.jsxs)("div",{className:"required field",style:{marginBottom:"1.5em"},children:[Object(u.jsx)("label",{children:a("SignUp:location-plch")}),Object(u.jsx)(re.a,{clearable:!0,search:!0,selection:!0,style:{width:"100%"},placeholder:a("SignUp:location-plch"),options:ne,id:"location",onChange:function(e,t){var a=t.value;return B(a)},onKeyPress:function(e){"Enter"===e.key&&ue()}})]}),Object(u.jsx)("div",{style:{margin:"1em 0"},children:Object(u.jsx)(Xe.a,{captchaCode:function(e){return Q(e)},fontFamily:"bodoni",fontColor:"#c90c61",charsCount:6,backgroundColor:"#e8e8e8",width:130})}),Object(u.jsx)(se.a.Input,{label:a("SignUp:captcha-label"),required:!0,id:"userCaptcha",value:ee,onChange:function(e){return te(e.target.value)},placeholder:a("reusable:plch:captcha"),onKeyPress:function(e){"Enter"===e.key&&ue()}})]}),Object(u.jsxs)("div",{style:{display:"inline-flex",paddingTop:"1em"},children:[Object(u.jsx)("div",{className:"toggle",onClick:function(){return le(!ce)},children:Object(u.jsx)(jt.a,{toggle:!0,checked:ce})}),Object(u.jsx)("label",{style:{paddingLeft:"1.3em",color:ce?"grey":"silver"},children:Object(u.jsxs)(b.a,{i18nKey:"SignUp:terms-label",children:["I accept the",Object(u.jsx)(x.a,{as:O.b,to:"/legal",target:"_blank",className:"fake-link-underlined",children:"Terms & Conditions"})]})})]}),z&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("SignUp:error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:Y.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsx)(m.a,{id:"sign-up-button",onClick:function(){return ue()},loading:E,disabled:E,children:a("SignUp:title")})]})]})]}):Object(u.jsx)(j,{})})),bt=Object(A.b)((function(e){return{currentUserIn:e.reduxTokenAuth.currentUser.isSignedIn}}))((function(e){var t=Object(p.a)("SignupSuccess"),a=t.t,s=t.ready;return e.currentUserIn&&(q(),setTimeout((function(){window.location.reload(!0)}),500)),s?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("SignupSuccess:title")}),Object(u.jsx)(U.a,{className:"whitebox",textAlign:"center",children:Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"SignupSuccess:p",children:["You will need to confirm your email address in the next 24 hours in order to log in and start using our services. To continue, please follow the instructions we have sent to your email. If you didn't receive our message in your inbox make sure you check your spam folder, sometimes the confirmation email can end up there. More in our",Object(u.jsx)(x.a,{as:O.b,to:"faq",className:"fake-link",children:"FAQ"}),"."]})})})]}):Object(u.jsx)(j,{})})),mt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={email:"",errors:"",errorDisplay:!1,loading:!1,url:"https://kattbnb.netlify.app/change-password"},e.onChangeHandler=function(t){e.setState(Object(ee.a)({},t.target.id,t.target.value))},e.resetPassword=function(t){if(e.setState({loading:!0}),t.preventDefault(),!1===window.navigator.onLine)e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else{var a=de(),s={redirect_url:e.state.url,email:e.state.email,locale:a};E.a.post("/api/v1/auth/password",s).then((function(){e.setState({errorDisplay:!1}),e.props.history.push("/password-reset-success")})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):e.setState({loading:!1,errorDisplay:!0,errors:t.response.data.errors})}))}},e.listenEnterKey=function(t){"Enter"===t.key&&e.resetPassword(t)},e}return Object(L.a)(a,[{key:"render",value:function(){var e,t=this.props.t;return this.props.tReady?(this.state.errorDisplay&&(e=Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsxs)(ae.a.Header,{style:{textAlign:"center"},children:[t("PasswordReset:error-header"),":"]}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]})),Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:t("PasswordReset:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)("p",{style:{textAlign:"center"},children:t("PasswordReset:instructions")}),Object(u.jsx)(se.a,{children:Object(u.jsx)(se.a.Input,{required:!0,id:"email",label:t("reusable:plch.email"),value:this.state.email,onChange:this.onChangeHandler,placeholder:t("reusable:plch.email"),onKeyPress:this.listenEnterKey})}),e,Object(u.jsx)(m.a,{className:"submit-button",id:"reset-pass-button",onClick:this.resetPassword,disabled:this.state.loading,loading:this.state.loading,children:t("PasswordReset:btn")})]})]})):Object(u.jsx)(j,{})}}]),a}(s.Component),gt=Object(Q.a)("PasswordReset")(mt),xt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={errors:"",errorDisplay:!1,successDisplay:!1,loading:!1,password:"",passwordConfirmation:""},e.onChangeHandler=function(t){e.setState(Object(ee.a)({},t.target.id,t.target.value))},e.changePassword=function(t){t.preventDefault();var a=e.props.t;if(!1===window.navigator.onLine)e.setState({errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(e.state.password===e.state.passwordConfirmation&&e.state.password.length>=6&&e.props.location.search.length>150){e.setState({loading:!0});var s=de(),r={password:e.state.password,password_confirmation:e.state.passwordConfirmation,uid:We.a.parse(e.props.location.search).uid,"access-token":We.a.parse(e.props.location.search).token,client:We.a.parse(e.props.location.search).client,locale:s};E.a.put("/api/v1/auth/password",r).then((function(){e.setState({successDisplay:!0,errorDisplay:!1}),setTimeout((function(){window.location.replace("/login")}),2e3)})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401-password")),q("/password-reset")):e.setState({loading:!1,errorDisplay:!0,errors:t.response.data.errors.full_messages})}))}else e.state.password===e.state.passwordConfirmation&&e.state.password.length>=6&&e.props.location.search.length<150?e.setState({errors:["ChangePassword:error-1"],errorDisplay:!0}):e.setState({errors:["ChangePassword:error-2"],errorDisplay:!0})},e.listenEnterKey=function(t){"Enter"===t.key&&e.changePassword(t)},e}return Object(L.a)(a,[{key:"render",value:function(){var e,t,a=this.props.t;return this.props.tReady?(this.state.errorDisplay&&(e=Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("ChangePassword:error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]})),this.state.successDisplay&&(t=Object(u.jsx)(ae.a,{success:!0,style:{textAlign:"center"},children:a("ChangePassword:success-msg")})),Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("ChangePassword:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)("p",{style:{textAlign:"center"},children:a("ChangePassword:instructions")}),Object(u.jsxs)(se.a,{children:[Object(u.jsx)(se.a.Input,{required:!0,id:"password",label:a("reusable:plch.password"),value:this.state.password,onChange:this.onChangeHandler,placeholder:a("reusable:plch.password"),type:"password",onKeyPress:this.listenEnterKey}),Object(u.jsx)(se.a.Input,{required:!0,id:"passwordConfirmation",label:a("reusable:plch.password-confirmation"),value:this.state.passwordConfirmation,onChange:this.onChangeHandler,placeholder:a("reusable:plch.password-confirmation"),type:"password",onKeyPress:this.listenEnterKey})]}),e,t,Object(u.jsx)(m.a,{className:"submit-button",id:"change-pass-button",disabled:this.state.loading,loading:this.state.loading,onClick:this.changePassword,children:a("ChangePassword:title")})]})]})):Object(u.jsx)(j,{})}}]),a}(s.Component),Ot=Object(Q.a)("ChangePassword")(xt),vt=Object(A.b)((function(e){return{currentUserIn:e.reduxTokenAuth.currentUser.isSignedIn}}))((function(e){var t=Object(p.a)("PasswordResetSuccess"),a=t.t,s=t.ready;return e.currentUserIn&&(q(),setTimeout((function(){window.location.reload(!0)}),500)),s?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("PasswordResetSuccess:title")}),Object(u.jsx)(U.a,{className:"whitebox",textAlign:"center",children:Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"PasswordResetSuccess:p",children:["You have successfully requested a password reset! To continue, please follow the instructions we have sent to your email. If you didn't receive our message in your inbox, please refer to our",Object(u.jsx)(x.a,{as:O.b,to:"faq",className:"fake-link",children:"FAQ"}),"section."]})})})]}):Object(u.jsx)(j,{})})),ft=a(68),yt=Object(ft.d)(Object(A.b)((function(e){return{id:e.reduxTokenAuth.currentUser.attributes.id}}),null),(function(e){return function(t){return void 0!==t.id?Object(u.jsx)(e,Object(d.a)({},t)):Object(u.jsx)(ht,{})}})),wt=a(87),kt=a.n(wt),St=(a(178),function(){var e=parseFloat("0.0005"),t=parseFloat("0.0015"),a=(Math.random()*(t-e)+e).toFixed(6);return parseFloat(a)}),Ct=function(e,t){for(var a=0;a<t.length;a++)if(t[a].long_name===e)return t[a]},Dt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var s;return Object(T.a)(this,a),(s=t.call(this,e)).onChangeHandler=function(e){s.setState(Object(ee.a)({},e.target.id,e.target.value))},s.geolocationDataAddress=function(){var e=s.props.t;me.a.setApiKey("AIzaSyC-qFZ0xFJcqr0VEvduFb-j7v3QIOPXjlw"),me.a.setLanguage("sv"),me.a.fromAddress(s.state.userInputAddress).then((function(t){var a=t.results[0].geometry.location,r=a.lat,n=a.lng;void 0===Ct(s.props.location,t.results[0].address_components)?window.confirm(e("reusable:alerts.no-match-address"))&&s.setState({latitude:r,longitude:n,lat:r-St(),long:n+St(),address:t.results[0].formatted_address,addressSearch:!1,addressErrorDisplay:!1,addressError:""}):s.setState({latitude:r,longitude:n,lat:r-St(),long:n+St(),address:t.results[0].formatted_address,addressSearch:!1,addressErrorDisplay:!1,addressError:""})}),(function(t){"Server returned status code ZERO_RESULTS"===t.message?s.setState({addressErrorDisplay:!0,addressError:e("reusable:errors:google-error-1")}):"Server returned status code REQUEST_DENIED"===t.message?s.setState({addressErrorDisplay:!0,addressError:e("reusable:errors:google-error-2")}):s.setState({addressErrorDisplay:!0,addressError:t.message})}))},s.listenEnterKey=function(e){"Enter"===e.key&&s.createHostProfile(e)},s.createHostProfile=function(e){var t=s.props.t,a=de();if(e.preventDefault(),s.setState({loading:!0}),!1===window.navigator.onLine)s.setState({loading:!1,onCreateErrorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(s.state.maxCats<1||s.state.rate<.01||s.state.supplement<0)s.setState({loading:!1,errors:["HostProfileForm:create-error-1"],onCreateErrorDisplay:!0});else{var r={description:s.state.description,full_address:s.state.address,price_per_day_1_cat:s.state.rate,supplement_price_per_cat_per_day:s.state.supplement,max_cats_accepted:s.state.maxCats,availability:s.state.availability,lat:s.state.lat,long:s.state.long,latitude:s.state.latitude,longitude:s.state.longitude,user_id:s.props.user_id,locale:a},n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/host_profiles",r,{headers:n}).then((function(){s.setState({onCreateErrorDisplay:!1}),window.alert(t("HostProfileForm:create-success")),setTimeout((function(){window.location.replace("/user-page")}),500)})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?s.setState({loading:!1,onCreateErrorDisplay:!0,errors:["reusable:errors:500"]}):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(t("reusable:errors:401")),q("/")):s.setState({loading:!1,onCreateErrorDisplay:!0,errors:e.response.data.error})}))}},s.handleDayClick=s.handleDayClick.bind(Object(te.a)(s)),s.state={selectedDays:[],description:"",userInputAddress:"",addressSearch:!0,latitude:"",longitude:"",lat:"",long:"",address:"",rate:"",addressError:"",addressErrorDisplay:!1,errors:"",onCreateErrorDisplay:!1,maxCats:"",supplement:"",availability:"",loading:!1},s}return Object(L.a)(a,[{key:"convertAvailabilityDates",value:function(){var e=this.state.selectedDays.map((function(e){var t=new Date(e),a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return new Date(a).getTime()})).sort((function(e,t){return e-t}));this.setState({availability:e})}},{key:"handleDayClick",value:function(e,t){var a=t.selected,s=this.state.selectedDays,r=(new Date).getTime()+864e5,n=new Date(r);if(e>n||e.toDateString()===n.toDateString()){if(a){var i=s.findIndex((function(t){return wt.DateUtils.isSameDay(t,e)}));s.splice(i,1)}else s.push(e);this.setState({selectedDays:s}),this.convertAvailabilityDates()}}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.tReady){var a,s,r,n=new Date,i=de();return a=!0===this.state.addressSearch?Object(u.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[Object(u.jsx)(se.a.Input,{style:{paddingRight:"1rem"},label:t("HostProfileForm:address-label"),placeholder:t("HostProfileForm:address-search-plch"),required:!0,id:"userInputAddress",value:this.state.userInputAddress,onChange:this.onChangeHandler,onBlur:""!==this.state.userInputAddress?this.geolocationDataAddress:void 0}),Object(u.jsx)("div",{children:Object(u.jsx)(m.a,{style:{margin:"0 0 1em"},id:"search",onClick:this.geolocationDataAddress,children:t("reusable:cta:confirm")})})]}):Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{for:"userInputAddress",children:t("HostProfileForm:address-label")}),Object(u.jsxs)("p",{children:[this.state.address,"\xa0",Object(u.jsx)(x.a,{as:"strong",id:"change-address-link",onClick:function(){e.setState({addressSearch:!0,address:"",lat:"",long:"",latitude:"",longitude:""})},className:"fake-link-underlined",children:t("HostProfileForm:not-right")})]})]}),this.state.addressErrorDisplay&&(s=Object(u.jsx)(ae.a,{negative:!0,children:this.state.addressError})),this.state.onCreateErrorDisplay&&(r=Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{children:t("HostProfileForm:create-error-2")}),Object(u.jsx)("ul",{children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]})),Object(u.jsxs)("div",{id:"host-profile-form",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginTop:"3rem"},children:t("HostProfileForm:create-profile")}),Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"1rem"},children:t("HostProfileForm:create-profile-main-title")}),Object(u.jsxs)(se.a,{id:"host-profile-form",children:[Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{for:"description",children:t("HostProfileForm:about-you-label")}),Object(u.jsx)(se.a.TextArea,{placeholder:t("HostProfileForm:about-you-plch"),id:"description",value:this.state.description,onChange:this.onChangeHandler})]}),s,a,Object(u.jsx)("p",{className:"small-left-paragraph",children:t("HostProfileForm:address-message")}),Object(u.jsxs)(se.a.Group,{widths:"equal",children:[Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{for:"rate",children:t("HostProfileForm:rate-label")}),Object(u.jsx)(se.a.Input,{type:"number",placeholder:t("HostProfileForm:rate-plch"),id:"rate",value:this.state.rate,onChange:this.onChangeHandler,onKeyPress:this.listenEnterKey})]}),Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{for:"maxCats",children:t("HostProfileForm:max-cats-label")}),Object(u.jsx)(se.a.Input,{type:"number",placeholder:t("HostProfileForm:max-cats-plch"),id:"maxCats",value:this.state.maxCats,onChange:this.onChangeHandler,onKeyPress:this.listenEnterKey})]}),Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{for:"supplement",children:t("HostProfileForm:supplement-label")}),Object(u.jsx)(se.a.Input,{type:"number",placeholder:t("reusable:price.total-for-1"),id:"supplement",value:this.state.supplement,onChange:this.onChangeHandler,onKeyPress:this.listenEnterKey})]})]}),Object(u.jsxs)("p",{className:"small-left-paragraph",children:[Object(u.jsx)("strong",{children:t("HostProfileForm:explain-supplement-1")})," ",t("reusable:explain-supplement")]}),Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{for:"availability",children:t("HostProfileForm:availability-title")}),Object(u.jsx)(kt.a,{showWeekNumbers:!0,fromMonth:n,disabledDays:{before:n},firstDayOfWeek:1,selectedDays:this.state.selectedDays,onDayClick:this.handleDayClick,localeUtils:he.a,locale:i})]}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:t("HostProfileForm:availability-details")})]}),r,Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)("div",{children:Object(u.jsx)(m.a,{secondary:!0,className:"cancel-button",onClick:this.props.closeForm,children:t("reusable:cta:close")})}),Object(u.jsx)("div",{children:Object(u.jsx)(m.a,{id:"save-host-profile-button",className:"submit-button",disabled:this.state.loading,loading:this.state.loading,onClick:this.createHostProfile,children:t("reusable:cta:save")})})]})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),It=Object(Q.a)("HostProfileForm")(Dt),Nt=function(e){var t=Object(p.a)("MaxCatsUpdateForm"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),b=h[0],g=h[1],x=Object(s.useState)(!1),O=Object(l.a)(x,2),v=O[0],f=O[1],y=Object(s.useState)(e.maxCats),w=Object(l.a)(y,2),k=w[0],S=w[1],C=function(){var t=de();if(f(!0),!1===window.navigator.onLine)f(!1),c(!0),g(["reusable:errors:window-navigator"]);else if(""!==k&&k!==e.maxCats&&k>=1){var s="/api/v1/host_profiles/".concat(e.id),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n={max_cats_accepted:k,locale:t};E.a.patch(s,n,{headers:r}).then((function(){window.alert(a("MaxCatsUpdateForm:update-success")),e.setElement("maxCats",k),e.closeAllForms(),c(!1),g([])})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(f(!1),c(!0),g(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(f(!1),c(!0),g([e.response.data.error]))}))}else f(!1),c(!0),g(["reusable:errors:update-number-fields"])};return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:a("MaxCatsUpdateForm:main-title")}),Object(u.jsx)(se.a,{id:"update-maxCats",style:{margin:"auto",maxWidth:"194px"},children:Object(u.jsx)(se.a.Input,{required:!0,type:"number",id:"newMaxCats",value:k,onChange:function(e){return S(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&C()}})}),o&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,id:"maxCats-close-button",className:"cancel-button",onClick:e.closeAllForms,children:a("reusable:cta:close")}),Object(u.jsx)(m.a,{id:"maxCats-submit-button",className:"submit-button",disabled:v,loading:v,onClick:function(){return C()},children:a("reusable:cta:save")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},Mt=function(e){var t=Object(p.a)("DescriptionUpdateForm"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),b=h[0],g=h[1],x=Object(s.useState)(!1),O=Object(l.a)(x,2),v=O[0],f=O[1],y=Object(s.useState)(e.description),w=Object(l.a)(y,2),k=w[0],S=w[1];return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:a("DescriptionUpdateForm:main-title")}),Object(u.jsx)(se.a,{id:"update-description",children:Object(u.jsx)(se.a.TextArea,{required:!0,id:"newDescription",value:k,onChange:function(e){return S(e.target.value)}})}),o&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,id:"description-close-button",className:"cancel-button",onClick:e.closeAllForms,children:a("reusable:cta:close")}),Object(u.jsx)(m.a,{id:"description-submit-button",className:"submit-button",disabled:v,loading:v,onClick:function(){return function(){var t=de();if(f(!0),!1===window.navigator.onLine)f(!1),c(!0),g(["reusable:errors:window-navigator"]);else if(""!==k&&k!==e.description){var s="/api/v1/host_profiles/".concat(e.id),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n={description:k,locale:t};E.a.patch(s,n,{headers:r}).then((function(){window.alert(a("DescriptionUpdateForm:update-success")),e.setElement("description",k),e.closeAllForms()})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(f(!1),c(!0),g(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(f(!1),c(!0),g([e.response.data.error]))}))}else f(!1),c(!0),g(["DescriptionUpdateForm:update-error"])}()},children:a("reusable:cta:save")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},_t=function(e){var t=Object(p.a)("RateUpdateForm"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),b=h[0],g=h[1],x=Object(s.useState)(!1),O=Object(l.a)(x,2),v=O[0],f=O[1],y=Object(s.useState)(e.rate),w=Object(l.a)(y,2),k=w[0],S=w[1],C=function(){var t=de();if(f(!0),!1===window.navigator.onLine)f(!1),c(!0),g(["reusable:errors:window-navigator"]);else if(""!==k&&k!==e.rate&&k>=.01){var s="/api/v1/host_profiles/".concat(e.id),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n={price_per_day_1_cat:k,locale:t};E.a.patch(s,n,{headers:r}).then((function(){window.alert(a("RateUpdateForm:update-success")),e.setElement("rate",k),e.closeAllForms(),c(!1),g([])})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(f(!1),c(!0),g(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(f(!1),c(!0),g([e.response.data.error]))}))}else f(!1),c(!0),g(["reusable:errors:update-number-fields"])};return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:a("RateUpdateForm:main-title")}),Object(u.jsx)(se.a,{id:"update-rate",style:{margin:"auto",maxWidth:"194px"},children:Object(u.jsx)(se.a.Input,{required:!0,type:"number",id:"newRate",value:k,onChange:function(e){return S(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&C()}})}),o&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,id:"rate-close-button",className:"cancel-button",onClick:e.closeAllForms,children:a("reusable:cta:close")}),Object(u.jsx)(m.a,{id:"rate-submit-button",className:"submit-button",disabled:v,loading:v,onClick:function(){return C()},children:a("reusable:cta:save")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},Ht=function(e){var t=Object(p.a)("SupplementUpdateForm"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),b=h[0],g=h[1],x=Object(s.useState)(!1),O=Object(l.a)(x,2),v=O[0],f=O[1],y=Object(s.useState)(e.supplement),w=Object(l.a)(y,2),k=w[0],S=w[1],C=function(){var t=de();if(f(!0),!1===window.navigator.onLine)f(!1),c(!0),g(["reusable:errors:window-navigator"]);else if(""!==k&&k!==e.supplement&&k>=0){var s="/api/v1/host_profiles/".concat(e.id),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n={supplement_price_per_cat_per_day:k,locale:t};E.a.patch(s,n,{headers:r}).then((function(){window.alert(a("SupplementUpdateForm:update-success")),e.setElement("supplement",k),e.closeAllForms(),c(!1),g([])})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(f(!1),c(!0),g(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(f(!1),c(!0),g([e.response.data.error]))}))}else f(!1),c(!0),g(["reusable:errors:update-number-fields"])};return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:a("SupplementUpdateForm:main-title")}),Object(u.jsx)(se.a,{id:"update-supplement",style:{margin:"auto",maxWidth:"194px"},children:Object(u.jsx)(se.a.Input,{required:!0,type:"number",id:"newSupplement",value:k,onChange:function(e){return S(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&C()}})}),o&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,id:"supplement-close-button",className:"cancel-button",onClick:e.closeAllForms,children:a("reusable:cta:close")}),Object(u.jsx)(m.a,{id:"supplement-submit-button",className:"submit-button",disabled:v,loading:v,onClick:function(){return C()},children:a("reusable:cta:save")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},Bt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var s;return Object(T.a)(this,a),(s=t.call(this,e)).updateAvailability=function(e){e.preventDefault();var t=s.props.t,a=de();if(s.setState({loading:!0}),!1===window.navigator.onLine)s.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(JSON.stringify(s.state.newAvailability)!==JSON.stringify(s.props.availability)){var r="/api/v1/host_profiles/".concat(s.props.id),n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},i={availability:s.state.newAvailability.filter((function(e){var t=new Date,a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return e>new Date(a).getTime()-864e5})),locale:a};E.a.patch(r,i,{headers:n}).then((function(){s.setState({loading:!1,errorDisplay:!1,errors:""}),window.alert(t("AvailabilityUpdateForm:success-update")),window.location.reload()})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?s.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(t("reusable:errors:401")),q("/")):s.setState({loading:!1,errorDisplay:!0,errors:e.response.data.error})}))}else s.setState({loading:!1,errorDisplay:!0,errors:["AvailabilityUpdateForm:update-error"]})},s.handleDayClick=s.handleDayClick.bind(Object(te.a)(s)),s.state={errorDisplay:!1,errors:"",loading:!1,newAvailability:s.props.availability,selectedDays:s.props.selectedDays,incomingBookings:s.props.incomingBookings},s}return Object(L.a)(a,[{key:"convertAvailabilityDates",value:function(){var e=this.state.selectedDays.map((function(e){var t=new Date(e),a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return new Date(a).getTime()})).sort((function(e,t){return e-t}));this.setState({newAvailability:e})}},{key:"handleDayClick",value:function(e,t){var a=t.selected,s=t.disabled,r=(new Date).getTime()+864e5,n=new Date(r),i=this.state.selectedDays;if(e>n||e.toDateString()===n.toDateString()){if(s)return;if(a){var o=i.findIndex((function(t){return wt.DateUtils.isSameDay(t,e)}));i.splice(o,1)}else i.push(e);this.setState({selectedDays:i}),this.convertAvailabilityDates()}}},{key:"render",value:function(){var e=this.props.t;if(this.props.tReady){var t,a=de(),s=new Date,r=[{before:s}];return this.state.errorDisplay&&(t=Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:e("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(t){return Object(u.jsx)("li",{children:e(t)},t)}))})]})),this.state.incomingBookings.length>0&&this.state.incomingBookings.map((function(e){return r.push(new Date(e)),null})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:e("AvailabilityUpdateForm:main-title")}),Object(u.jsx)("div",{style:{marginRight:"-2rem",marginLeft:"-2rem",marginBottom:"-1rem"},children:Object(u.jsx)(kt.a,{showWeekNumbers:!0,firstDayOfWeek:1,selectedDays:this.state.selectedDays,fromMonth:s,disabledDays:r,onDayClick:this.handleDayClick,localeUtils:he.a,locale:a})}),t,Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,id:"availability-close-button",className:"cancel-button",onClick:this.props.closeAllForms,children:e("reusable:cta:close")}),Object(u.jsx)(m.a,{id:"availability-submit-button",className:"submit-button",disabled:this.state.loading,loading:this.state.loading,onClick:this.updateAvailability,children:e("reusable:cta:save")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),Ft=Object(Q.a)("AvailabilityUpdateForm")(Bt),At=function(e){var t=Object(p.a)("AvailabilityViewOnlyMode"),a=t.t;if(t.ready){var s=de();return Object(u.jsx)(u.Fragment,{children:0===e.selectedDays.length?Object(u.jsx)("p",{children:a("AvailabilityViewOnlyMode:no-dates-selected")}):Object(u.jsx)("div",{style:{marginRight:"-2rem",marginLeft:"-2rem",marginBottom:"-1rem"},children:Object(u.jsx)(kt.a,{showWeekNumbers:!0,firstDayOfWeek:1,selectedDays:e.selectedDays,month:e.selectedDays[0],fromMonth:e.selectedDays[0],toMonth:e.selectedDays[e.selectedDays.length-1],localeUtils:he.a,locale:s})})})}return Object(u.jsx)(j,{})},zt=function(e){var t=Object(p.a)("AddressUpdateForm"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),b=h[0],O=h[1],v=Object(s.useState)(!1),f=Object(l.a)(v,2),y=f[0],w=f[1],k=Object(s.useState)(!0),S=Object(l.a)(k,2),C=S[0],D=S[1],I=Object(s.useState)(!1),N=Object(l.a)(I,2),M=N[0],_=N[1],H=Object(s.useState)(""),B=Object(l.a)(H,2),F=B[0],A=B[1],z=Object(s.useState)(""),T=Object(l.a)(z,2),L=T[0],P=T[1],Y=Object(s.useState)(""),V=Object(l.a)(Y,2),U=V[0],R=V[1],K=Object(s.useState)(""),G=Object(l.a)(K,2),W=G[0],Z=G[1],J=Object(s.useState)(""),Q=Object(l.a)(J,2),X=Q[0],$=Q[1],ee=Object(s.useState)(""),te=Object(l.a)(ee,2),re=te[0],ne=te[1],ie=Object(s.useState)(e.fullAddress),oe=Object(l.a)(ie,2),ce=oe[0],le=oe[1],ue=function(){me.a.setApiKey("AIzaSyC-qFZ0xFJcqr0VEvduFb-j7v3QIOPXjlw"),me.a.setLanguage("sv"),me.a.fromAddress(ce).then((function(t){var s=t.results[0].geometry.location,r=s.lat,n=s.lng;void 0===Ct(e.location,t.results[0].address_components)?window.confirm(a("reusable:alerts.no-match-address"))&&($(r),ne(n),R(r-St()),Z(n+St()),P(t.results[0].formatted_address),D(!1),_(!1),c(!1),O([])):($(r),ne(n),R(r-St()),Z(n+St()),P(t.results[0].formatted_address),D(!1),_(!1),c(!1),O([]))}),(function(e){"Server returned status code ZERO_RESULTS"===e.message?(_(!0),A(a("reusable:errors:google-error-1"))):"Server returned status code REQUEST_DENIED"===e.message?(_(!0),A(a("reusable:errors:google-error-2"))):(_(!0),A(e.message))}))};return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:a("AddressUpdateForm:main-title")}),M&&Object(u.jsx)(ae.a,{negative:!0,children:F}),C?Object(u.jsx)("div",{style:{margin:"auto",display:"table",width:"100%"},children:Object(u.jsx)(se.a.Input,{style:{width:"100%"},placeholder:a("AddressUpdateForm:address-search-plch"),required:!0,id:"userInputAddress",value:ce,onChange:function(e){return le(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&ue()},iconPosition:"right",icon:Object(u.jsx)(g.a,{id:"search",name:"search",link:!0,onClick:function(){return ue()},style:{color:"#c90c61"}})})}):Object(u.jsx)("div",{className:"required field",children:Object(u.jsxs)("p",{style:{textAlign:"center"},children:[L,"\xa0",Object(u.jsx)(x.a,{as:"strong",id:"change-address-link",onClick:function(){return D(!0),P(""),R(""),Z(""),$(""),void ne("")},className:"fake-link-underlined",children:a("AddressUpdateForm:not-right")})]})}),o&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,id:"address-close-button",className:"cancel-button",onClick:function(){return e.closeAllForms()},children:a("reusable:cta:close")}),Object(u.jsx)(m.a,{loading:y,disabled:y,id:"address-submit-button",className:"submit-button",onClick:function(){return function(){var t=de();if(w(!0),!1===window.navigator.onLine)w(!1),c(!0),O(["reusable:errors:window-navigator"]);else if(e.fullAddress===L||""===L)w(!1),c(!0),O(["AddressUpdateForm:update-error"]);else{var s="/api/v1/host_profiles/".concat(e.id),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n={full_address:L,lat:U,long:W,latitude:X,longitude:re,locale:t};E.a.patch(s,n,{headers:r}).then((function(){window.alert(a("AddressUpdateForm:update-success")),e.setElement("fullAddress",L),e.closeAllForms(),c(!1),O([])})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(w(!1),c(!0),O(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(w(!1),c(!0),O([e.response.data.error]))}))}}()},children:a("reusable:cta:save")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},Tt=void 0,Lt=Object(s.forwardRef)((function(e,t){var a=Object(p.a)("HostProfile"),r=a.t,n=a.ready,i=Object(s.useState)([]),h=Object(l.a)(i,2),b=h[0],m=h[1],g=Object(s.useState)(!1),O=Object(l.a)(g,2),v=O[0],f=O[1],y=Object(s.useState)(!0),w=Object(l.a)(y,2),k=w[0],S=w[1],C=Object(s.useState)({editDescriptionForm:!1,editMaxCatsForm:!1,editRateForm:!1,editSupplementForm:!1,editableCalendar:!1,editAddress:!1}),D=Object(l.a)(C,2),I=D[0],N=D[1],M=function(){var t=Object(c.a)(o.a.mark((function t(){var a,s,n,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==window.navigator.onLine){t.next=6;break}S(!1),f(!0),m(["reusable:errors:window-navigator"]),t.next=23;break;case 6:return t.prev=6,a=de(),s="/api/v1/host_profiles/".concat(e.id),n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},i={code:We.a.parse(window.location.search).code,locale:a},t.next=13,E.a.patch(s,i,{headers:n});case 13:c=t.sent,e.setElement("stripeAccountId",c.data.id),S(!1),window.alert(r("HostProfile:stripe-success")),window.location.replace("/user-page"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status||455===t.t0.response.status?(S(!1),f(!0),m([t.t0.response.data.error])):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(r("reusable:errors:401")),q("/")):(S(!1),f(!0),m([t.t0.response.data.error]));case 23:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){We.a.parse(window.location.search).code&&We.a.parse(window.location.search).state===e.stripeState?M():S(!1)}),[]);var _=function(){N((function(e){return Object(d.a)(Object(d.a)({},e),{},{editDescriptionForm:!1,editMaxCatsForm:!1,editRateForm:!1,editSupplementForm:!1,editableCalendar:!1,editAddress:!1})})),f(!1),m([])};Object(s.useImperativeHandle)(t,(function(){return{closeAllForms:function(){_()}}}));var H=function(t){_(),Object.keys(I).forEach((function(e){e===t.target.id&&N((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(ee.a)({},e,!I[e]))}))})),f(!1),m([]),e.closeLocPasForms()};return n&&!1===k?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)(x.a,{as:"h2",children:r("HostProfile:main-header")}),v&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:r("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:r(e)},e)}))})]}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsxs)("p",{id:"description",children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})}),"\xa0",e.description,"\u2002",Object(u.jsx)(x.a,{as:"strong",id:"editDescriptionForm",onClick:function(e){return H(e)},className:"fake-link-underlined",children:r("reusable:cta:change")})]}),Object(u.jsx)("div",{style:{maxHeight:I.editDescriptionForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:I.editDescriptionForm&&Object(u.jsx)(Mt,{description:e.description,id:e.id,closeAllForms:_.bind(Tt),setElement:e.setElement})}),Object(u.jsxs)("p",{id:"address",children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z"})}),"\xa0",e.fullAddress,"\u2002",Object(u.jsx)(x.a,{as:"strong",id:"editAddress",onClick:function(e){return H(e)},className:"fake-link-underlined",children:r("reusable:cta:change")})]}),Object(u.jsx)("div",{style:{maxHeight:I.editAddress?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:I.editAddress&&Object(u.jsx)(zt,{fullAddress:e.fullAddress,id:e.id,closeAllForms:_.bind(Tt),location:e.location,setElement:e.setElement})}),Object(u.jsxs)("p",{id:"maxCats",children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 236.62 236.62",children:Object(u.jsx)("path",{d:"M197.023,225.545c-1.145-9.533-11.68-10.614-17.805-9.958c-6.521-24.554,16.225-61.151,17.563-69.82c1.438-9.312-6.658-63.5-7.513-90.938C188.389,26.662,147.48-4.433,140.65,0.524c-6.768,7.484,9.748,17.585,1.054,26.245c-8.398,8.367-10.588,13.99-16.824,23.46c-15.976,24.255,27.318,24.558,27.318,24.558s-33.882,25.112-41.421,37.768c-6.943,11.656-9.854,24.696-18.232,35.688c-19.094,25.051-14.791,68.729-14.791,68.729s-36.17-11.839-16.264-53.133C76.643,132.406,84.107,86.02,50.016,97.95c-13.189,4.616,2.949,14.325,5.734,17.435c9.318,10.4,1.441,27.896-4.174,38.012c-15.037,27.091-20.496,55.475,11.154,72.978c14.063,7.776,33.055,9.7,52.17,9.982l48.64,0.14C179.564,237.294,197.689,234.298,197.023,225.545z"})}),"\xa0",r("HostProfile:max-cats")," ",e.maxCats,"\u2002",Object(u.jsx)(x.a,{as:"strong",id:"editMaxCatsForm",onClick:function(e){return H(e)},className:"fake-link-underlined",children:r("reusable:cta:change")})]}),Object(u.jsx)("div",{style:{maxHeight:I.editMaxCatsForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:I.editMaxCatsForm&&Object(u.jsx)(Nt,{maxCats:e.maxCats,id:e.id,closeAllForms:_.bind(Tt),setElement:e.setElement})}),Object(u.jsxs)("p",{id:"rate",children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M18 6V4H2v2h16zm0 4H2v6h16v-6zM0 4c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm4 8h4v2H4v-2z"})}),"\xa0",e.rate," ",r("reusable:price:total-for-1"),"\u2002",Object(u.jsx)(x.a,{as:"strong",id:"editRateForm",onClick:function(e){return H(e)},className:"fake-link-underlined",children:r("reusable:cta:change")})]}),Object(u.jsx)("div",{style:{maxHeight:I.editRateForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:I.editRateForm&&Object(u.jsx)(_t,{rate:e.rate,id:e.id,closeAllForms:_.bind(Tt),setElement:e.setElement})}),Object(u.jsxs)("p",{id:"supplement",children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M11 9V5H9v4H5v2h4v4h2v-4h4V9h-4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"})}),"\xa0",r("HostProfile:extra")," ",e.supplement," ",r("reusable:price:total-day"),"\u2002",Object(u.jsx)(x.a,{as:"strong",id:"editSupplementForm",onClick:function(e){return H(e)},className:"fake-link-underlined",children:r("reusable:cta:change")})]}),Object(u.jsx)("div",{style:{maxHeight:I.editSupplementForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:I.editSupplementForm&&Object(u.jsx)(Ht,{supplement:e.supplement,id:e.id,closeAllForms:_.bind(Tt),setElement:e.setElement})}),Object(u.jsxs)("p",{id:"availability",style:{marginBottom:"0"},children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z"})}),"\xa0",r("HostProfile:availability"),"\u2002",Object(u.jsx)(x.a,{as:"strong",id:"editableCalendar",onClick:function(e){return H(e)},className:"fake-link-underlined",children:r("reusable:cta:change")})]}),I.editableCalendar?Object(u.jsx)(Ft,{selectedDays:e.availability.map((function(e){return new Date(e)})),availability:e.availability,id:e.id,incomingBookings:e.incomingBookings,closeAllForms:_.bind(Tt)}):Object(u.jsx)(At,{selectedDays:e.availability.map((function(e){return new Date(e)}))})]}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0})]}):Object(u.jsx)(j,{})}));Lt.displayName="HostProfile";var Pt,Yt,Vt,Ut,Rt,qt,Kt,Et,Gt=Lt,Wt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={newLocation:"",loading:!1,errorDisplay:!1,errors:""},e.listenEnterKeyLocation=function(t){"Enter"===t.key&&e.updateLocation(t)},e.handleLocationChange=function(t,a){var s=a.value;e.setState({newLocation:s})},e.updateLocation=function(t){var a=e.props.t,s=de(),r=e.props.fullAddress;if(!1===window.navigator.onLine)e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(e.state.newLocation===e.props.location||""===e.state.newLocation)e.setState({loading:!1,errorDisplay:!0,errors:["no-location-error"]});else if(""!==r&&!1===r.includes(e.state.newLocation)){if(window.confirm(a("LocationUpdateForm:no-match-alert"))){e.setState({loading:!0}),t.preventDefault();var n={location:e.state.newLocation,locale:s},i={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.put("/api/v1/auth/",n,{headers:i}).then((function(){window.alert(a("LocationUpdateForm:success-alert")),window.location.reload()})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status||404===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:t.response.data.errors.full_messages})}))}}else{e.setState({loading:!0}),t.preventDefault();var o={location:e.state.newLocation,locale:s},c={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.put("/api/v1/auth/",o,{headers:c}).then((function(){window.alert(a("LocationUpdateForm:success-alert")),window.location.reload()})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status||404===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:t.response.data.errors.full_messages})}))}},e}return Object(L.a)(a,[{key:"render",value:function(){var e,t=this.props.t;return this.props.tReady?(this.state.errorDisplay&&(e=Object(u.jsxs)(ae.a,{negative:!0,style:{width:"inherit"},children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:t("reusable:errors.action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsxs)(se.a,{style:{maxWidth:"194px",margin:"auto"},children:[Object(u.jsx)(re.a,{clearable:!0,search:!0,selection:!0,placeholder:t("LocationUpdateForm:new-location-plch"),options:ne,id:"location",style:{width:"100%"},onChange:this.handleLocationChange,onKeyPress:this.listenEnterKeyLocation}),e]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,className:"cancel-button",onClick:this.props.closeLocationAndPasswordForms,children:t("reusable:cta.close")}),Object(u.jsx)(m.a,{id:"location-submit-button",className:"submit-button",disabled:this.state.loading,loading:this.state.loading,onClick:this.updateLocation,children:t("reusable:cta.change")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]})):Object(u.jsx)(j,{})}}]),a}(s.Component),Zt=Object(Q.a)("LocationUpdateForm")(Wt),Jt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={currentPassword:"",newPassword:"",newPasswordConfirmation:"",loading:!1,errorDisplay:!1,errors:""},e.listenEnterKeyPassword=function(t){"Enter"===t.key&&e.updatePassword(t)},e.onChangeHandler=function(t){e.setState(Object(ee.a)({},t.target.id,t.target.value))},e.updatePassword=function(t){var a=e.props.t;if(!1===window.navigator.onLine)e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(e.state.newPassword===e.state.newPasswordConfirmation&&e.state.newPassword.length>=6){e.setState({loading:!0}),t.preventDefault();var s=de(),r={current_password:e.state.currentPassword,password:e.state.newPassword,password_confirmation:e.state.newPasswordConfirmation,locale:s},n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.put("/api/v1/auth/password",r,{headers:n}).then((function(){e.setState({displayPasswordForm:!1,errorDisplay:!1,errors:""}),window.alert(a("PasswordUpdateForm:success-alert")),q("/login")})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status||404===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:t.response.data.errors.full_messages})}))}else e.setState({errorDisplay:!0,errors:["PasswordUpdateForm:error"]})},e}return Object(L.a)(a,[{key:"render",value:function(){var e,t=this.props.t;return this.props.tReady?(this.state.errorDisplay&&(e=Object(u.jsxs)(ae.a,{negative:!0,style:{width:"inherit"},children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:t("reusable:errors.action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsxs)(se.a,{style:{maxWidth:"194px",margin:"auto"},children:[Object(u.jsx)(se.a.Input,{required:!0,id:"currentPassword",value:this.state.currentPassword,type:"password",onChange:this.onChangeHandler,placeholder:t("PasswordUpdateForm:plch.current-pass"),onKeyPress:this.listenEnterKeyPassword}),Object(u.jsx)(se.a.Input,{required:!0,id:"newPassword",value:this.state.newPassword,type:"password",onChange:this.onChangeHandler,placeholder:t("PasswordUpdateForm:plch.new-pass"),onKeyPress:this.listenEnterKeyPassword}),Object(u.jsx)(se.a.Input,{required:!0,id:"newPasswordConfirmation",value:this.state.newPasswordConfirmation,type:"password",onChange:this.onChangeHandler,placeholder:t("PasswordUpdateForm:plch.new-pass-confirm"),onKeyPress:this.listenEnterKeyPassword}),Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"0"},children:t("PasswordUpdateForm:info")}),e]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,className:"cancel-button",onClick:this.props.closeLocationAndPasswordForms,children:t("reusable:cta.close")}),Object(u.jsx)(m.a,{id:"password-submit-button",className:"submit-button",disabled:this.state.loading,loading:this.state.loading,onClick:this.updatePassword,children:t("reusable:cta.change")})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]})):Object(u.jsx)(j,{})}}]),a}(s.Component),Qt=Object(Q.a)("PasswordUpdateForm")(Jt),Xt=a(228),$t=a.n(Xt),ea=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,errorDisplay:!1,errors:"",image:"",position:{x:.5,y:.5},scale:1,rotate:0},e.setEditorRef=function(t){t&&(e.editor=t)},e.handleNewImage=function(t){e.setState({image:t.target.files[0],position:{x:.5,y:.5},errorDisplay:!1,errors:[]})},e.rotateLeft=function(t){t.preventDefault(),e.setState({rotate:e.state.rotate-90})},e.rotateRight=function(t){t.preventDefault(),e.setState({rotate:e.state.rotate+90})},e.handleXPosition=function(t){var a=parseFloat(t.target.value);e.setState({position:Object(d.a)(Object(d.a)({},e.state.position),{},{x:a})})},e.handleYPosition=function(t){var a=parseFloat(t.target.value);e.setState({position:Object(d.a)(Object(d.a)({},e.state.position),{},{y:a})})},e.handlePositionChange=function(t){e.setState({position:t})},e.updateAvatar=function(t){var a=e.props.t;if(!1===window.navigator.onLine)e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(""===e.state.image)e.setState({loading:!1,errorDisplay:!0,errors:["AvatarUpdateForm:no-avatar-error"]});else if("image/jpeg"!==e.state.image.type&&"image/jpg"!==e.state.image.type&&"image/png"!==e.state.image.type&&"image/gif"!==e.state.image.type)e.setState({loading:!1,errorDisplay:!0,errors:["AvatarUpdateForm:file-type-error"]});else{t.preventDefault();var s=de();e.setState({loading:!0});var r=e.editor.getImageScaledToCanvas().toDataURL(),n="/api/v1/users/".concat(e.props.userId),i={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},o={profile_avatar:Array.from(new Set([r])),locale:s,client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.put(n,o,{headers:i}).then((function(){e.setState({errorDisplay:!1,errors:[]}),window.location.reload()})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:t.response.data.error})}))}},e.closeModal=function(){e.setState({errorDisplay:!1,errors:"",image:""})},e}return Object(L.a)(a,[{key:"render",value:function(){var e,t,a,s,r=this.props.t;return this.props.tReady?(s="https://ui-avatars.com/api/?name=".concat(this.props.username,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"),this.state.errorDisplay&&(e=Object(u.jsxs)(ae.a,{negative:!0,style:{width:"inherit"},children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:r("reusable:errors.action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:r(e)},e)}))})]})),this.state.loading||""===this.state.image?(t=Object(u.jsx)(g.a,{disabled:!0,name:"redo alternate",style:{position:"inherit",fontSize:"2em",marginTop:"0.1em",color:"#d8d8d8"}}),a=Object(u.jsx)(g.a,{disabled:!0,name:"undo alternate",style:{position:"inherit",fontSize:"2em",marginTop:"0.1em",color:"#d8d8d8"}})):(t=Object(u.jsx)(g.a,{name:"redo alternate",style:{position:"inherit",fontSize:"2em",marginTop:"0.1em",color:"#d8d8d8",cursor:"pointer"},onClick:this.rotateRight}),a=Object(u.jsx)(g.a,{name:"undo alternate",style:{position:"inherit",fontSize:"2em",marginTop:"0.1em",color:"#d8d8d8",cursor:"pointer"},onClick:this.rotateLeft})),Object(u.jsx)("div",{style:{margin:"auto",display:"table",marginBottom:"1rem"},children:Object(u.jsxs)(g.a.Group,{size:"big",onClick:this.props.closeAllForms,children:[Object(u.jsx)(F.a,{src:null===this.props.avatar?s:this.props.avatar,size:"small",style:{borderRadius:"50%"}}),Object(u.jsx)(Re.a,{modal:!0,className:"avatar-popup",trigger:Object(u.jsx)(g.a,{id:"add-avatar",corner:"bottom right",name:"pencil alternate",circular:!0,style:{marginBottom:"1rem",backgroundColor:"#c90c61",textShadow:"none",color:"#ffffff",cursor:"pointer"}}),position:"top center",closeOnDocumentClick:!0,onClose:this.closeModal,children:Object(u.jsxs)("div",{style:{marginBottom:"1rem"},children:[Object(u.jsx)("div",{children:Object(u.jsx)($t.a,{ref:this.setEditorRef,width:258,height:258,position:this.state.position,onPositionChange:this.handlePositionChange,rotate:parseFloat(this.state.rotate),borderRadius:129,image:this.state.image,className:"editor-canvas"})}),Object(u.jsxs)("div",{className:"button-wrapper",style:{marginBottom:"1rem"},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{for:"files",children:Object(u.jsxs)(g.a.Group,{children:[Object(u.jsx)(g.a,{name:"photo",size:"big",style:{color:"#d8d8d8",fontSize:"2.5em",cursor:"pointer"}}),Object(u.jsx)(g.a,{corner:"bottom right",name:"add",style:{textShadow:"none",color:"#c90c61"}})]})}),Object(u.jsx)("input",{id:"files",style:{display:"none"},onChange:this.handleNewImage,type:"file"})]}),Object(u.jsx)("div",{children:a}),Object(u.jsx)("div",{children:t})]}),e,Object(u.jsx)("div",{className:"button-wrapper",children:Object(u.jsx)(m.a,{id:"avatar-submit-button",className:"submit-button",disabled:this.state.loading,loading:this.state.loading,onClick:this.updateAvatar,children:r("reusable:cta:save")})})]})})]})})):Object(u.jsx)(j,{})}}]),a}(s.Component),ta=Object(Q.a)("AvatarUpdateForm")(ea),aa=function(e){var t=Object(p.a)("NotificationsUpdateForm"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),b=h[0],g=h[1],x=Object(s.useState)(!1),O=Object(l.a)(x,2),v=O[0],f=O[1],y=Object(s.useState)(e.messageNotifications),w=Object(l.a)(y,2),k=w[0],S=w[1];return r?Object(u.jsxs)("div",{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsxs)("div",{style:{maxWidth:"194px",margin:"auto"},children:[Object(u.jsxs)("div",{style:{display:"inline-flex"},children:[Object(u.jsx)("div",{className:"toggle",onClick:function(){return S(!k)},children:Object(u.jsx)(jt.a,{style:{marginRight:"1em",padding:"0.5em"},toggle:!0,checked:k})}),Object(u.jsx)("label",{style:{paddingLeft:"1.5em",color:k?"grey":"silver",fontSize:"small"},children:a("NotificationsUpdateForm:label")})]}),v&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:b.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,className:"cancel-button",onClick:function(){return e.closeLocationAndPasswordForms()},children:a("reusable:cta.close")}),Object(u.jsx)(m.a,{id:"notifications-submit-button",className:"submit-button",loading:o,disabled:o,onClick:function(){return function(){if(!1===window.navigator.onLine)c(!1),f(!0),g(["reusable:errors:window-navigator"]);else if(k===e.messageNotifications)c(!1),f(!0),g(["NotificationsUpdateForm:update-error"]);else{c(!0);var t=de(),s={message_notification:k,locale:t},r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.put("/api/v1/auth/",s,{headers:r}).then((function(){window.alert(a("NotificationsUpdateForm:update-success")),window.location.reload()})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(c(!1),f(!0),g(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status||404===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(c(!1),v(!0),g(e.response.data.errors.full_messages))}))}}()},children:a("reusable:cta.change")})]})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},sa=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(s.useState)([]),o=Object(l.a)(i,2),c=o[0],d=o[1],h=Object(s.useState)(!1),b=Object(l.a)(h,2),g=b[0],x=b[1],O=Object(s.useState)(e.langPref),v=Object(l.a)(O,2),f=v[0],y=v[1],w=Object(p.a)("LangPrefUpdateForm"),k=w.t,S=w.ready,C=function(e){y(e.target.id)};return S?Object(u.jsxs)("div",{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsxs)("div",{style:{maxWidth:"194px",margin:"auto"},children:[Object(u.jsx)("div",{style:{display:"inline-flex"},children:Object(u.jsxs)(se.a,{children:[Object(u.jsx)(se.a.Field,{children:Object(u.jsx)(jt.a,{radio:!0,label:Object(u.jsx)("label",{style:{color:"sv-SE"===f?"grey":"silver",fontSize:"small"},children:"Jag vill f\xe5 epost fr\xe5n KattBNB p\xe5 svenska"}),name:"checkboxRadioGroup",id:"sv-SE",checked:"sv-SE"===f,onChange:function(e){return C(e)}})}),Object(u.jsx)(se.a.Field,{children:Object(u.jsx)(jt.a,{radio:!0,label:Object(u.jsx)("label",{style:{color:"en-US"===f?"grey":"silver",fontSize:"small"},children:"I want to get emails from KattBNB in English"}),name:"checkboxRadioGroup",id:"en-US",checked:"en-US"===f,onChange:function(e){return C(e)}})})]})}),g&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:k("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:c.map((function(e){return Object(u.jsx)("li",{children:k(e)},e)}))})]}),Object(u.jsxs)("div",{className:"button-wrapper",children:[Object(u.jsx)(m.a,{secondary:!0,className:"cancel-button",onClick:function(){return e.closeLocationAndPasswordForms()},children:k("reusable:cta.close")}),Object(u.jsx)(m.a,{id:"email-language-submit-button",className:"submit-button",loading:r,disabled:r,onClick:function(){return function(){if(!1===window.navigator.onLine)n(!1),x(!0),d(["reusable:errors:window-navigator"]);else if(f===e.langPref)n(!1),x(!0),d(["LangPrefUpdateForm:update-error"]);else{n(!0);var t=de(),a={lang_pref:f,locale:t},s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.put("/api/v1/auth/",a,{headers:s}).then((function(){window.alert(k("LangPrefUpdateForm:update-success")),window.location.reload()})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(n(!1),x(!0),d(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status||404===e.response.status?(window.alert(k("reusable:errors:401")),q("/")):(n(!1),g(!0),d(e.response.data.errors.full_messages))}))}}()},children:k("reusable:cta.change")})]})]}),Object(u.jsx)(Ae.a,{style:{marginBottom:"2rem"}})]}):Object(u.jsx)(j,{})},ra=function(e){return Object(u.jsx)("svg",{height:e.height,fill:e.fill,className:e.class,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10,0,0,10H3V20H17V10h3ZM7.89,9.3a2.11,2.11,0,0,1,4.22,0v.85a2.11,2.11,0,1,1-4.22,0Zm6.33,7.33H5.78v-2.4a8.44,8.44,0,0,1,8.44,0Z"})})},na=function(e){return Object(u.jsx)("svg",{height:e.height,fill:e.fill,className:e.class,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M18,6V4H2v2H18z M18,10H2v6h16V10z M0,4c0-1.1,0.9-2,2-2h16c1.1,0,2,0.9,2,2v12c0,1.1-0.9,2-2,2H2c-1.1,0-2-0.9-2-2V4z M4,12h4v2H4V12z"})})},ia=function(e){return Object(u.jsx)("svg",{height:e.height,fill:e.fill,className:e.class,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10,0L1.82,3.64v5.45C1.82,14.14,5.3,18.85,10,20c4.7-1.15,8.18-5.86,8.18-10.91V3.64L10,0z M8.18,14.55l-3.64-3.64 l1.29-1.29l2.35,2.35l5.99-5.99l1.29,1.29L8.18,14.55z"})})},oa=function(e){var t,a=Object(s.useState)([]),r=Object(l.a)(a,2),n=r[0],i=r[1],d=Object(s.useState)(!1),h=Object(l.a)(d,2),g=h[0],x=h[1],v=Object(s.useState)(!0),f=Object(l.a)(v,2),y=f[0],w=f[1],k=Object(s.useState)(!1),S=Object(l.a)(k,2),C=S[0],D=S[1],I=Object(s.useState)([]),N=Object(l.a)(I,2),M=N[0],_=N[1],H=Object(s.useState)(!1),B=Object(l.a)(H,2),F=B[0],A=B[1],z=Object(s.useState)(!1),T=Object(l.a)(z,2),L=T[0],P=T[1],Y=Object(s.useState)(1),V=Object(l.a)(Y,2),U=V[0],R=V[1],K=Object(p.a)("HostProfileProgressBar"),G=K.t,W=K.ready,Z=function(){var t=Object(c.a)(o.a.mark((function t(){var a,s,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==window.navigator.onLine){t.next=6;break}x(!0),i(["reusable:errors:window-navigator"]),w(!1),t.next=20;break;case 6:return t.prev=6,a=de(),s="/api/v1/stripe?locale=".concat(a,"&host_profile_id=").concat(e.hostProfileId,"&occasion=retrieve"),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.next=12,E.a.get(s,{headers:r});case 12:(n=t.sent).data.message||(P(n.data.payouts_enabled),_(n.data.requirements.errors),A(n.data.requirements.pending_verification.length>0),n.data.payouts_enabled?R(3):(n.data.requirements.errors.length>0||n.data.requirements.pending_verification.length>0)&&R(2)),w(!1),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status?(x(!0),i([t.t0.response.data.error]),w(!1)):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(G("reusable:errors:401")),q("/")):(x(!0),i([t.t0.response.data.error]),w(!1));case 20:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(c.a)(o.a.mark((function t(){var a,s,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==window.navigator.onLine){t.next=5;break}x(!0),i(["reusable:errors:window-navigator"]),t.next=20;break;case 5:return t.prev=5,D(!0),a=de(),s="/api/v1/stripe?locale=".concat(a,"&host_profile_id=").concat(e.hostProfileId,"&occasion=login_link"),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.next=12,E.a.get(s,{headers:r});case 12:n=t.sent,window.open(n.data.url),D(!1),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status?(x(!0),i([t.t0.response.data.error]),D(!1)):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(G("reusable:errors:401")),q("/")):(x(!0),i([t.t0.response.data.error]),D(!1));case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){Z()}),[]),t="https://kattbnb.netlify.app/user-page",!y&&W?Object(u.jsxs)("div",{style:{margin:"0 auto 5rem",maxWidth:"560px"},children:[Object(u.jsx)("div",{style:{background:"#f5f5f5",padding:"1rem",width:"max-content",margin:"auto"},children:Object(u.jsxs)("div",{style:{maxWidth:"300px",margin:"auto"},children:[Object(u.jsxs)("div",{className:"explained",style:{marginBottom:"1rem"},children:[Object(u.jsx)(ra,{height:"2rem",fill:"#e0e0e0",class:"step-explanation ".concat(U>=1&&"step-done-fill")}),Object(u.jsx)(na,{height:"2rem",fill:"#e0e0e0",class:"step-explanation ".concat(U>=2&&"step-done-fill")}),Object(u.jsx)(ia,{height:"2rem",fill:"#e0e0e0",class:"step-explanation ".concat(U>=3&&"step-done-fill")})]}),Object(u.jsxs)("div",{className:"progress-bar-wrapper",children:[Object(u.jsxs)("div",{className:"progress-bar-steps",children:[Object(u.jsx)("div",{className:"progress-bar-step ".concat(U>=1&&"step-done-color"),children:"1"}),Object(u.jsx)("div",{className:"progress-bar-step ".concat(U>=2&&"step-done-color"),children:"2"}),Object(u.jsx)("div",{className:"progress-bar-step ".concat(U>=3&&"step-done-color"),children:"3"})]}),Object(u.jsx)("div",{className:"progress-bar-line",children:Object(u.jsx)("div",{className:"inner-line",style:{maxWidth:1===U?"25%":2===U?"75%":"100%"}})})]}),Object(u.jsxs)("div",{className:"explained",style:{marginTop:"1rem"},children:[Object(u.jsx)("div",{className:"step-explanation",children:Object(u.jsx)("p",{style:{fontSize:"12px"},dangerouslySetInnerHTML:{__html:G("HostProfileProgressBar:step-1")}})}),Object(u.jsx)("div",{className:"step-explanation",children:Object(u.jsx)("p",{style:{fontSize:"12px"},dangerouslySetInnerHTML:{__html:G("HostProfileProgressBar:step-2")}})}),Object(u.jsx)("div",{className:"step-explanation",children:Object(u.jsx)("p",{style:{fontSize:"12px"},dangerouslySetInnerHTML:{__html:G("HostProfileProgressBar:step-3")}})})]})]})}),null===e.stripeAccountId?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{style:{textAlign:"center",marginTop:"2rem",fontSize:"unset"},children:Object(u.jsxs)(b.a,{i18nKey:"reusable:stripe:step-1-text",children:["You made a host profile but have not provided us with your payment information. Without that we cannot transfer the money for your gigs!",Object(u.jsx)(O.b,{to:"/faq?section=payments&active=503",className:"fake-link-underlined",children:"Read more"}),"on how we handle payments and your information"]})}),Object(u.jsx)("a",{href:"https://connect.stripe.com/express/oauth/authorize?client_id=".concat("ca_HmGmrkeHB2UAM8YguUWKJSXYejMZW6tn","&response_type=code&state=").concat(e.stripeState,"&suggested_capabilities[]=transfers&redirect_uri=").concat(t,"&stripe_user[email]=").concat(e.email,"&stripe_user[country]=SE"),children:Object(u.jsx)(m.a,{id:"progress-bar-cta",children:G("HostProfileProgressBar:stripe-onboarding-cta")})})]}):L?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m.a,{onClick:function(){return J()},loading:C,disabled:C,id:"progress-bar-cta",children:G("reusable:stripe:stripe-dashboard-cta")})}):M.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{style:{textAlign:"center",marginTop:"2rem",fontSize:"unset"},children:[G("reusable:stripe:step-2-text"),"\u2002",G(F?"reusable:stripe:step-2-pending":"reusable:stripe:step-2-go-to-dashboard")]}),Object(u.jsx)(m.a,{onClick:function(){return J()},loading:C,disabled:C,id:"progress-bar-cta",children:G("reusable:stripe:stripe-dashboard-cta")})]}),g&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:G("reusable:errors:action-error-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:n.map((function(e){return Object(u.jsx)("li",{children:G(e)},e)}))})]})]}):Object(u.jsx)(j,{})},ca=void 0,la=Object(A.b)((function(e){return{username:e.reduxTokenAuth.currentUser.attributes.username,location:e.reduxTokenAuth.currentUser.attributes.location,email:e.reduxTokenAuth.currentUser.attributes.uid,id:e.reduxTokenAuth.currentUser.attributes.id,avatar:e.reduxTokenAuth.currentUser.attributes.avatar,messageNotifications:e.reduxTokenAuth.currentUser.attributes.messageNotifications,langPref:e.reduxTokenAuth.currentUser.attributes.langPref}}))(yt((function(e){var t=Object(s.useRef)(),a=Object(p.a)("UserPage"),r=a.t,n=a.ready,i=Object(s.useState)({editLocationForm:!1,editPasswordForm:!1,createHostProfileForm:!1,editNotificationsForm:!1,editLangPrefForm:!1}),h=Object(l.a)(i,2),b=h[0],g=h[1],O=Object(s.useState)([]),v=Object(l.a)(O,2),f=v[0],y=v[1],w=Object(s.useState)({description:"",fullAddress:"",rate:"",maxCats:"",supplement:"",availability:[],location:e.location,messageNotifications:e.messageNotifications,langPref:e.langPref,stripeAccountId:null}),k=Object(l.a)(w,2),S=k[0],C=k[1],D=Object(s.useState)(null),I=Object(l.a)(D,2),N=I[0],M=I[1],_=Object(s.useState)([]),H=Object(l.a)(_,2),B=H[0],F=H[1],A=Object(s.useState)(!0),z=Object(l.a)(A,2),T=z[0],L=z[1],P=Object(s.useState)(!0),Y=Object(l.a)(P,2),V=Y[0],R=Y[1],K=Object(s.useState)(!1),G=Object(l.a)(K,2),W=G[0],Z=G[1],J=Object(s.useState)([]),Q=Object(l.a)(J,2),X=Q[0],$=Q[1],te=Object(s.useState)(!1),se=Object(l.a)(te,2),re=se[0],ne=se[1],ie=Object(s.useState)(null),oe=Object(l.a)(ie,2),ce=oe[0],le=oe[1];Object(s.useEffect)((function(){if(!1===window.navigator.onLine)Z(!0),$(["reusable:errors:window-navigator"]);else if(1===f.length){var t=de(),a="/api/v1/host_profiles/".concat(f[0].id,"?locale=").concat(t),s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.get(a,{headers:s}).then((function(t){var a,s=t.data,r=s.availability,n=s.description,i=s.full_address,o=s.max_cats_accepted,c=s.price_per_day_1_cat,l=s.score,d=s.stripe_account_id,u=s.stripe_state,h=s.supplement_price_per_cat_per_day,j=parseFloat(c).toFixed(2);a="0"===j[j.length-1]&&"0"===j[j.length-2]?parseFloat(j):j;var p,b=parseFloat(h).toFixed(2);p="0"===b[b.length-1]&&"0"===b[b.length-2]?parseFloat(b):b,C({description:n,fullAddress:i,rate:a,maxCats:o,supplement:p,availability:r,location:e.location,messageNotifications:e.messageNotifications,langPref:e.langPref,stripeAccountId:d}),le(u),M(l),R(!1),Z(!1),$([])})).catch((function(e){var t=e.response;void 0===t?q("/is-not-available?atm"):500===t.status?(Z(!0),$(["reusable:errors:500"])):503===t.status?q("/is-not-available?atm"):401===t.status?(window.alert(r("reusable:errors:401")),q("/")):(Z(!0),$(t.data.error))}))}}),[f,e.messageNotifications,e.location,e.langPref,r]),Object(s.useEffect)((function(){function t(){return(t=Object(c.a)(o.a.mark((function t(){var a,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==window.navigator.onLine){t.next=5;break}Z(!0),$(["reusable:errors:window-navigator"]),t.next=20;break;case 5:return t.prev=5,a=de(),t.next=9,E.a.get("/api/v1/host_profiles?user_id=".concat(e.id,"&locale=").concat(a));case 9:s=t.sent,y(s.data),L(!1),Z(!1),$([]),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(5),void 0===(r=t.t0.response)?q("/is-not-available?atm"):500===r.status?(Z(!0),$(["reusable:errors:500"])):503===r.status?q("/is-not-available?atm"):(Z(!0),$(r.data.error));case 20:case"end":return t.stop()}}),t,null,[[5,16]])})))).apply(this,arguments)}ue(),function(){t.apply(this,arguments)}()}),[]);var ue=function(){var t=Object(c.a)(o.a.mark((function t(){var a,s,n,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==window.navigator.onLine){t.next=5;break}Z(!0),$(["reusable:errors:window-navigator"]),t.next=21;break;case 5:return t.prev=5,a=de(),s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n="/api/v1/bookings?dates=only&stats=no&host_nickname=".concat(e.username,"&locale=").concat(a),t.next=11,E.a.get(n,{headers:s});case 11:i=t.sent,F(i.data),Z(!1),$([]),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),void 0===(c=t.t0.response)?q("/is-not-available?atm"):500===c.status?(Z(!0),$(["reusable:errors:500"])):503===c.status?q("/is-not-available?atm"):401===c.status?(window.alert(r("reusable:errors:401")),q("/")):(Z(!0),$(c.data.error));case 21:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(){return t.apply(this,arguments)}}(),he=function(){g((function(e){return Object(d.a)(Object(d.a)({},e),{},{editLocationForm:!1,editPasswordForm:!1,editNotificationsForm:!1,editLangPrefForm:!1,createHostProfileForm:!1})})),1===f.length&&t.current.closeAllForms()},je=function(){g((function(e){return Object(d.a)(Object(d.a)({},e),{},{editLocationForm:!1,editPasswordForm:!1,editNotificationsForm:!1,editLangPrefForm:!1,createHostProfileForm:!1})}))},pe=function(e){["editLocationForm","editPasswordForm","createHostProfileForm","editNotificationsForm","editLangPrefForm"].forEach((function(t){t===e.target.id&&g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(ee.a)({editLocationForm:!1,editPasswordForm:!1,editNotificationsForm:!1,editLangPrefForm:!1,createHostProfileForm:!1},t,!b[t]))}))})),1===f.length&&t.current.closeAllForms()},be=function(){var t=Object(c.a)(o.a.mark((function t(){var a,s,n,i,c,l,d,u,h,j,p,b,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(he(),ne(!0),!1!==window.navigator.onLine){t.next=8;break}ne(!1),Z(!0),$(["reusable:errors:window-navigator"]),t.next=29;break;case 8:return a=de(),s="/api/v1/bookings?stats=yes&user_id=".concat(e.id,"&host_nickname=").concat(e.username,"&locale=").concat(a),n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.prev=11,t.next=14,E.a.get(s,{headers:n});case 14:i=t.sent,c=i.data.stats,l=c.out_requests,d=c.out_upcoming,u=c.out_unpaid,h=c.in_requests,j=c.in_upcoming,p=c.in_unpaid,0!==parseInt(h)||0!==parseInt(j)||0!==parseInt(l)||0!==parseInt(d)||0!==parseInt(u)||0!==parseInt(p)?(window.alert(r("UserPage:delete-alert")),ne(!1)):0===f.length&&window.confirm(r("UserPage:delete-confirm"))?("/api/v1/auth",E.a.delete("/api/v1/auth",{headers:n}).then((function(){window.alert(r("UserPage:deletion-alert")),q("/")})).catch((function(e){var t=e.response;void 0===t||503===t.status?q("/is-not-available?atm"):(window.alert(r("UserPage:deletion-error")),q("/"))}))):1===f.length&&window.confirm(r("UserPage:delete-confirm"))?(b="/api/v1/stripe?locale=".concat(a,"&host_profile_id=").concat(f[0].id,"&occasion=delete_account"),E.a.get(b,{headers:n}).then((function(){E.a.delete("/api/v1/auth",{headers:n}).then((function(){window.alert(r("UserPage:deletion-alert")),q("/")})).catch((function(e){var t=e.response;void 0===t||503===t.status?q("/is-not-available?atm"):(window.alert(r("UserPage:deletion-error")),q("/"))}))})).catch((function(e){var t=e.response;void 0===t?q("/is-not-available?atm"):555===t.status?(ne(!1),Z(!0),$([r("UserPage:delete-stripe-account-error")])):503===t.status?q("/is-not-available?atm"):401===t.status?(window.alert(r("reusable:errors:401")),q("/")):(ne(!1),Z(!0),$([t.data.error]))}))):ne(!1),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(11),void 0===(m=t.t0.response)?q("/is-not-available?atm"):500===m.status?(ne(!1),Z(!0),$(["reusable:errors:500"])):503===m.status?q("/is-not-available?atm"):401===m.status?(window.alert(r("reusable:errors:401")),q("/")):(ne(!1),Z(!0),$(m.data.error));case 29:case"end":return t.stop()}}),t,null,[[11,25]])})));return function(){return t.apply(this,arguments)}}();return n&&!1===T?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(Re.a,{modal:!0,open:W,closeOnDocumentClick:!0,onClose:function(){Z(!1),$([])},position:"top center",children:Object(u.jsx)("div",{children:Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:X.map((function(e){return Object(u.jsx)("li",{children:r(e)},e)}))})})})}),Object(u.jsx)(ta,{avatar:e.avatar,username:e.username,userId:e.id,closeAllForms:he.bind(ca)}),Object(u.jsxs)(x.a,{id:"nickname",as:"h2",style:{marginTop:"0.5rem",marginBottom:"0.5rem"},children:[Object(u.jsx)("svg",{fill:"#c90c61",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7V5zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0v-3.32z"})}),"\u2002",e.username]}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"1rem",justifyContent:"center"},children:[Object(u.jsx)(qe,{fill:"grey",height:"1.2em"}),Object(u.jsx)("p",{style:{margin:"0 0 0 0.5rem"},children:S.location})]}),Object(u.jsx)(Ae.a,{hidden:!0}),1===f.length&&!1===V&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(oa,{stripeAccountId:S.stripeAccountId,hostProfileId:f[0].id,stripeState:ce,email:e.email}),Object(u.jsx)(Gt,{id:f[0].id,email:e.email,description:S.description,fullAddress:S.fullAddress,rate:S.rate,maxCats:S.maxCats,supplement:S.supplement,availability:S.availability,score:N,location:e.location,incomingBookings:B,stripeState:ce,stripeAccountId:S.stripeAccountId,closeLocPasForms:je,ref:t,setElement:function(e,t){Object.keys(S).forEach((function(a){a===e&&C((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(ee.a)({},e,t))}))}))}.bind(ca)})]}),Object(u.jsx)(Ae.a,{hidden:!0}),1===f.length&&!0===V&&Object(u.jsx)(j,{}),b.createHostProfileForm&&0===f.length&&Object(u.jsx)(It,{user_id:e.id,closeForm:je,location:e.location}),!1===b.createHostProfileForm&&0===f.length&&Object(u.jsxs)("div",{style:{maxWidth:"300px",margin:"auto"},children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:r("UserPage:no-host-profile")}),Object(u.jsx)(m.a,{id:"createHostProfileForm",onClick:function(e){return pe(e)},children:r("UserPage:host-profile-cta")}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0})]}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)(x.a,{as:"h2",children:r("UserPage:settings-header")}),Object(u.jsxs)("div",{style:{width:"max-content",margin:"auto"},children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"1rem"},children:[Object(u.jsx)("div",{className:"zondicon-wrapper",children:Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M13.6 13.47A4.99 4.99 0 0 1 5 10a5 5 0 0 1 8-4V5h2v6.5a1.5 1.5 0 0 0 3 0V10a8 8 0 1 0-4.42 7.16l.9 1.79A10 10 0 1 1 20 10h-.18.17v1.5a3.5 3.5 0 0 1-6.4 1.97zM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})})}),Object(u.jsx)("p",{style:{margin:"0px 0.3rem 0 0.5rem"},children:e.email})]}),Object(u.jsxs)("div",{id:"user-location",style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"1rem"},children:[Object(u.jsx)("div",{className:"zondicon-wrapper",children:Object(u.jsx)("svg",{fill:"grey",height:"1.2em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20S3 10.87 3 7a7 7 0 1 1 14 0c0 3.87-7 13-7 13zm0-11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})})}),Object(u.jsx)("p",{style:{margin:"0px 0.3rem 0 0.5rem"},children:S.location}),Object(u.jsx)(x.a,{style:{margin:"0"},as:"strong",id:"editLocationForm",onClick:function(e){return pe(e)},className:"fake-link-underlined",children:r("reusable:cta.change")})]}),Object(u.jsx)("div",{style:{maxHeight:b.editLocationForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:b.editLocationForm&&Object(u.jsx)(Zt,{location:S.location,fullAddress:S.fullAddress,closeLocationAndPasswordForms:je})}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"1rem"},children:[Object(u.jsx)("div",{className:"zondicon-wrapper",children:Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"})})}),Object(u.jsx)("p",{style:{margin:"0px 0.3rem 0 0.5rem"},children:"******"}),Object(u.jsx)(x.a,{style:{margin:"0"},as:"strong",id:"editPasswordForm",onClick:function(e){return pe(e)},className:"fake-link-underlined",children:r("reusable:cta.change")})]}),Object(u.jsx)("div",{style:{maxHeight:b.editPasswordForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:b.editPasswordForm&&Object(u.jsx)(Qt,{closeLocationAndPasswordForms:je})}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"1rem"},children:[Object(u.jsx)("div",{className:"zondicon-wrapper",children:Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M4 8a6 6 0 0 1 4.03-5.67 2 2 0 1 1 3.95 0A6 6 0 0 1 16 8v6l3 2v1H1v-1l3-2V8zm8 10a2 2 0 1 1-4 0h4z"})})}),Object(u.jsx)("p",{style:{margin:"0px 0.3rem 0 0.5rem"},children:r("UserPage:notifications-header")}),Object(u.jsx)(x.a,{style:{margin:"0"},as:"strong",id:"editNotificationsForm",onClick:function(e){return pe(e)},className:"fake-link-underlined",children:r("reusable:cta.change")})]}),Object(u.jsx)("div",{style:{maxHeight:b.editNotificationsForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:b.editNotificationsForm&&Object(u.jsx)(aa,{closeLocationAndPasswordForms:je,messageNotifications:S.messageNotifications})}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(u.jsx)("div",{className:"zondicon-wrapper",children:Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-2.25a8 8 0 0 0 4-2.46V9a2 2 0 0 1-2-2V3.07a7.95 7.95 0 0 0-3-1V3a2 2 0 0 1-2 2v1a2 2 0 0 1-2 2v2h3a2 2 0 0 1 2 2v5.75zm-4 0V15a2 2 0 0 1-2-2v-1h-.5A1.5 1.5 0 0 1 4 10.5V8H2.25A8.01 8.01 0 0 0 8 17.75z"})})}),Object(u.jsx)("p",{style:{margin:"0px 0.3rem 0 0.5rem"},children:r("UserPage:lang-pref-header")}),Object(u.jsx)(x.a,{style:{margin:"0"},as:"strong",id:"editLangPrefForm",onClick:function(e){return pe(e)},className:"fake-link-underlined",children:r("reusable:cta.change")})]}),Object(u.jsx)("div",{style:{maxHeight:b.editLangPrefForm?"1000px":"0px",height:"auto",overflow:"hidden",transition:"max-height 1s ease-in-out"},children:b.editLangPrefForm&&Object(u.jsx)(sa,{closeLocationAndPasswordForms:je,langPref:S.langPref})})]})]}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(Ae.a,{hidden:!0}),1===f.length&&Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)(x.a,{as:"h2",children:r("UserPage:reviews-header")}),Object(u.jsx)("div",{children:Object(u.jsx)(ze,{hostProfileId:f[0].id,score:N})})]}),Object(u.jsx)(Ae.a,{hidden:!0}),Object(u.jsx)(x.a,{id:"delete-account-link",onClick:function(){return be()},className:"fake-link-underlined",style:{color:"silver",marginBottom:"1rem",display:re&&"none"},children:r("UserPage:delete-cta")})]}):n&&T?Object(u.jsx)("div",{className:"content-wrapper",children:Object(u.jsx)(Re.a,{modal:!0,open:W,closeOnDocumentClick:!0,onClose:function(){Z(!1),$([])},position:"top center",children:Object(u.jsx)("div",{children:Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:X.map((function(e){return Object(u.jsx)("li",{children:r(e)},e)}))})})})})}):Object(u.jsx)(j,{})}))),da=a(71),ua=function(e){var t={base:{fontSize:"13px","::placeholder":{fontStyle:"italic",color:"silver"}}},a=Object(p.a)("StripeCardDetails"),s=a.ready,r=a.t;return s?Object(u.jsx)(se.a,{className:"stripe-wrapper",children:Object(u.jsxs)("div",{className:"required field",style:{display:"flex",flexDirection:"column"},children:[Object(u.jsx)("label",{children:r("StripeCardDetails:label")}),Object(u.jsx)("input",{className:"stripe-card-element-full",type:"text",placeholder:r("StripeCardDetails:cardholder"),id:"cardholderName",value:e.cardholderName,onChange:e.onChangeCardHolder}),Object(u.jsx)("div",{className:"stripe-card-element-full",children:Object(u.jsx)(da.CardNumberElement,{options:{style:t,placeholder:r("StripeCardDetails:card-number"),showIcon:!0}})}),Object(u.jsxs)("div",{className:"stripe-secondary-wrapper",children:[Object(u.jsx)("div",{className:"stripe-card-element-small",children:Object(u.jsx)(da.CardExpiryElement,{options:{style:t,placeholder:r("StripeCardDetails:expiry")}})}),Object(u.jsx)("div",{className:"stripe-card-element-small",children:Object(u.jsx)(da.CardCvcElement,{options:{style:t,placeholder:r("StripeCardDetails:cvc")}})}),Object(u.jsx)("input",{style:{marginTop:"4px"},className:"stripe-card-element-small",type:"number",placeholder:r("StripeCardDetails:postal-code"),id:"postalCode",value:e.postalCode,onChange:e.onChangePostalCode})]})]})}):null},ha=function(e){return Object(u.jsxs)("svg",{height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 283.46 198.43",children:[Object(u.jsx)("path",{fill:"#1166B0",d:"M253.58,198.43H29.88C13.38,198.43,0,185.05,0,168.54V29.88C0,13.38,13.38,0,29.88,0h223.7 c16.5,0,29.88,13.38,29.88,29.88v138.66C283.46,185.05,270.09,198.43,253.58,198.43z"}),Object(u.jsx)("polygon",{fill:"#FFFFFF",points:"129.7,130.3 114.93,130.3 124.16,73.93 138.93,73.93 \t\t\t"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M102.51,73.93L88.44,112.7l-1.67-8.35l0,0L81.81,79c0,0-0.6-5.08-7-5.08H51.53l-0.27,0.95 c0,0,7.12,1.47,15.44,6.45l12.83,48.97h15.38l23.49-56.37H102.51z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M218.64,130.3h13.56l-11.82-56.37h-11.87c-5.48,0-6.82,4.2-6.82,4.2l-22.02,52.17h15.39 l3.08-8.37h18.77L218.64,130.3z M202.4,110.36l7.76-21.1l4.36,21.1H202.4z"}),Object(u.jsx)("path",{fill:"#FFFFFF",d:"M180.83,87.48l2.11-12.11c0,0-6.5-2.46-13.28-2.46c-7.33,0-24.73,3.19-24.73,18.66 c0,14.56,20.42,14.75,20.42,22.39s-18.32,6.28-24.36,1.46l-2.2,12.66c0,0,6.59,3.19,16.67,3.19c10.07,0,25.28-5.19,25.28-19.3 c0-14.66-20.6-16.02-20.6-22.39C160.13,83.2,174.51,84.02,180.83,87.48z"}),Object(u.jsx)("path",{fill:"#F7A536",d:"M86.77,104.35L81.81,79c0,0-0.6-5.08-7-5.08H51.53l-0.27,0.95c0,0,11.18,2.3,21.91,10.94 C83.43,94.07,86.77,104.35,86.77,104.35z"})]})},ja=function(e){return Object(u.jsxs)("svg",{height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 283.46 198.43",children:[Object(u.jsx)("path",{fill:"#374A5D",d:"M253.58,198.43H29.88C13.38,198.43,0,185.05,0,168.54V29.88C0,13.38,13.38,0,29.88,0h223.7 c16.5,0,29.88,13.38,29.88,29.88v138.66C283.46,185.05,270.09,198.43,253.58,198.43z"}),Object(u.jsx)("rect",{x:"117.92",y:"56.68",fill:"#EC6625",width:"47.62",height:"85.07"}),Object(u.jsx)("path",{fill:"#E51F26",d:"M120.94,99.21c0-17.26,8.13-32.63,20.79-42.53c-9.26-7.25-20.94-11.57-33.64-11.57 c-30.06,0-54.42,24.22-54.42,54.1c0,29.88,24.37,54.1,54.42,54.1c12.7,0,24.38-4.32,33.64-11.57 C129.07,131.84,120.94,116.47,120.94,99.21"}),Object(u.jsx)("path",{fill:"#F59E21",d:"M229.79,99.21c0,29.88-24.37,54.1-54.42,54.1c-12.7,0-24.38-4.32-33.63-11.57 c12.66-9.9,20.78-25.28,20.78-42.53s-8.13-32.63-20.78-42.53c9.26-7.24,20.94-11.56,33.63-11.56 C205.42,45.11,229.79,69.33,229.79,99.21 M224.6,132.73v-1.74h0.71v-0.35h-1.8v0.35h0.71v1.74H224.6z M228.09,132.73v-2.1h-0.55 l-0.63,1.44l-0.63-1.44h-0.55v2.1h0.39v-1.58l0.59,1.37h0.4l0.59-1.37v1.59H228.09z"})]})},pa=function(e){return Object(u.jsxs)("svg",{height:e.height,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 283.46 198.43",children:[Object(u.jsx)("path",{fill:"#2A6CB4",d:"M253.58,198.43H29.88C13.38,198.43,0,185.05,0,168.54V29.88C0,13.38,13.38,0,29.88,0h223.7 c16.5,0,29.88,13.38,29.88,29.88v138.66C283.46,185.05,270.09,198.43,253.58,198.43"}),Object(u.jsx)("path",{fill:"#F8F7F7",d:"M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15 h9.58c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39 c2.86,0,4.39-1.79,4.39-4.07C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58 c2.81,0,4.24-1.84,4.24-4.07C143.97,130.02,142.54,128.22,139.73,128.22z M265.4,127.89c-1.91,0-3.24,1.33-3.24,3.32 c0,1.94,1.33,3.17,3.24,3.17h7.72c5.64,0,9.29,2.62,10.15,7.19v-28.42H107.55l-4.48,6.31l-4.43-6.31H48.1v49.19h50.34l4.39-6.4 l4.53,6.4h31.51v-10.61h-0.33c3.91,0,7.48-0.71,10.63-1.87v12.48h21.97v-7.15l5.53,7.15h95.56c2.67-0.02,5.17-0.48,7.41-1.29 c1.3-0.47,2.52-1.06,3.63-1.74v-13.32c-0.91,5-4.99,8.34-11.3,8.34H255.1v-6.63h17.11c1.91,0,3.29-1.33,3.29-3.36 c0-2-1.38-3.23-3.29-3.23h-7.67c-6.34,0-10.4-3.5-10.4-9.62c0-5.94,4.25-10.29,11.39-10.33h17.32l-2.96,6.73H265.4z M82.57,127.89 H63.88v6.45h18.26v6.63H63.88v6.68h18.69v6.68h-26.7v-33.17h26.7V127.89z M110.36,154.33l-8.2-10.66l-8.2,10.66h-9.72l13.3-16.58 l-13.35-16.59H94.2l8.15,10.52l8.21-10.52h9.72l-13.3,16.45l13.4,16.72H110.36z M140.21,143.38h-10.06v10.95h-8.01v-33.17h18.45 c7.05,0.04,11.44,4.53,11.44,11.09C152.03,138.65,147.5,143.38,140.21,143.38z M178.11,154.33l-9.97-11.94h-3.76v11.94h-8.01v-33.17 h18.21c7.05,0.04,11.44,4.34,11.44,10.52c0,5.31-3.38,9.38-9.06,10.43l11.11,12.22H178.11z M218.49,127.89H199.8v6.45h18.26v6.63 H199.8v6.68h18.69v6.68h-26.7v-33.17h26.7V127.89z M240.22,154.33h-16.87v-6.63h17.11c1.91,0,3.29-1.33,3.29-3.36 c0-2-1.38-3.23-3.29-3.23h-7.67c-6.34,0-10.4-3.5-10.4-9.62c0-5.94,4.25-10.29,11.39-10.33h17.32l-2.96,6.73h-14.49 c-1.91,0-3.24,1.33-3.24,3.32c0,1.94,1.33,3.17,3.24,3.17h7.72c6.48,0,10.35,3.46,10.35,9.39 C251.72,149.97,247.42,154.33,240.22,154.33z M178.16,132.06c0-2.28-1.53-4.12-4.39-4.12h-9.39v8.19h9.39 C176.63,136.13,178.16,134.34,178.16,132.06z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07 C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07 C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07 C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07 C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07 C178.16,129.78,176.63,127.94,173.77,127.94z M173.77,127.94h-9.39v8.19h9.39c2.86,0,4.39-1.79,4.39-4.07 C178.16,129.78,176.63,127.94,173.77,127.94z M139.73,128.22h-9.58v8.15h9.58c2.81,0,4.24-1.84,4.24-4.07 C143.97,130.02,142.54,128.22,139.73,128.22z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42 l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42 z M138.54,61.82h-9.39v8.2h9.39c2.86,0,4.38-1.8,4.38-4.07C142.92,63.67,141.4,61.82,138.54,61.82z M138.54,61.82h-9.39v8.2h9.39 c2.86,0,4.38-1.8,4.38-4.07C142.92,63.67,141.4,61.82,138.54,61.82z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72 L21.84,67.42z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M138.54,61.82h-9.39v8.2h9.39 c2.86,0,4.38-1.8,4.38-4.07C142.92,63.67,141.4,61.82,138.54,61.82z M210.38,67.42l-2.43-6.21l-2.43,6.21l-2.91,7.34h10.73 L210.38,67.42z M210.38,67.42l-2.43-6.21l-2.43,6.21l-2.91,7.34h10.73L210.38,67.42z M138.54,61.82h-9.39v8.2h9.39 c2.86,0,4.38-1.8,4.38-4.07C142.92,63.67,141.4,61.82,138.54,61.82z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72 L21.84,67.42z M247.13,47.04v7.86l-5.04-7.86H222.3v9.94l-4.43-9.94h-33.1c-1.44,0.02-2.84,0.13-4.2,0.34 c-1.26,0.2-2.49,0.48-3.68,0.85c-0.93,0.29-1.84,0.63-2.71,1.03c-1.03,0.47-2.01,1.01-2.94,1.62v-3.84H64.5l-2.9,8.58l-2.96-8.58 H33.8v10.05l-4.48-10.05H9.06L0,68.08v28.15h14.35l2.67-7.06h5.05l2.72,7.06H135.2v-7.16l5.53,7.16h30.51v-3.58 c0.79,0.51,1.61,0.95,2.44,1.34c0.83,0.38,1.69,0.71,2.55,0.98c1.06,0.35,2.15,0.61,3.23,0.81c1.76,0.31,3.51,0.45,5.18,0.45h18.26 l2.67-7.06h5.05l2.71,7.06h30.61v-7.3l4.63,7.3h21.26V47.04H247.13z M30.23,88.22l-2.86-7.11H11.49l-2.81,7.11H0.14l14.31-33.17 h10.53l14.26,33.17H30.23z M82,88.22h-7.77v-22.7l0.19-8.72l-9.25,31.42h-7.25l-9.25-31.61l0.2,8.96v22.65h-7.78V55.05h14.07 l6.39,23.5l6.34-23.5H82V88.22z M115.27,61.78H96.59v6.44h18.26v6.64H96.59v6.58h18.68v6.78H88.58V55.05h26.69V61.78z M142.88,88.22 l-9.97-11.94h-3.76v11.94h-8.01V55.05h18.11c7.11,0,11.54,4.31,11.54,10.52c0,5.3-3.38,9.38-9.06,10.42l11.11,12.23H142.88z M163.38,88.22h-8.01V55.05h8.01V88.22z M184.26,88.22h-0.43c-9.63-0.05-15.4-6.44-15.4-16.3v-0.57c0-9.43,5.62-16.3,15.92-16.3 h9.35v7.15h-8.68c-5.72,0-8.63,3.94-8.63,9.2v0.47c0,5.88,3.24,9.29,8.73,9.29h2.42L184.26,88.22z M218.77,88.22l-2.86-7.11h-15.87 l-2.82,7.11h-8.53l14.3-33.17h10.54l14.25,33.17H218.77z M261.15,88.22h-9.34l-12.78-19.86l-1.67-2.75l0.1,2.75v19.86h-7.82V55.05 h9.82l12.49,19.19l1.48,2.46l-0.1-2.46V55.05h7.82V88.22z M207.95,61.21l-2.43,6.21l-2.91,7.34h10.73l-2.96-7.34L207.95,61.21z M142.92,65.95c0-2.28-1.52-4.13-4.38-4.13h-9.39v8.2h9.39C141.4,70.02,142.92,68.22,142.92,65.95z M19.4,61.21l-2.43,6.21 l-2.9,7.34h10.72l-2.95-7.34L19.4,61.21z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M138.54,61.82h-9.39v8.2 h9.39c2.86,0,4.38-1.8,4.38-4.07C142.92,63.67,141.4,61.82,138.54,61.82z M138.54,61.82h-9.39v8.2h9.39c2.86,0,4.38-1.8,4.38-4.07 C142.92,63.67,141.4,61.82,138.54,61.82z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42l-2.44-6.21 l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M138.54,61.82h-9.39v8.2h9.39c2.86,0,4.38-1.8,4.38-4.07 C142.92,63.67,141.4,61.82,138.54,61.82z M138.54,61.82h-9.39v8.2h9.39c2.86,0,4.38-1.8,4.38-4.07 C142.92,63.67,141.4,61.82,138.54,61.82z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42l-2.44-6.21 l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z M21.84,67.42l-2.44-6.21l-2.43,6.21l-2.9,7.34h10.72L21.84,67.42z"})]})},ba=function(e){return Object(u.jsxs)("svg",{height:e.height,fill:"silver",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 150 34",children:[Object(u.jsx)("path",{d:"M146,0H3.73C1.67,0,0,1.67,0,3.73c0,0,0,0,0,0v26.54C0,32.33,1.67,34,3.73,34H146c2.21,0,4-1.79,4-4V4 C150,1.79,148.21,0,146,0z M149,30c0,1.66-1.34,3-3,3H3.73C2.22,32.99,1.01,31.78,1,30.27V3.73C1.01,2.22,2.22,1.01,3.73,1H146 c1.66,0,3,1.34,3,3V30z"}),Object(u.jsx)("path",{d:"M17.07,11.24h-4.3V22h1.92v-4.16h2.38c2.4,0,3.9-1.16,3.9-3.3S19.47,11.24,17.07,11.24z M16.97,16.24h-2.28v-3.3H17 c1.38,0,2.11,0.59,2.11,1.65s-0.76,1.6-2.11,1.6L16.97,16.24z"}),Object(u.jsx)("path",{d:"M25.1,14c-2.08-0.02-3.79,1.64-3.81,3.73c0,0.12,0,0.24,0.01,0.36c-0.19,2.1,1.36,3.95,3.46,4.13 c2.1,0.19,3.95-1.36,4.13-3.46c0.02-0.22,0.02-0.45,0-0.68c0.18-2.07-1.35-3.89-3.42-4.08C25.35,14,25.23,14,25.1,14z M25.1,20.67 c-1.22,0-2-1-2-2.58s0.76-2.58,2-2.58s2,1,2,2.58s-0.79,2.57-2,2.57V20.67z"}),Object(u.jsx)("polygon",{points:"36.78,19.35 35.37,14.13 33.89,14.13 32.49,19.35 31.07,14.13 29.22,14.13 31.59,22.01 33.15,22.01 34.59,16.85  36.03,22.01 37.59,22.01 39.96,14.13 38.18,14.13 "}),Object(u.jsx)("path",{d:"M44,14c-2.11,0.04-3.8,1.79-3.76,3.9c0,0.06,0,0.13,0.01,0.19c-0.17,2.09,1.39,3.91,3.48,4.08 c0.12,0.01,0.23,0.01,0.35,0.01c1.49,0.08,2.86-0.8,3.41-2.18L46,19.38c-0.24,0.8-1,1.32-1.83,1.26c-1.17,0.03-2.14-0.9-2.17-2.07 c0-0.03,0-0.07,0-0.1h5.52v-0.6C47.54,15.71,46.32,14,44,14z M42.07,17.13c0.14-0.95,0.97-1.65,1.93-1.63 c0.86-0.07,1.61,0.56,1.69,1.42c0.01,0.07,0.01,0.13,0,0.2L42.07,17.13z"}),Object(u.jsx)("path",{d:"M50.69,15.3v-1.17h-1.8V22h1.8v-4.13c-0.06-1.04,0.73-1.94,1.77-2c0.08,0,0.15,0,0.23,0c0.22-0.02,0.44-0.02,0.66,0v-1.8 c-0.14,0-0.3,0-0.51,0C51.94,14.02,51.1,14.5,50.69,15.3z"}),Object(u.jsx)("path",{d:"M57.48,14c-2.11,0.04-3.8,1.79-3.76,3.9c0,0.06,0,0.13,0.01,0.19c-0.17,2.09,1.39,3.91,3.48,4.08 c0.12,0.01,0.23,0.01,0.35,0.01c1.47,0.06,2.82-0.81,3.37-2.18l-1.54-0.59c-0.24,0.8-1,1.32-1.83,1.26 c-1.17-0.01-2.11-0.97-2.1-2.14c0-0.01,0-0.02,0-0.03H61v-0.6C61,15.71,59.76,14,57.48,14z M55.55,17.13 c0.15-0.94,0.97-1.63,1.92-1.62c0.86-0.07,1.61,0.56,1.69,1.42c0.01,0.07,0.01,0.13,0,0.2H55.55z"}),Object(u.jsx)("path",{d:"M67.56,15c-0.56-0.66-1.39-1.03-2.26-1c-2.21,0-3.47,1.85-3.47,4.09s1.26,4.09,3.47,4.09c0.87,0.03,1.7-0.34,2.26-1V22h1.8 V11.24h-1.8V15z M67.56,18.35c0.15,1.09-0.61,2.11-1.7,2.26c-0.1,0.01-0.2,0.02-0.3,0.02c-1.31,0-2-1-2-2.52s0.7-2.52,2-2.52 c1.11,0,2,0.81,2,2.29V18.35z"}),Object(u.jsx)("path",{d:"M79.31,14c-0.88-0.04-1.73,0.33-2.31,1v-3.76h-1.8V22H77v-0.83c0.57,0.66,1.4,1.03,2.27,1c2.2,0,3.46-1.86,3.46-4.09 S81.51,14,79.31,14z M79,20.6c-1.1,0.01-2.01-0.88-2.02-1.98c0-0.1,0.01-0.2,0.02-0.3v-0.47c0-1.48,0.84-2.29,2-2.29 c1.3,0,2,1,2,2.52S80.25,20.6,79,20.6z"}),Object(u.jsx)("path",{d:"M86.93,19.66L85,14.13h-1.9l2.9,7.59l-0.3,0.74c-0.11,0.53-0.61,0.88-1.14,0.79c-0.2,0.01-0.4,0.01-0.6,0v1.51 c0.24,0.04,0.49,0.05,0.73,0.05c1.29,0.09,2.46-0.75,2.78-2l3.24-8.62h-1.89L86.93,19.66z"}),Object(u.jsx)("path",{d:"M125,12.43c-0.8,0-1.56,0.31-2.13,0.87l-0.14-0.69h-2.39v12.92l2.72-0.59v-3.13c0.54,0.45,1.22,0.7,1.93,0.7 c1.94,0,3.72-1.59,3.72-5.11C128.71,14.18,126.91,12.43,125,12.43z M124.35,20.06c-0.48,0.03-0.95-0.16-1.28-0.52v-4.11 c0.33-0.37,0.81-0.57,1.3-0.55c1,0,1.68,1.13,1.68,2.58S125.36,20.06,124.35,20.06z"}),Object(u.jsx)("path",{d:"M133.73,12.43c-2.62,0-4.21,2.26-4.21,5.11c0,3.37,1.88,5.08,4.56,5.08c1.05,0.02,2.08-0.23,3-0.73v-2.25 c-0.84,0.42-1.76,0.63-2.7,0.62c-1.08,0-2-0.39-2.14-1.7h5.38c0-0.15,0-0.74,0-1C137.71,14.69,136.35,12.43,133.73,12.43z M132.26,16.5c0-1.26,0.77-1.79,1.45-1.79s1.4,0.53,1.4,1.79H132.26z"}),Object(u.jsx)("path",{d:"M113,13.36l-0.17-0.82h-2.32v9.71h2.68v-6.58c0.5-0.6,1.31-0.83,2.05-0.58v-2.55C114.39,12.21,113.43,12.56,113,13.36z"}),Object(u.jsx)("path",{d:"M99.46,15.46c0-0.44,0.36-0.61,0.93-0.61c0.94,0.02,1.87,0.27,2.7,0.72v-2.63c-0.86-0.35-1.78-0.52-2.7-0.51 c-2.21,0-3.68,1.18-3.68,3.16c0,3.1,4.14,2.6,4.14,3.93c0,0.52-0.44,0.69-1,0.69c-1.06-0.06-2.08-0.37-3-0.9V22 c0.94,0.42,1.97,0.64,3,0.64c2.26,0,3.82-1.15,3.82-3.16C103.62,16.12,99.46,16.72,99.46,15.46z"}),Object(u.jsx)("path",{d:"M107.28,10.24l-2.65,0.58v8.93c-0.06,1.53,1.14,2.81,2.67,2.87c0.05,0,0.1,0,0.15,0c0.66,0.03,1.31-0.1,1.91-0.37V20 c-0.35,0.15-2.06,0.66-2.06-1v-4h2.06v-2.34h-2.06L107.28,10.24z"}),Object(u.jsx)("polygon",{points:"116.25,11.7 118.98,11.13 118.98,8.97 116.25,9.54"}),Object(u.jsx)("rect",{x:"116.25",y:"12.61",width:"2.73",height:"9.64"})]})},ma=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={message:"",loading:!1,errorDisplay:!1,errors:"",stripePaymentProcessingDisplay:!1,checkIn:"",checkOut:"",perDay:"",orderTotal:"",numberOfCats:"",nickname:"",paymentIntent:"",cardholderName:"",postalCode:""},e.createPaymentIntent=Object(c.a)(o.a.mark((function t(){var a,s,r,n,i,c,l,d,u,h,j,p,b,m;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,s=a.t,r=a.location.state,n=r.numberOfCats,i=r.hostRate,c=r.hostSupplement,l=r.checkInDate,d=r.checkOutDate,u=r.nickname,!1!==window.navigator.onLine){t.next=5;break}e.setState({errorDisplay:!0,errors:["reusable:errors:window-navigator"]}),t.next=19;break;case 5:return t.prev=5,h=de(),j=ve(i,n,c,l,d),p="/api/v1/stripe?locale=".concat(h,"&occasion=create_payment_intent&amount=").concat(j,"&currency=sek&inDate=").concat(l,"&outDate=").concat(d,"&cats=").concat(n,"&host=").concat(u),b={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.next=12,E.a.get(p,{headers:b});case 12:m=t.sent,e.setState({paymentIntent:m.data.intent_id}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status?(window.alert(s("RequestToBook:error-555")),e.props.history.push({pathname:"/search",state:{checkInDate:new Date(l),checkOutDate:new Date(d),location:e.props.locationRedux,numberOfCats:n}})):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(s("reusable:errors:401")),q("/")):e.setState({errorDisplay:!0,errors:[t.t0.response.data.error]});case 19:case"end":return t.stop()}}),t,null,[[5,16]])}))),e.onChangeHandler=function(t){e.setState(Object(ee.a)({},t.target.id,t.target.value))},e.cardholderNameHandler=function(t){e.setState({cardholderName:t.target.value})},e.postalCodeNameHandler=function(t){e.setState({postalCode:t.target.value})},e.createBooking=function(t){for(var a=e.props,s=a.t,r=a.location.state,n=r.numberOfCats,i=r.hostRate,o=r.hostSupplement,c=r.checkInDate,l=r.checkOutDate,d=r.nickname,u=de(),h=[],j=Oe(i,n,o,c,l),p=l,b=c;b<=p;)h.push(b),b+=864e5;var m={number_of_cats:n,message:e.state.message,dates:h,host_nickname:d,price_per_day:e.state.perDay,price_total:j,user_id:e.props.id,payment_intent_id:t,locale:u},g={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/bookings",m,{headers:g}).then((function(){e.props.history.push({pathname:"/successful-request",state:{numberOfCats:n,checkInDate:c,checkOutDate:l,nickname:d}})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,stripePaymentProcessingDisplay:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(s("reusable:errors:401")),q("/")):e.setState({loading:!1,stripePaymentProcessingDisplay:!1,errorDisplay:!0,errors:t.response.data.error})}))},e.createBookingAndPay=function(){var t=Object(c.a)(o.a.mark((function t(a,s,r){var n,i,c,l,d,u,h,j,p,b,m,g,x,O,v,f,y,w,k,S,C,D,I,N;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,i=n.t,c=n.id,l=n.location.state,d=l.numberOfCats,u=l.hostRate,h=l.hostSupplement,j=l.checkInDate,p=l.checkOutDate,b=l.nickname,m=e.state,g=m.cardholderName,x=m.postalCode,O=m.message,v=m.perDay,f=m.paymentIntent,a.preventDefault(),e.setState({loading:!0,errorDisplay:!1,errors:""}),!1!==window.navigator.onLine){t.next=8;break}e.setState({loading:!1,errors:["reusable:errors:window-navigator"],errorDisplay:!0}),t.next=46;break;case 8:if(s&&r){t.next=11;break}return e.setState({loading:!1,errorDisplay:!0,errors:["RequestToBook:stripe-elements-error"]}),t.abrupt("return");case 11:if(""!==O){t.next=15;break}e.setState({loading:!1,errors:["RequestToBook:error-1"],errorDisplay:!0}),t.next=46;break;case 15:if(!(O.length>400)){t.next=19;break}e.setState({loading:!1,errors:["RequestToBook:error-2"],errorDisplay:!0}),t.next=46;break;case 19:if(!(""===g||""===x||x<0||5!==x.length)){t.next=23;break}e.setState({loading:!1,errors:["RequestToBook:card-details-error"],errorDisplay:!0}),t.next=46;break;case 23:for(e.setState({stripePaymentProcessingDisplay:!0}),y=de(),w=[],k=Oe(u,d,h,j,p),S=p,C=j;C<=S;)w.push(C),C+=864e5;return D="/api/v1/stripe?occasion=update_payment_intent&locale=".concat(y,"&number_of_cats=").concat(d,"&message=").concat(O,"&dates=").concat(w,"&host_nickname=").concat(b,"&price_per_day=").concat(v,"&price_total=").concat(k,"&user_id=").concat(c,"&payment_intent_id=").concat(f),I={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.prev=33,t.next=36,E.a.get(D,{headers:I});case 36:return t.sent,t.next=39,s.confirmCardPayment(f,{payment_method:{card:r.getElement(da.CardNumberElement),billing_details:{name:g,address:{postal_code:x}}}});case 39:(N=t.sent).error?e.setState({loading:!1,stripePaymentProcessingDisplay:!1,errors:[N.error.message],errorDisplay:!0}):"requires_capture"===N.paymentIntent.status&&e.createBooking(N.paymentIntent.id),t.next=46;break;case 43:t.prev=43,t.t0=t.catch(33),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status?e.setState({loading:!1,stripePaymentProcessingDisplay:!1,errors:[t.t0.response.data.error],errorDisplay:!0}):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(i("reusable:errors:401")),q("/")):e.setState({loading:!1,stripePaymentProcessingDisplay:!1,errors:[t.t0.response.data.error],errorDisplay:!0});case 46:case"end":return t.stop()}}),t,null,[[33,43]])})));return function(e,a,s){return t.apply(this,arguments)}}(),e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){if(void 0===this.props.history.location.state||"POP"===this.props.history.action)this.props.history.push({pathname:"/"});else{var e=this.props.location.state,t=e.numberOfCats,a=e.hostRate,s=e.hostSupplement,r=e.checkInDate,n=e.checkOutDate,i=e.nickname;this.setState({checkIn:oe()(r).format("l"),checkOut:oe()(n).format("l"),perDay:fe(a,t,s,r,n),orderTotal:ve(a,t,s,r,n),numberOfCats:t,nickname:i}),this.createPaymentIntent()}}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,s=a.errorDisplay,r=a.numberOfCats,n=a.errors,i=a.nickname,o=a.checkIn,c=a.checkOut,l=a.message,d=a.cardholderName,h=a.postalCode,p=a.orderTotal,v=a.perDay,f=a.loading,y=a.stripePaymentProcessingDisplay;if(this.props.tReady){var w=400-l.length;return Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:t("RequestToBook:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"0.5rem"},children:Object(u.jsxs)(b.a,{i18nKey:"RequestToBook:request-info",count:parseInt(r),children:["You are requesting a booking for",Object(u.jsxs)("strong",{style:{color:"#c90c61"},children:[{count:r}," cat"]})," with",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{host:i}})," during the dates of",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{checkin:o}})," until",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{checkout:c}}),"."]})}),Object(u.jsx)(se.a,{children:Object(u.jsx)(se.a.TextArea,{label:t("reusable:plch.message"),placeholder:t("RequestToBook:message-plch"),required:!0,id:"message",value:l,onChange:this.onChangeHandler})}),Object(u.jsxs)("p",{style:{textAlign:"end",fontSize:"smaller",fontStyle:"italic"},children:[t("reusable:remaining-chars")," ",w]}),Object(u.jsx)(Ae.a,{horizontal:!0,children:Object(u.jsxs)("div",{style:{width:"135px",display:"flex",justifyContent:"space-between",margin:"1rem auto"},children:[Object(u.jsx)(ha,{height:"2rem"}),Object(u.jsx)(ja,{height:"2rem"}),Object(u.jsx)(pa,{height:"2rem"})]})}),Object(u.jsx)(da.ElementsConsumer,{children:function(a){var r=a.stripe,i=a.elements;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"payment-wrapper",children:[Object(u.jsx)(ua,{onChangeCardHolder:e.cardholderNameHandler,onChangePostalCode:e.postalCodeNameHandler,cardholderName:d,postalCode:h,stripe:r,elements:i}),Object(u.jsxs)("div",{className:"order-total",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"0.5rem"},children:t("RequestToBook:agree-to-pay")}),Object(u.jsxs)(x.a,{id:"total",as:"h3",style:{marginTop:"0",marginBottom:"0"},children:[p," kr"]}),Object(u.jsxs)(x.a,{id:"total",as:"h5",style:{marginTop:"0"},children:["(",v," ",t("reusable:price.per-day"),")"]})]})]}),s&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{children:t("RequestToBook:error-header")}),Object(u.jsx)("ul",{children:n.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]}),Object(u.jsxs)(m.a,{onClick:function(t){return e.createBookingAndPay(t,r,i)},id:"request-to-book-button",disabled:f,loading:f,children:[Object(u.jsx)(g.a,{fitted:!0,name:"lock"})," \xa0 ",t("reusable:request-cta.pay-btn")," ",p," kr"]}),Object(u.jsx)("p",{className:"smallprint",style:{marginTop:"2rem"},children:Object(u.jsxs)(b.a,{i18nKey:"RequestToBook:smallprint",children:["Our payment provider is ",Object(u.jsx)("a",{href:"https://stripe.com/about",children:"Stripe"}),". When you request the booking we reserve the amount shown above from your bank card. Host then will have 3 days to accept or decline your booking request. In an event of cancelled or declined booking request, the reserved amount will be released within 7 days of the initial request date. You can read more on how we handle payments ",Object(u.jsx)(O.b,{to:"/faq?section=payments&active=503",children:"in our FAQ"}),"."]})}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column",marginTop:"1rem"},children:Object(u.jsx)(ba,{height:"2rem"})})]})}})]}),y&&Object(u.jsxs)("div",{style:{width:"100vw",height:"100vh",position:"fixed",top:"0",left:"0",backdropFilter:"blur(2rem)"},children:[Object(u.jsx)("div",{style:{margin:"13rem auto 0"},children:Object(u.jsx)(j,{})}),Object(u.jsxs)("div",{style:{textAlign:"center",margin:"2rem auto",maxWidth:"300px"},children:[Object(u.jsx)(x.a,{children:t("RequestToBook:payment-processed-header")}),Object(u.jsx)("p",{children:t("RequestToBook:payment-processed-text")})]})]})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),ga=Object(Q.a)("RequestToBook")(Object(A.b)((function(e){return{id:e.reduxTokenAuth.currentUser.attributes.id,locationRedux:e.reduxTokenAuth.currentUser.attributes.location}}))(ma)),xa=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={checkIn:"",checkOut:"",numberOfCats:"",nickname:""},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){void 0===this.props.history.location.state||"POP"===this.props.history.action?this.props.history.push({pathname:"/"}):this.setState({checkIn:oe()(this.props.location.state.checkInDate).format("l"),checkOut:oe()(this.props.location.state.checkOutDate).format("l"),numberOfCats:this.props.location.state.numberOfCats,nickname:this.props.location.state.nickname})}},{key:"render",value:function(){var e=this.props.t;return this.props.tReady?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:e("SuccessfulRequest:title")}),Object(u.jsxs)(U.a,{className:"whitebox",style:{textAlign:"center"},children:[Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"SuccessfulRequest:p1",count:parseInt(this.state.numberOfCats),children:["You have successfully requested a booking for",Object(u.jsxs)("strong",{style:{color:"#c90c61"},children:[{count:this.state.numberOfCats}," cat"]})," with",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{host:this.state.nickname}})," during the dates of",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{checkin:this.state.checkIn}})," until",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{checkout:this.state.checkOut}}),"."]})}),Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"SuccessfulRequest:p2",children:[Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{host:this.state.nickname}})," now has 3 days to accept or decline your request. We will let you know by email. Questions? Check out our",Object(u.jsx)(x.a,{as:O.b,to:"faq",className:"fake-link",children:"FAQ"}),"."]})})]})]}):Object(u.jsx)(j,{})}}]),a}(s.Component),Oa=Object(Q.a)("SuccessfulRequest")(xa),va=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={errorDisplay:!1,errors:[],stats:{},loading:!0},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=de(),a=this.props.t;if(!1===window.navigator.onLine)this.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else{var s="/api/v1/bookings?stats=yes&user_id=".concat(this.props.id,"&host_nickname=").concat(this.props.username,"&locale=").concat(t),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.get(s,{headers:r}).then((function(t){e.setState({stats:t.data.stats,loading:!1,errorDisplay:!1,errors:[]})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:[t.response.data.error]})}))}}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.tReady&&!1===this.state.loading){var a,s,r,n,i,o,c,l,d,h=parseInt(this.state.stats.out_requests),p=parseInt(this.state.stats.out_upcoming),g=parseInt(this.state.stats.out_history),O=parseInt(this.state.stats.in_requests),v=parseInt(this.state.stats.in_upcoming),f=parseInt(this.state.stats.in_history);return this.state.errorDisplay&&(d=Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})})),0!==h||0!==p||0!==g?(i=Object(u.jsxs)("p",{className:"small-centered-paragraph",style:{color:"white"},children:[t("AllBookings:requests"),"\xa0",h,"\u2009",t("AllBookings:upcoming"),"\xa0",p,"\u2009",t("AllBookings:history"),"\xa0",g]}),c=Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AllBookings:outgoing-text")}),l=Object(u.jsx)(x.a,{className:"fake-link",style:{cursor:"pointer",textAlign:"center",marginTop:"1rem",textDecoration:"underline"},id:"view-outgoing-bookings",onClick:function(){e.props.history.push({pathname:"/outgoing-bookings",state:{userId:e.props.id}})},children:t("AllBookings:view")})):(i=Object(u.jsx)("p",{className:"small-centered-paragraph",style:{color:"white"},children:t("AllBookings:outgoing-booking-stats")}),c=Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AllBookings:outgoing-text-2")}),l=Object(u.jsx)(x.a,{className:"fake-link",style:{cursor:"pointer",textAlign:"center",marginTop:"1rem",textDecoration:"underline"},id:"view-outgoing-bookings",onClick:function(){e.props.history.push("/search")},children:t("AllBookings:outgoing-cta")})),0!==O||0!==v||0!==f?(a=Object(u.jsxs)("p",{className:"small-centered-paragraph",style:{color:"white"},children:[t("AllBookings:requests"),"\xa0",O,"\u2009",t("AllBookings:upcoming"),"\xa0",v,"\u2009",t("AllBookings:history"),"\xa0",f]}),0!==O?(r=Object(u.jsx)("p",{style:{textAlign:"center"},children:Object(u.jsxs)(b.a,{count:parseInt(O),i18nKey:"AllBookings:incoming-text",children:["You have",Object(u.jsxs)("strong",{style:{color:"#c90c61"},children:[{count:O}," incoming booking request"]}),"awaiting your decision."]})}),n=Object(u.jsx)(m.a,{id:"view-incoming-bookings",onClick:function(){e.props.history.push({pathname:"/incoming-bookings",state:{hostNickname:e.props.username}})},children:t("AllBookings:view")})):(r=Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AllBookings:incoming-text-2")}),n=Object(u.jsx)(x.a,{className:"fake-link",style:{cursor:"pointer",textAlign:"center",marginTop:"1rem",textDecoration:"underline"},id:"view-incoming-bookings",onClick:function(){e.props.history.push({pathname:"/incoming-bookings",state:{hostNickname:e.props.username}})},children:t("AllBookings:view")}))):(a=Object(u.jsx)("p",{className:"small-centered-paragraph",style:{color:"white"},children:t("AllBookings:outgoing-booking-stats")}),r=Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AllBookings:incoming-text-3")}),n=Object(u.jsx)(x.a,{className:"fake-link",style:{cursor:"pointer",textAlign:"center",marginTop:"1rem",textDecoration:"underline"},id:"view-incoming-bookings",onClick:function(){e.props.history.push("/faq?section=sitter&active=201")},children:t("AllBookings:incoming-cta")})),o=Object(u.jsxs)(U.a,{className:"box-shadow",children:[Object(u.jsxs)("div",{className:"topbox",children:[Object(u.jsx)(x.a,{as:"h3",style:{color:"white",marginBottom:"0"},children:t("AllBookings:outgoing-segment")}),i]}),c,l]}),s=Object(u.jsxs)(U.a,{className:"box-shadow",children:[Object(u.jsxs)("div",{className:"topbox",children:[Object(u.jsx)(x.a,{as:"h3",style:{color:"white",marginBottom:"0"},children:t("AllBookings:incoming-segment")}),a]}),r,n]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Re.a,{modal:!0,open:this.state.errorDisplay,closeOnDocumentClick:!0,onClose:function(){e.setState({errors:[]})},position:"top center",children:Object(u.jsx)("div",{children:d})}),Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsxs)(x.a,{as:"h1",children:[t("AllBookings:hi")," ",this.props.username,"!"]}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("AllBookings:header-page")}),0!==O||0!==v||0!==f?Object(u.jsxs)(u.Fragment,{children:[s,o]}):Object(u.jsxs)(u.Fragment,{children:[o,s]})]})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),fa=Object(Q.a)("AllBookings")(Object(A.b)((function(e){return{username:e.reduxTokenAuth.currentUser.attributes.username,id:e.reduxTokenAuth.currentUser.attributes.id}}))(yt(va))),ya=function(e){return Object(p.a)("OutRequestUserMessagePopup").ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{margin:"-2rem -2rem 2rem",background:"#c90c61",padding:"2rem"},children:Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{i18nKey:"OutRequestUserMessagePopup:main-title",children:["Your booking request for the dates of ",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," until",Object(u.jsx)("strong",{children:{endDate:e.endDate}}),"."]})})}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===e.avatar?"https://ui-avatars.com/api/?name=".concat(e.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):e.avatar,size:"small",style:{borderRadius:"50%",width:"3rem",height:"3rem"}}),Object(u.jsx)(x.a,{style:{margin:"0 1rem"},children:e.nickname})]}),Object(u.jsx)("p",{style:{fontSize:"small",fontStyle:"italic",margin:"1rem 0 0"},children:e.message})]}):Object(u.jsx)(j,{})},wa=function(e){var t=Object(p.a)("OutgoingRequests"),a=t.t;if(t.ready){var s=e.requests;return s.sort((function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()})),e.requests.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)(b.a,{count:parseInt(e.requests.length),i18nKey:"OutgoingRequests:main-header",children:Object(u.jsxs)("strong",{children:["You have made ",{count:e.requests.length}," booking request."]})})}),Object(u.jsx)("p",{style:{textAlign:"center"},children:a("OutgoingRequests:desc")}),s.map((function(e){return Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:e.id,"data-cy":"outgoing-requests",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(e.number_of_cats),i18nKey:"OutgoingRequests:req-desc",children:["You have requested to book a stay with ",Object(u.jsx)("strong",{children:{nickname:e.host_nickname}})," for your ",Object(u.jsxs)("strong",{children:[{count:e.number_of_cats}," cat"]})," during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(e.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(e.dates[e.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{i18nKey:"OutgoingRequests:reply-before",children:["You will receive a reply before",Object(u.jsx)("strong",{children:{date:oe()(e.created_at).add(3,"days").format("YYYY-MM-DD")}}),"."]})}),Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("p",{className:"fake-link-underlined",children:a("OutgoingRequests:view-message")}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(ya,{id:e.id,nickname:e.user.nickname,message:e.message,avatar:e.user.profile_avatar,startDate:oe()(e.dates[0]).format("YYYY-MM-DD"),endDate:oe()(e.dates[e.dates.length-1]).format("YYYY-MM-DD")})})]},e.id)}))]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("OutgoingRequests:no-req")})})})}return Object(u.jsx)(j,{})},ka=Object(R.f)((function(e){var t=Object(p.a)("OutgoingUpcoming"),a=t.t;if(t.ready){var s=e.upcoming;return s.sort((function(e,t){return e.dates[0]-t.dates[0]})),e.upcoming.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)(b.a,{count:parseInt(e.upcoming.length),i18nKey:"OutgoingUpcoming:main-header",children:Object(u.jsxs)("strong",{children:["You have ",{count:e.upcoming.length}," upcoming booking."]})})}),Object(u.jsx)("p",{style:{textAlign:"center"},children:a("OutgoingUpcoming:desc")}),s.map((function(t){return Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"outgoing-upcoming",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(t.number_of_cats),i18nKey:"OutgoingUpcoming:upc-desc",children:["You have successfully booked a stay with ",Object(u.jsx)("strong",{children:{nickname:t.host_nickname}})," for your ",Object(u.jsxs)("strong",{children:[{count:t.number_of_cats}," cat"]})," for the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(u.jsx)("span",{children:Object(u.jsx)("p",{className:"fake-link-underlined",id:"booking-details-".concat(t.id),onClick:function(){e.history.push({pathname:"/booking-details",state:{hostId:t.host_id,avatar:t.host_avatar,description:t.host_description,nickname:t.host_nickname,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD"),priceTotal:t.price_total,address:t.host_full_address,lat:t.host_real_lat,long:t.host_real_long,location:t.host_location,numberOfCats:t.number_of_cats,hostProfileId:t.host_profile_id,score:t.host_profile_score}})},children:a("OutgoingUpcoming:details")})}),Object(u.jsx)("p",{className:"fake-link-underlined",id:"booking-receipt-".concat(t.id),onClick:function(){e.history.push({pathname:"/booking-receipt",state:{nickname:t.host_nickname,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD"),priceTotal:t.price_total,numberOfCats:t.number_of_cats,bookingId:t.id,createdAt:oe()(t.created_at).format("YYYY-MM-DD")}})},children:a("reusable:cta:view-receipt")})]})]},t.id)}))]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("OutgoingUpcoming:no-upc")})})})}return Object(u.jsx)(j,{})})),Sa=function(e){var t=Object(p.a)("OutRequestDeclinedPopup"),a=t.t;return t.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"-2rem -2rem 2rem",background:"#c90c61",padding:"2rem"},children:[Object(u.jsx)(x.a,{as:"h2",style:{color:"#ffffff",textAlign:"left"},children:a("OutRequestDeclinedPopup:main-header")}),Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{i18nKey:"OutRequestDeclinedPopup:desc",children:["Your booking request for the dates of ",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," until",Object(u.jsx)("strong",{children:{endDate:e.endDate}})," got declined."]})})]}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===e.avatar?"https://ui-avatars.com/api/?name=".concat(e.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):e.avatar,size:"small",style:{borderRadius:"50%",width:"3rem",height:"3rem"}}),Object(u.jsx)(x.a,{style:{margin:"0 1rem"},children:e.nickname})]}),Object(u.jsx)("p",{style:{fontSize:"small",fontStyle:"italic",margin:"1rem 0 0"},children:e.message})]}):Object(u.jsx)(j,{})},Ca=function(e){var t=Object(p.a)("OutRequestCancelledPopup"),a=t.t;return t.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"-2rem -2rem 2rem",background:"#c90c61",padding:"2rem"},children:[Object(u.jsx)(x.a,{as:"h2",style:{color:"#ffffff",textAlign:"left"},children:a("OutRequestCancelledPopup:main-header")}),Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{i18nKey:"OutRequestCancelledPopup:desc",children:["Your booking request for the dates of ",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," until",Object(u.jsx)("strong",{children:{endDate:e.endDate}})," got cancelled."]})})]}),Object(u.jsx)("p",{style:{margin:"1rem 0 0"},children:Object(u.jsxs)(b.a,{i18nKey:"OutRequestCancelledPopup:explanation",children:["Your booking got automatically cancelled due to",Object(u.jsx)("strong",{style:{fontStyle:"normal",color:"#c90c61"},children:{nickname:e.nickname}})," not responding for 3 days."]})}),Object(u.jsx)("p",{style:{margin:"1rem 0 0"},children:Object(u.jsxs)(b.a,{i18nKey:"OutRequestCancelledPopup:try-again",children:["Try to",Object(u.jsx)(x.a,{as:O.b,to:"/search",className:"fake-link-underlined-reg",style:{fontStyle:"normal"},children:"search again"}),", we hope you find a perfect host soon!"]})})]}):Object(u.jsx)(j,{})},Da=function(e){var t=Object(p.a)("ViewYourReviewPopup"),a=t.t,r=t.ready,n=de(),i=Object(s.useState)(null),o=Object(l.a)(i,2),c=o[0],d=o[1],h=Object(s.useState)(null),m=Object(l.a)(h,2),g=m[0],O=m[1],v=Object(s.useState)(null),f=Object(l.a)(v,2),y=f[0],w=f[1],k=Object(s.useState)(null),S=Object(l.a)(k,2),C=S[0],D=S[1],I=Object(s.useState)(null),N=Object(l.a)(I,2),M=N[0],_=N[1],H=Object(s.useState)(null),B=Object(l.a)(H,2),A=B[0],z=B[1],T=Object(s.useState)(null),L=Object(l.a)(T,2),P=L[0],Y=L[1],V=Object(s.useState)(null),U=Object(l.a)(V,2),R=U[0],K=U[1],G=Object(s.useState)(null),W=Object(l.a)(G,2),Z=W[0],J=W[1];return Object(s.useEffect)((function(){if(!1===window.navigator.onLine)D(!0),w("reusable:errors:window-navigator");else{var t="/api/v1/reviews/".concat(e.id),s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},r={locale:n};E.a.get(t,r,{headers:s}).then((function(e){d(e.data.host_nickname),O(e.data.body),_(e.data.created_at),z(e.data.score),Y(e.data.host_reply),K(e.data.host_avatar),J(e.data.updated_at)})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(D(!0),w("reusable:errors:500")):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(D(!0),w([e.response.data.error]))}))}}),[]),r?(oe.a.locale(n),C?Object(u.jsx)(ae.a,{negative:!0,style:{textAlign:"center"},children:a(y[0])}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"-2rem -2rem 1rem",background:"#c90c61",padding:"2rem"},children:[Object(u.jsx)(x.a,{as:"h2",style:{color:"#ffffff",textAlign:"left"},children:a("ViewYourReviewPopup:main-header")}),Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{i18nKey:"ViewYourReviewPopup:desc",children:["You reviewed your booking with ",Object(u.jsx)("strong",{children:{nickname:c}})," for the dates of",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," until ",Object(u.jsx)("strong",{children:{endDate:e.endDate}}),"."]})})]}),Object(u.jsx)("div",{style:{display:"flex"},children:Object(u.jsx)(ge,{score:A,displayNumerical:!0})}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(u.jsx)(x.a,{as:"h4",style:{margin:"0 0.5rem 0.5rem 0"},children:a("ViewYourReviewPopup:you-said")}),Object(u.jsx)("p",{style:{fontSize:"small"},children:oe()(M).fromNow()})]}),Object(u.jsx)("div",{style:{maxHeight:"200px",overflow:"auto",fontSize:"small",fontStyle:"italic"},children:Object(u.jsx)("p",{children:g})}),P&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{style:{marginTop:"2rem"}}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===R?"https://ui-avatars.com/api/?name=".concat(c,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):R,size:"small",style:{borderRadius:"50%",width:"3rem",height:"3rem"}}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(u.jsx)(x.a,{style:{margin:"0 0.5rem"},children:c}),Object(u.jsx)("p",{style:{fontSize:"small"},children:oe()(Z).fromNow()})]})]}),Object(u.jsx)("div",{style:{maxHeight:"200px",overflow:"auto",fontSize:"small",fontStyle:"italic",margin:"1rem auto"},children:Object(u.jsx)("p",{children:P})})]})]})):Object(u.jsx)(j,{})},Ia=Object(R.f)((function(e){var t=Object(p.a)("OutgoingHistory"),a=t.t;if(t.ready){var s=e.outHistoryBookings;return s.sort((function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()})),e.outHistoryBookings.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)(b.a,{count:parseInt(e.outHistoryBookings.length),i18nKey:"OutgoingHistory:main-header",children:Object(u.jsxs)("strong",{children:["You have ",{count:e.outHistoryBookings.length}," past booking."]})})}),s.map((function(t){return"declined"===t.status?Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"outgoing-history",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("OutgoingHistory:declined-req-header")})}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(t.number_of_cats),i18nKey:"OutgoingHistory:declined-req-desc",children:["Your request to book a stay with ",Object(u.jsx)("strong",{children:{nickname:t.host_nickname}})," for your",Object(u.jsxs)("strong",{children:[{count:t.number_of_cats}," cat"]})," during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"got declined."]})}),Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("p",{className:"fake-link-underlined",children:a("OutgoingHistory:view-message")}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(Sa,{id:t.id,nickname:t.host_nickname,message:t.host_message,avatar:t.host_avatar,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")})})]},t.id):"canceled"===t.status?Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"outgoing-history",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("OutgoingHistory:canceled-req-header")})}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(t.number_of_cats),i18nKey:"OutgoingHistory:canceled-req-desc",children:["Your request to book a stay with ",Object(u.jsx)("strong",{children:{nickname:t.host_nickname}})," for your",Object(u.jsxs)("strong",{children:[{count:t.number_of_cats}," cat"]})," during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"got canceled."]})}),Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("p",{className:"fake-link-underlined",children:a("OutgoingHistory:why")}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(Ca,{nickname:t.host_nickname,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")})})]},t.id):Object(u.jsxs)(B.a,{style:{backgroundColor:null===t.review_id&&null!==t.host_profile_id?"#f3dde6":"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"outgoing-history",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{i18nKey:"OutgoingHistory:req-desc",children:["Your cat(s) stayed with ",Object(u.jsx)("strong",{children:{nickname:t.host_nickname}})," during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[null===t.review_id&&null!==t.host_profile_id?Object(u.jsx)("span",{children:Object(u.jsx)("p",{className:"fake-link-underlined",id:"leave-review",onClick:function(){e.history.push({pathname:"/leave-a-review",state:{userId:t.user_id,hostProfileId:t.host_profile_id,bookingId:t.id,hostNickname:t.host_nickname,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}})},children:a("OutgoingHistory:leave-review")})}):null===t.review_id&&null===t.host_profile_id?Object(u.jsx)("span",{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:a("OutgoingHistory:no-host-no-review")})}):Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("span",{children:Object(u.jsx)("p",{className:"fake-link-underlined",children:a("OutgoingHistory:view-review")})}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(Da,{id:t.review_id,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")})}),Object(u.jsx)("p",{className:"fake-link-underlined",id:"booking-receipt-".concat(t.id),style:{marginLeft:"0.5rem"},onClick:function(){e.history.push({pathname:"/booking-receipt",state:{nickname:t.host_nickname,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD"),priceTotal:t.price_total,numberOfCats:t.number_of_cats,bookingId:t.id,createdAt:oe()(t.created_at).format("YYYY-MM-DD")}})},children:a("reusable:cta:view-receipt")})]})]},t.id)}))]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("OutgoingHistory:no-history")})})})}return Object(u.jsx)(j,{})})),Na=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={scrollYPosition:0,outgoingBookings:[],loading:!0,errorDisplay:!1,errors:[]},e.handleScroll=function(){e.setState({scrollYPosition:window.scrollY})},e.scrollToTop=function(e){e.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll);var t=de(),a=this.props.t;if(!1===window.navigator.onLine)this.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(null===window.history.state)window.location.replace("/all-bookings");else{var s="/api/v1/bookings?stats=no&user_id=".concat(this.props.location.state.userId,"&locale=").concat(t),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.get(s,{headers:r}).then((function(t){e.setState({outgoingBookings:t.data,loading:!1,errorDisplay:!1,errors:[]})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:[t.response.data.error]})}))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.tReady&&!1===this.state.loading){var a,s=new Date,r=Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),n=new Date(r).getTime(),i=[],o=[],c=[];return this.state.outgoingBookings.map((function(e){return"pending"===e.status?i.push(e):"accepted"===e.status&&e.dates[e.dates.length-1]>n?o.push(e):c.push(e),null})),this.state.errorDisplay&&(a=Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"secondary-sticky",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(u.jsx)(x.a,{as:"h1",style:{marginBottom:"0",margin:"0 auto"},children:t("OutgoingBookings:main-header")}),Object(u.jsx)("p",{style:{textAlign:"center",margin:"0 auto 1rem"},children:t("OutgoingBookings:desc")}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(u.jsxs)(m.a.Group,{size:"mini",children:[Object(u.jsx)(m.a,{style:{marginTop:"0"},onClick:function(){e.requests.scrollIntoView({behavior:"smooth"})},children:t("OutgoingBookings:requests")}),Object(u.jsx)(m.a,{style:{marginTop:"0"},onClick:function(){e.upcoming.scrollIntoView({behavior:"smooth"})},children:t("OutgoingBookings:upcoming")}),Object(u.jsx)(m.a,{style:{marginTop:"0"},onClick:function(){e.history.scrollIntoView({behavior:"smooth"})},children:t("OutgoingBookings:history")})]})})]}),Object(u.jsx)(B.a,{style:{paddingTop:"150px"},children:Object(u.jsxs)("div",{className:"expanding-wrapper",children:[a,Object(u.jsxs)("div",{ref:function(t){e.requests=t},className:"booking-type-wrapper",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginBottom:"0",marginTop:"2rem"},children:t("OutgoingBookings:requests")}),Object(u.jsx)(wa,{requests:i})]}),Object(u.jsxs)("div",{ref:function(t){e.upcoming=t},className:"booking-type-wrapper",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginBottom:"0",marginTop:"3rem"},children:t("OutgoingBookings:upcoming")}),Object(u.jsx)(ka,{upcoming:o})]}),Object(u.jsxs)("div",{ref:function(t){e.history=t},className:"booking-type-wrapper",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginBottom:"0",marginTop:"3rem"},children:t("OutgoingBookings:history")}),Object(u.jsx)(Ia,{outHistoryBookings:c})]}),Object(u.jsx)("div",{className:"scroll-to-top ",children:Object(u.jsx)(g.a,{link:"#",name:"angle up",size:"huge",color:"grey",style:this.state.scrollYPosition<200?{display:"none"}:{display:"block"},onClick:this.scrollToTop})})]})})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),Ma=Object(Q.a)("OutgoingBookings")(yt(Na)),_a=function(e){var t=Object(p.a)("IncRequestPopup"),a=t.t;return t.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"-2rem -2rem 2rem",background:"#c90c61",padding:"2rem"},children:[Object(u.jsx)(x.a,{as:"h2",style:{color:"#ffffff",textAlign:"left"},children:a("IncRequestPopup:main-header")}),Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{count:parseInt(e.number_of_cats),i18nKey:"IncRequestPopup:desc",children:["A stay for ",Object(u.jsxs)("strong",{children:[{count:e.number_of_cats}," cat"]})," for the dates of",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," until ",Object(u.jsx)("strong",{children:{endDate:e.endDate}})]})})]}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===e.avatar?"https://ui-avatars.com/api/?name=".concat(e.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):e.avatar,size:"small",style:{borderRadius:"50%",width:"3rem",height:"3rem"}}),Object(u.jsx)(x.a,{style:{margin:"0 1rem"},children:e.nickname})]}),Object(u.jsx)("p",{style:{fontSize:"small",fontStyle:"italic",margin:"1rem 0 0"},children:e.message})]}):Object(u.jsx)(j,{})},Ha=function(e){var t=Object(p.a)("DeclineRequestPopup"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)(""),h=Object(l.a)(d,2),g=h[0],O=h[1],v=Object(s.useState)(!1),f=Object(l.a)(v,2),y=f[0],w=f[1],k=Object(s.useState)(""),S=Object(l.a)(k,2),C=S[0],D=S[1];return r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{as:"h2",children:a("DeclineRequestPopup:page-header")}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{i18nKey:"DeclineRequestPopup:page-desc",children:["You are about to decline a booking request from",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{nickname:e.nickname}})," for the dates of",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{startDate:e.startDate}})," until",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{endDate:e.endDate}})]})}),Object(u.jsx)(se.a,{children:Object(u.jsx)(se.a.TextArea,{style:{minHeight:"120px"},label:a("DeclineRequestPopup:text-area-label"),placeholder:a("DeclineRequestPopup:text-area-plch"),required:!0,id:"message",value:g,onChange:function(e){return O(e.target.value)}})}),Object(u.jsxs)("p",{style:{textAlign:"end",fontSize:"smaller",fontStyle:"italic"},children:[a("reusable:remaining-chars")," ",200-g.length]}),y&&Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:a("DeclineRequestPopup:error-message-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:C.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})]}),Object(u.jsx)(m.a,{id:"decline-button",disabled:o,loading:o,onClick:function(t){e.declModalCloseState(!1),function(t){t.preventDefault();var s=de();if(c(!0),!1===window.navigator.onLine)c(!1),w(!0),D(["reusable:errors:window-navigator"]),e.declModalCloseState(!0);else if(window.confirm(a("DeclineRequestPopup:confirm-decline")))if(""!==g&&g.length<201){var r="/api/v1/bookings/".concat(e.id),n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},i={host_message:g,status:"declined",locale:s};E.a.patch(r,i,{headers:n}).then((function(){window.location.replace("/all-bookings")})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?(c(!1),w(!0),D(["reusable:errors:500"]),e.declModalCloseState(!0)):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):(c(!1),w(!0),D(t.response.data.error),e.declModalCloseState(!0))}))}else c(!1),w(!0),D(["DeclineRequestPopup:decline-error"]),e.declModalCloseState(!0);else c(!1),e.declModalCloseState(!0)}(t)},children:a("DeclineRequestPopup:decline-cta")})]}):Object(u.jsx)(j,{})},Ba=a(390),Fa=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,errorDisplay:!1,errors:"",iconsDisabled:!1,closeOnDocumentClick:!0,payoutSuccess:!1,stripeAccountErrors:[],stripeAccountId:"",stripePendingVerification:!1,stripeDashboardButtonLoading:!1},e.fetchStripeAccountDetails=Object(c.a)(o.a.mark((function t(){var a,s,r,n,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.t,!1!==window.navigator.onLine){t.next=5;break}e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]}),t.next=18;break;case 5:return t.prev=5,s=de(),r="/api/v1/stripe?locale=".concat(s,"&host_profile_id=").concat(e.props.requests[0].host_profile_id,"&occasion=retrieve"),n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.next=11,E.a.get(r,{headers:n});case 11:(i=t.sent).data.message?e.setState({stripeAccountId:null,loading:!1}):e.setState({payoutSuccess:i.data.payouts_enabled,stripeAccountErrors:i.data.requirements.errors,stripePendingVerification:i.data.requirements.pending_verification.length>0,loading:!1}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status?e.setState({loading:!1,errorDisplay:!0,errors:[t.t0.response.data.error]}):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:[t.t0.response.data.error]});case 18:case"end":return t.stop()}}),t,null,[[5,15]])}))),e.declModalCloseState=function(t){e.setState({closeOnDocumentClick:t})},e.acceptRequest=function(t,a){t.preventDefault();var s=e.props.t,r=de();if(e.setState({iconsDisabled:!0}),!1===window.navigator.onLine)e.setState({errorDisplay:!0,errors:["reusable:errors:window-navigator"],iconsDisabled:!1});else if(window.confirm(s("IncomingRequests:accept-request"))){var n="/api/v1/bookings/".concat(t.target.id.split("-")[1]),i={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},o={status:"accepted",host_message:"accepted by host",locale:r};E.a.patch(n,o,{headers:i}).then((function(){e.props.history.push({pathname:"/request-accepted-success",state:{cats:a.number_of_cats,inDate:new Date(a.dates[0]),outDate:new Date(a.dates[a.dates.length-1]),price:a.price_total,user:a.user.nickname}})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({errorDisplay:!0,errors:["reusable:errors:500"],iconsDisabled:!1}):555===t.response.status||427===t.response.status?(window.alert(t.response.data.error),e.props.history.push("/all-bookings")):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(s("reusable:errors:401")),q("/")):e.setState({errorDisplay:!0,errors:t.response.data.error,iconsDisabled:!1})}))}else e.setState({iconsDisabled:!1})},e.fetchStripeDashboardLink=Object(c.a)(o.a.mark((function t(){var a,s,r,n,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.t,!1!==window.navigator.onLine){t.next=5;break}e.setState({errorDisplay:!0,errors:["reusable:errors:window-navigator"]}),t.next=20;break;case 5:return t.prev=5,e.setState({stripeDashboardButtonLoading:!0}),s=de(),r="/api/v1/stripe?locale=".concat(s,"&host_profile_id=").concat(e.props.requests[0].host_profile_id,"&occasion=login_link"),n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},t.next=12,E.a.get(r,{headers:n});case 12:i=t.sent,window.open(i.data.url),e.setState({stripeDashboardButtonLoading:!1}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),void 0===t.t0.response?q("/is-not-available?atm"):555===t.t0.response.status?e.setState({errorDisplay:!0,errors:[t.t0.response.data.error],stripeDashboardButtonLoading:!1}):503===t.t0.response.status?q("/is-not-available?atm"):401===t.t0.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({errorDisplay:!0,errors:[t.t0.response.data.error],stripeDashboardButtonLoading:!1});case 20:case"end":return t.stop()}}),t,null,[[5,17]])}))),e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){"POP"===this.props.history.action&&this.props.history.push({pathname:"/all-bookings"}),this.props.requests.length>0?this.fetchStripeAccountDetails():this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,s=a.payoutSuccess,r=a.stripeAccountId,n=a.stripeAccountErrors,i=a.stripeDashboardButtonLoading,o=a.stripePendingVerification,c=a.loading;if(this.props.tReady&&!1===c){var l,d,h,p,v=this.props.requests;return v.sort((function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()})),this.state.errorDisplay&&(p=Object(u.jsxs)(ae.a,{negative:!0,children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:t("IncomingRequests:main-header-error")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]})),h=this.props.requests.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)(b.a,{count:parseInt(this.props.requests.length),i18nKey:"IncomingRequests:requests-to-display",children:Object(u.jsxs)("strong",{children:["You have received ",{count:this.props.requests.length}," booking request."]})})}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("IncomingRequests:requests-desc")}),null===r?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{style:{textAlign:"center",margin:"2rem 0"},children:Object(u.jsxs)(b.a,{i18nKey:"IncomingRequests:step-1-text",children:["You made a host profile but have not provided us with your payment information. Without that we cannot transfer the money for your gigs! Please visit your\xa0",Object(u.jsx)(O.b,{to:"/user-page",children:Object(u.jsx)("span",{className:"fake-link-underlined-reg",children:"profile page"})}),"\xa0to fix that."]})})}):n.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{style:{textAlign:"center",marginTop:"2rem",fontSize:"unset"},children:[t("reusable:stripe:step-2-text"),"\u2002",t(o?"reusable:stripe:step-2-pending":"reusable:stripe:step-2-go-to-dashboard")]}),!o&&Object(u.jsx)(m.a,{onClick:function(){return e.fetchStripeDashboardLink()},loading:i,disabled:i,id:"progress-bar-cta",style:{marginBottom:"2rem"},children:t("reusable:stripe:stripe-dashboard-cta")})]}),v.map((function(a){return l=a.price_total.toFixed(2),d="0"===l[l.length-1]&&"0"===l[l.length-2]?parseFloat(l):l,Object(u.jsxs)("div",{className:"booking-request","data-cy":"incoming-requests",children:[Object(u.jsxs)(H.a,{style:{background:"#c90c61",margin:"0"},children:[Object(u.jsxs)(H.a.Row,{style:{alignItems:"center"},children:[Object(u.jsx)(H.a.Column,{width:8,children:Object(u.jsxs)(x.a,{as:"h2",style:{color:"white",marginBottom:"0",textAlign:"left"},children:[d," kr"]})}),Object(u.jsxs)(H.a.Column,{width:8,children:[Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)(g.a,{disabled:e.state.iconsDisabled,id:"decline",name:"plus circle",style:{color:"#ffffff",opacity:"0.6",transform:"rotate(45deg)",float:"right",cursor:"pointer"},size:"big"}),position:"top center",closeOnDocumentClick:e.state.closeOnDocumentClick,children:Object(u.jsx)(Ha,{id:a.id,nickname:a.user.nickname,startDate:oe()(a.dates[0]).format("YYYY-MM-DD"),endDate:oe()(a.dates[a.dates.length-1]).format("YYYY-MM-DD"),declModalCloseState:e.declModalCloseState.bind(e)})}),Object(u.jsx)(Ba.a,{basic:!0,id:"popover-".concat(a.id),hoverable:!0,hideOnScroll:!0,disabled:s,content:null===r?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{style:{textAlign:"center"},children:Object(u.jsxs)(b.a,{i18nKey:"IncomingRequests:step-1-text",children:["You made a host profile but have not provided us with your payment information. Without that we cannot transfer the money for your gigs! Please visit your\xa0",Object(u.jsx)(O.b,{to:"/user-page",children:Object(u.jsx)("span",{className:"fake-link-underlined-reg",children:"profile page"})}),"\xa0to fix that."]})})}):n.length>0&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{style:{textAlign:"center",fontSize:"unset"},children:[t("reusable:stripe:step-2-text"),"\u2002",o?t("reusable:stripe:step-2-pending"):Object(u.jsxs)(b.a,{i18nKey:"IncomingRequest:stripe-step2-complete-verification",children:["In order for you to accept a request, you should\xa0",Object(u.jsx)("span",{onClick:function(){return e.fetchStripeDashboardLink()},className:"fake-link-underlined",children:"complete your verification"}),"\xa0with our payment provider (Stripe)."]})]})}),trigger:Object(u.jsx)(g.a,{disabled:!(!e.state.iconsDisabled&&!1!==s&&void 0!==s),id:"accept-".concat(a.id),onClick:function(t){return e.acceptRequest(t,a)},name:"check circle",style:{color:"#ffffff",float:"right",cursor:"pointer"},size:"big"})})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small",marginBottom:"1rem",marginTop:"-0.5rem"},children:Object(u.jsxs)(b.a,{i18nKey:"IncomingRequests:must-reply",children:["You must reply before",Object(u.jsx)("strong",{children:{date:oe()(a.created_at).add(3,"days").format("YYYY-MM-DD")}})]})})})]}),Object(u.jsxs)("div",{style:{padding:"2rem"},children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(a.number_of_cats),i18nKey:"IncomingRequests:book-a-stay",children:[Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{nickname:a.user.nickname}})," wants to book a stay for their",Object(u.jsxs)("strong",{style:{color:"#c90c61"},children:[{count:a.number_of_cats}," cat"]})," during the dates of",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{startDate:oe()(a.dates[0]).format("YYYY-MM-DD")}}),"until",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{endDate:oe()(a.dates[a.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("p",{className:"fake-link-underlined",children:t("IncomingRequests:view-message")}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(_a,{nickname:a.user.nickname,number_of_cats:a.number_of_cats,startDate:oe()(a.dates[0]).format("YYYY-MM-DD"),endDate:oe()(a.dates[a.dates.length-1]).format("YYYY-MM-DD"),message:a.message,avatar:a.user.profile_avatar})})]})]},a.id)}))]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:t("IncomingRequests:no-requests")})})}),Object(u.jsxs)(u.Fragment,{children:[p,h]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),Aa=Object(Q.a)("IncomingRequests")(Object(R.f)(Fa)),za=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={errorDisplay:!1,errors:[]},e.messageUser=function(t,a,s,r,n){t.preventDefault();var i=e.props.t;if(!1===window.navigator.onLine)e.setState({errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else{var o=de(),c={user1_id:e.props.id,user2_id:a,locale:o},l={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/conversations",c,{headers:l}).then((function(t){e.props.history.push({pathname:"/conversation",state:{id:t.data.id,user:{profile_avatar:s,id:a,location:r,nickname:n}}})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(i("reusable:errors:401")),q("/")):422===t.response.status?e.setState({errorDisplay:!0,errors:["reusable:errors:422-conversation"]}):e.setState({errorDisplay:!0,errors:t.response.data.error})}))}},e}return Object(L.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.tReady){var a,s,r=this.props.upcoming;return r.sort((function(e,t){return e.dates[0]-t.dates[0]})),this.state.errorDisplay&&(s=Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})})),a=this.props.upcoming.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Re.a,{modal:!0,open:this.state.errorDisplay,closeOnDocumentClick:!0,onClose:function(){e.setState({errorDisplay:!1,errors:[]})},position:"top center",children:Object(u.jsx)("div",{children:s})}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)(b.a,{count:parseInt(this.props.upcoming.length),i18nKey:"IncomingUpcoming:main-title",children:Object(u.jsxs)("strong",{children:["You have ",{count:this.props.upcoming.length}," upcoming booking."]})})}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("IncomingUpcoming:main-desc")}),r.map((function(a){return Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:a.id,"data-cy":"incoming-upcoming",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(a.number_of_cats),i18nKey:"IncomingUpcoming:booking-info",children:["You have approved a stay for ",Object(u.jsxs)("strong",{children:[{nickname:a.user.nickname},"'s"]}),"\xa0",Object(u.jsxs)("strong",{children:[{count:a.number_of_cats}," cat"]})," for the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(a.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(a.dates[a.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),Object(u.jsxs)("p",{className:"fake-link-underlined",onClick:function(t){return e.messageUser(t,a.user_id,a.user.profile_avatar,a.user.location,a.user.nickname)},children:[t("IncomingUpcoming:message")," ",a.user.nickname]})]},a.id)}))]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:t("IncomingUpcoming:no-bookings")})})}),Object(u.jsx)(u.Fragment,{children:a})}return Object(u.jsx)(j,{})}}]),a}(s.Component),Ta=Object(Q.a)("IncomingUpcoming")(Object(R.f)(Object(A.b)((function(e){return{id:e.reduxTokenAuth.currentUser.attributes.id}}))(za))),La=function(e){var t=Object(p.a)("IncRequestDeclinedPopup"),a=t.t;return t.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"-2rem -2rem 2rem",background:"#c90c61",padding:"2rem"},children:[Object(u.jsx)(x.a,{as:"h2",style:{color:"#ffffff",textAlign:"left"},children:a("IncRequestDeclinedPopup:main-header")}),Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{i18nKey:"IncRequestDeclinedPopup:desc",children:["You declined a booking request from ",Object(u.jsx)("strong",{children:{nickname:e.nickname}})," for the dates of",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," until ",Object(u.jsx)("strong",{children:{endDate:e.endDate}}),"."]})})]}),Object(u.jsx)("p",{style:{fontSize:"small",fontStyle:"italic",margin:"1rem 0 0"},children:e.message})]}):Object(u.jsx)(j,{})},Pa=function(e){var t=Object(p.a)("ViewReviewPopup"),a=t.t,r=t.ready,n=de(),i=Object(s.useState)(null),o=Object(l.a)(i,2),c=o[0],d=o[1],h=Object(s.useState)(null),m=Object(l.a)(h,2),g=m[0],v=m[1],f=Object(s.useState)(null),y=Object(l.a)(f,2),w=y[0],k=y[1],S=Object(s.useState)(null),C=Object(l.a)(S,2),D=C[0],I=C[1],N=Object(s.useState)(null),M=Object(l.a)(N,2),_=M[0],H=M[1],B=Object(s.useState)(null),A=Object(l.a)(B,2),z=A[0],T=A[1],L=Object(s.useState)(null),P=Object(l.a)(L,2),Y=P[0],V=P[1],U=Object(s.useState)(null),R=Object(l.a)(U,2),K=R[0],G=R[1],W=Object(s.useState)(null),Z=Object(l.a)(W,2),J=Z[0],Q=Z[1];return Object(s.useEffect)((function(){if(!1===window.navigator.onLine)I(!0),k("reusable:errors:window-navigator");else{var t="/api/v1/reviews/".concat(e.id),s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},r={locale:n};E.a.get(t,r,{headers:s}).then((function(e){null===e.data.user?(d("Deleted user"),V("https://ui-avatars.com/api/?name=[x]&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false")):(d(e.data.user.nickname),V(e.data.user.profile_avatar)),v(e.data.body),H(e.data.created_at),T(e.data.score),G(e.data.host_reply),Q(e.data.updated_at)})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(I(!0),k("reusable:errors:500")):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):(I(!0),k([e.response.data.error]))}))}}),[]),r?(oe.a.locale(n),D?Object(u.jsx)(ae.a,{negative:!0,style:{textAlign:"center"},children:a(w[0])}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{margin:"-2rem -2rem 1rem",background:"#c90c61",padding:"2rem"},children:[Object(u.jsx)(x.a,{as:"h2",style:{color:"#ffffff",textAlign:"left"},children:a("ViewReviewPopup:main-header")}),Object(u.jsx)("p",{style:{color:"#ffffff",fontSize:"small"},children:Object(u.jsxs)(b.a,{i18nKey:"ViewReviewPopup:desc",children:[Object(u.jsx)("strong",{children:{nickname:c}})," left you a review for a booking between the dates of",Object(u.jsx)("strong",{children:{startDate:e.startDate}})," and ",Object(u.jsx)("strong",{children:{endDate:e.endDate}}),"."]})})]}),Object(u.jsx)("div",{style:{display:"flex"},children:Object(u.jsx)(ge,{score:z,displayNumerical:!0})}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===Y?"https://ui-avatars.com/api/?name=".concat(c,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):Y,size:"small",style:{borderRadius:"50%",width:"3rem",height:"3rem"}}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(u.jsx)(x.a,{style:{margin:"0 0.5rem"},children:c}),Object(u.jsx)("p",{style:{fontSize:"small"},children:oe()(_).fromNow()})]})]}),Object(u.jsx)("div",{style:{maxHeight:"200px",overflow:"auto",fontSize:"small",fontStyle:"italic",margin:"1rem auto"},children:Object(u.jsx)("p",{children:g})}),K?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae.a,{}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[Object(u.jsx)(x.a,{as:"h4",style:{margin:"0.5rem 0.5rem 0.5rem 0"},children:a("ViewReviewPopup:you-replied")}),Object(u.jsx)("p",{style:{fontSize:"small"},children:oe()(J).fromNow()})]}),Object(u.jsx)("p",{style:{fontStyle:"italic"},children:K})]}):Object(u.jsx)("div",{children:Object(u.jsx)(O.b,{to:"/user-page/#review-".concat(e.id),id:"reply-link",className:"fake-link-underlined",children:a("reusable:cta:reply")})})]})):Object(u.jsx)(j,{})},Ya=Object(R.f)((function(e){var t=Object(p.a)("IncomingHistory"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),m=h[0],g=h[1];if(r){var x=e.inHistoryBookings;return x.sort((function(e,t){return new Date(t.updated_at).getTime()-new Date(e.updated_at).getTime()})),e.inHistoryBookings.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)(b.a,{count:parseInt(e.inHistoryBookings.length),i18nKey:"IncomingHistory:main-title",children:Object(u.jsxs)("strong",{children:["You have ",{count:e.inHistoryBookings.length}," past booking."]})})}),x.map((function(t){return"declined"===t.status?Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"incoming-history",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("IncomingHistory:declined-request")})}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(t.number_of_cats),i18nKey:"IncomingHistory:declined-desc",children:["You declined a booking request from ",Object(u.jsx)("strong",{children:{nickname:t.user.nickname}})," for their ",Object(u.jsxs)("strong",{children:[{count:t.number_of_cats}," cat"]})," during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("p",{className:"fake-link-underlined",children:a("IncomingHistory:view-message")}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(La,{id:t.id,nickname:t.user.nickname,message:t.host_message,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")})})]},t.id):"canceled"===t.status?Object(u.jsxs)(B.a,{style:{backgroundColor:"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"incoming-history",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("IncomingHistory:canceled-request")})}),Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{count:parseInt(t.number_of_cats),i18nKey:"IncomingHistory:canceled-desc",children:["A booking request from ",Object(u.jsx)("strong",{children:{nickname:t.user.nickname}})," for their",Object(u.jsxs)("strong",{children:[{count:t.number_of_cats}," cat"]})," during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"got canceled due to no answer from you within 3 days time."]})})]},t.id):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(B.a,{style:{backgroundColor:null===t.review_id?"#f3dde6":"#e8e8e8",marginTop:"2rem",padding:"2rem"},id:t.id,"data-cy":"incoming-history",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsxs)(b.a,{i18nKey:"IncomingHistory:other-history",children:["You hosted ",Object(u.jsxs)("strong",{children:[{nickname:t.user.nickname},"'s"]})," cat(s) during the dates of",Object(u.jsx)("strong",{children:{startDate:oe()(t.dates[0]).format("YYYY-MM-DD")}})," until",Object(u.jsx)("strong",{children:{endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")}}),"."]})}),null===t.review_id?Object(u.jsx)("p",{className:"fake-link-underlined",id:"ask-review",onClick:function(s){return function(t,s,r,n,i,o){if(t.preventDefault(),!1===window.navigator.onLine)c(!0),g(["reusable:errors:window-navigator"]);else{var l=de(),d={user1_id:s,user2_id:r,locale:l},u={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/conversations",d,{headers:u}).then((function(t){e.history.push({pathname:"/conversation",state:{id:t.data.id,user:{profile_avatar:n,id:r,location:i,nickname:o}}})})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(c(!0),g(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):422===e.response.status?(c(!0),g(["reusable:errors:422-conversation"])):(c(!0),g(e.response.data.error))}))}}(s,t.host_id,t.user_id,t.user.profile_avatar,t.user.location,t.user.nickname)},children:a("IncomingHistory:ask-review")}):Object(u.jsx)(Re.a,{modal:!0,trigger:Object(u.jsx)("p",{className:"fake-link-underlined",children:a("IncomingHistory:view-review")}),position:"top center",closeOnDocumentClick:!0,children:Object(u.jsx)(Pa,{id:t.review_id,startDate:oe()(t.dates[0]).format("YYYY-MM-DD"),endDate:oe()(t.dates[t.dates.length-1]).format("YYYY-MM-DD")})})]},t.id),o&&Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:m.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})})]})}))]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"small-centered-paragraph",children:Object(u.jsx)("strong",{children:a("IncomingHistory:no-past-bookings")})})})}return Object(u.jsx)(j,{})})),Va=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={scrollYPosition:0,incomingBookings:[],loading:!0,errorDisplay:!1,errors:[]},e.handleScroll=function(){e.setState({scrollYPosition:window.scrollY})},e.scrollToTop=function(e){e.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"})},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll);var t=de(),a=this.props.t;if(!1===window.navigator.onLine)this.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(null===window.history.state)window.location.replace("/all-bookings");else{var s="/api/v1/bookings?stats=no&host_nickname=".concat(this.props.location.state.hostNickname,"&locale=").concat(t),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.get(s,{headers:r}).then((function(t){e.setState({incomingBookings:t.data,loading:!1,errorDisplay:!1,errors:[]})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:[t.response.data.error]})}))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.tReady&&!1===this.state.loading){var a,s=new Date,r=Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),n=new Date(r).getTime(),i=[],o=[],c=[];return this.state.incomingBookings.map((function(e){return"pending"===e.status?i.push(e):"accepted"===e.status&&e.dates[e.dates.length-1]>n?o.push(e):c.push(e),null})),this.state.errorDisplay&&(a=Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{id:"secondary-sticky",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(u.jsx)(x.a,{as:"h1",style:{marginBottom:"0",margin:"0 auto",alignSelf:"flex-start"},children:t("IncomingBookings:main-header")}),Object(u.jsx)("p",{style:{textAlign:"center",margin:"0 auto 1rem"},children:t("IncomingBookings:main-desc")}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(u.jsxs)(m.a.Group,{size:"mini",children:[Object(u.jsx)(m.a,{style:{marginTop:"0"},onClick:function(){e.requests.scrollIntoView({behavior:"smooth"})},children:t("IncomingBookings:requests")}),Object(u.jsx)(m.a,{style:{marginTop:"0"},onClick:function(){e.upcoming.scrollIntoView({behavior:"smooth"})},children:t("IncomingBookings:upcoming")}),Object(u.jsx)(m.a,{style:{marginTop:"0"},onClick:function(){e.history.scrollIntoView({behavior:"smooth"})},children:t("IncomingBookings:history")})]})})]}),Object(u.jsx)(B.a,{style:{paddingTop:"150px"},children:Object(u.jsxs)("div",{className:"expanding-wrapper",children:[a,Object(u.jsxs)("div",{ref:function(t){e.requests=t},className:"booking-type-wrapper",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginBottom:"0",marginTop:"2rem"},children:t("IncomingBookings:requests")}),Object(u.jsx)(Aa,{requests:i})]}),Object(u.jsxs)("div",{ref:function(t){e.upcoming=t},className:"booking-type-wrapper",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginBottom:"0",marginTop:"3rem"},children:t("IncomingBookings:upcoming")}),Object(u.jsx)(Ta,{upcoming:o})]}),Object(u.jsxs)("div",{ref:function(t){e.history=t},className:"booking-type-wrapper",children:[Object(u.jsx)(x.a,{as:"h2",style:{marginBottom:"0",marginTop:"3rem"},children:t("IncomingBookings:history")}),Object(u.jsx)(Ya,{inHistoryBookings:c})]}),Object(u.jsx)("div",{className:"scroll-to-top ",children:Object(u.jsx)(g.a,{link:"#",name:"angle up",size:"huge",color:"grey",style:this.state.scrollYPosition<200?{display:"none"}:{display:"block"},onClick:this.scrollToTop})})]})})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),Ua=Object(Q.a)("IncomingBookings")(yt(Va)),Ra=a(229),qa=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(L.a)(a,[{key:"componentDidMount",value:function(){"POP"===this.props.history.action&&this.props.history.push({pathname:"/all-bookings"})}},{key:"render",value:function(){var e,t=this.props,a=t.t,s=t.tReady,r=t.location.state,n=r.cats,i=r.inDate,o=r.price,c=r.outDate,l=r.user,d=o.toFixed(2);e="0"===d[d.length-1]&&"0"===d[d.length-2]?parseFloat(d):d;var h="https://calendar.google.com/calendar/render?action=TEMPLATE&dates=".concat(oe()(i).format("YYYYMMDD"),"T000000Z/").concat(oe()(c).format("YYYYMMDD"),"T200000Z&location=").concat(a("RequestAcceptedSuccessfully:event-location"),"&text=").concat(a("RequestAcceptedSuccessfully:event-title",{total:e}),"&details=").concat(a("RequestAcceptedSuccessfully:event-info",{nickname:l,count:n})),p={title:a("RequestAcceptedSuccessfully:event-title",{total:e}),description:a("RequestAcceptedSuccessfully:event-info",{nickname:l,count:n}),location:a("RequestAcceptedSuccessfully:event-location"),startTime:i,endTime:c};return s?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("RequestAcceptedSuccessfully:title")}),Object(u.jsxs)(U.a,{className:"whitebox",style:{textAlign:"center"},children:[Object(u.jsx)("p",{children:Object(u.jsxs)(b.a,{i18nKey:"RequestAcceptedSuccessfully:desc",children:["You have successfully accepted a booking request. The person who requested this booking has been notified about your decision and has received an access to your full address. You can message them using your Incoming Bookings dashboard. Questions? Check out our",Object(u.jsx)(x.a,{as:O.b,to:"faq",className:"fake-link",children:"FAQ"}),"."]})}),Object(u.jsxs)("span",{style:{display:"grid"},children:[Object(u.jsx)("a",{style:{marginTop:"10px",marginBottom:"15px"},href:h,target:"_blank",rel:"noreferrer",children:a("RequestAcceptedSuccessfully:add-google-calendar")}),Object(u.jsx)(Ra.a,{event:p,children:a("RequestAcceptedSuccessfully:download-calendar-event")})]})]})]}):Object(u.jsx)(j,{})}}]),a}(s.Component),Ka=Object(Q.a)("RequestAcceptedSuccessfully")(qa),Ea=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={errorDisplay:!1,errors:[]},e.messageHost=function(t){var a=e.props.t;if(t.preventDefault(),!1===window.navigator.onLine)e.setState({errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(void 0===e.props.id)e.props.history.push("/");else{var s=de(),r={user1_id:e.props.id,user2_id:e.props.location.state.hostId,locale:s},n={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/conversations",r,{headers:n}).then((function(t){e.props.history.push({pathname:"/conversation",state:{id:t.data.id,user:{profile_avatar:e.props.location.state.avatar,id:e.props.location.state.hostId,location:e.props.location.state.location,nickname:e.props.location.state.nickname}}})})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?e.setState({errorDisplay:!0,errors:["reusable:errors:500"]}):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):422===t.response.status?e.setState({errorDisplay:!0,errors:["reusable:errors:422-conversation"]}):e.setState({errorDisplay:!0,errors:[t.response.data.error]})}))}},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){void 0!==this.props.location.state&&"POP"!==this.props.history.action||this.props.history.push({pathname:"/"})}},{key:"render",value:function(){var e=this.props.t;if(this.props.tReady){var t,a=ye(this.props.location.state.priceTotal);return this.state.errorDisplay&&(t=Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(t){return Object(u.jsx)("li",{children:e(t)},t)}))})})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Re.a,{modal:!0,open:this.state.errorDisplay,closeOnDocumentClick:!0,onClose:function(){return window.location.replace("/all-bookings")},position:"top center",children:Object(u.jsx)("div",{children:t})}),Object(u.jsxs)("div",{className:"expanding-wrapper",style:{paddingTop:"2rem"},children:[Object(u.jsx)(x.a,{as:"h1",children:e("BookingDetails:booking-details")}),Object(u.jsx)(U.a,{className:"whitebox",children:Object(u.jsxs)("div",{style:{margin:"auto",display:"table"},children:[Object(u.jsxs)("p",{children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z"})}),"\xa0",this.props.location.state.startDate," ",e("BookingDetails:until"),"\xa0",this.props.location.state.endDate]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M8 20H3V10H0L10 0l10 10h-3v10h-5v-6H8v6z"})}),"\xa0",this.props.location.state.address]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("svg",{fill:"grey",height:"0.8em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"})}),"\xa0",a," ",e("reusable:price:total"),"\u2002",Object(u.jsx)("svg",{fill:"grey",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 236.62 236.62",children:Object(u.jsx)("path",{d:"M197.023,225.545c-1.145-9.533-11.68-10.614-17.805-9.958c-6.521-24.554,16.225-61.151,17.563-69.82c1.438-9.312-6.658-63.5-7.513-90.938C188.389,26.662,147.48-4.433,140.65,0.524c-6.768,7.484,9.748,17.585,1.054,26.245c-8.398,8.367-10.588,13.99-16.824,23.46c-15.976,24.255,27.318,24.558,27.318,24.558s-33.882,25.112-41.421,37.768c-6.943,11.656-9.854,24.696-18.232,35.688c-19.094,25.051-14.791,68.729-14.791,68.729s-36.17-11.839-16.264-53.133C76.643,132.406,84.107,86.02,50.016,97.95c-13.189,4.616,2.949,14.325,5.734,17.435c9.318,10.4,1.441,27.896-4.174,38.012c-15.037,27.091-20.496,55.475,11.154,72.978c14.063,7.776,33.055,9.7,52.17,9.982l48.64,0.14C179.564,237.294,197.689,234.298,197.023,225.545z"})}),"\xa0",this.props.location.state.numberOfCats]})]})})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.a,{as:"h2",style:{margin:"1rem 0 0"},children:e("BookingDetails:about-host")}),Object(u.jsx)(Ue,{numberOfCats:this.props.location.state.numberOfCats,hostId:this.props.location.state.hostId,avatar:this.props.location.state.avatar,nickname:this.props.location.state.nickname,description:this.props.location.state.description,lat:this.props.location.state.lat,long:this.props.location.state.long,address:this.props.location.state.address,hostProfileId:this.props.location.state.hostProfileId,score:this.props.location.state.score,messageHost:this.messageHost.bind(this)})]})]})}return Object(u.jsx)(j,{})}}]),a}(s.Component),Ga=Object(Q.a)("BookingDetails")(Object(A.b)((function(e){return{id:e.reduxTokenAuth.currentUser.attributes.id}}))(Ea)),Wa=function(e){var t=new Date,a=new Date(e);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getYear()===t.getYear()?"k:mm":a.getYear()!==t.getYear()?"ll":"D MMM k:mm"},Za=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={conversations:"",scrollYPosition:0,loading:!0,errorDisplay:!1,errors:[],secondaryStickyStyle:{boxShadow:"none",borderBottom:"1px solid rgba(34,36,38,.15)"}},e.handleScroll=function(t){var a=t.target.scrollTop>0?{boxShadow:"0 0 20px -5px rgba(0,0,0,.2)",borderBottom:"none"}:{boxShadow:"none",borderBottom:"1px solid rgba(34,36,38,.15)"};console.log(t.target.scrollTop),e.setState({secondaryStickyStyle:a})},e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;if(!1===window.navigator.onLine)this.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else{var a=de(),s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},r="/api/v1/conversations?user_id=".concat(this.props.id,"&locale=").concat(a);E.a.get(r,{headers:s}).then((function(t){var a=[];t.data.map((function(t){return t.hidden!==e.props.id&&a.push(t),null}));var s=a.sort((function(e,t){var a=new Date(e.msg_created);return new Date(t.msg_created)-a}));e.setState({conversations:s,loading:!1,errorDisplay:!1,errors:[]})})).catch((function(a){void 0===a.response?q("/is-not-available?atm"):500===a.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===a.response.status?q("/is-not-available?atm"):401===a.response.status?(window.alert(t("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:a.response.data.error})}))}}},{key:"render",value:function(){var e=this,t=this.props.t,a=de(),s={nickname:t("AllConversations:deleted-user"),profile_avatar:null,location:"none",id:null};return oe.a.locale(a),this.state.loading?Object(u.jsx)(j,{}):this.state.errorDisplay?Object(u.jsx)("div",{className:"content-wrapper",children:Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{id:"secondary-sticky",style:Object(d.a)({height:"80px",display:"flex",flexDirection:"column",justifyContent:"center"},this.state.secondaryStickyStyle),children:Object(u.jsx)(x.a,{as:"h1",children:t("AllConversations:header")})}),Object(u.jsx)("div",{className:"messenger-wrapper all-conversations",style:{paddingTop:"96px"},onScroll:this.handleScroll,children:this.state.conversations.length<1?Object(u.jsx)("p",{style:{textAlign:"center",fontStyle:"italic"},children:t("AllConversations:no-messages")}):this.state.conversations.map((function(a){var r,n;return r=null===a.user1||null===a.user2?s:a.user1.id===e.props.id?a.user2:a.user1,n=Wa(a.msg_created),Object(u.jsxs)("div",{id:a.id,"data-cy":"all-messages",onClick:function(){e.props.history.push({pathname:"/conversation",state:{id:a.id,user:null===r?s:r}})},children:[Object(u.jsxs)(H.a,{className:"conversation-index-wrapper",children:[Object(u.jsx)(H.a.Column,{width:4,style:{display:"grid",alignContent:"center",paddingLeft:"1.5rem"},children:null===r.id?Object(u.jsx)(F.a,{src:"https://ui-avatars.com/api/?name=[x]&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false",size:"mini",style:{borderRadius:"50%",margin:"auto auto auto 0",maxWidth:"50px",width:"-webkit-fill-available"}}):Object(u.jsx)(F.a,{src:null===r.profile_avatar?"https://ui-avatars.com/api/?name=".concat(r.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):r.profile_avatar,size:"mini",style:{borderRadius:"50%",margin:"auto auto auto 0",maxWidth:"50px",width:"-webkit-fill-available"}})}),Object(u.jsxs)(H.a.Column,{width:8,children:[Object(u.jsx)("p",{style:{marginBottom:"0",color:"#c90c61"},children:Object(u.jsx)("strong",{children:r.nickname})}),Object(u.jsx)("p",{style:{whiteSpace:"nowrap",height:"2rem",overflow:"hidden",textOverflow:"ellipsis"},children:null===a.msg_body?"":a.msg_body})]}),Object(u.jsx)(H.a.Column,{width:4,style:{textAlign:"right",paddingRight:"1.5rem"},children:Object(u.jsx)("p",{style:{fontSize:"small"},children:null===a.msg_created?t("AllConversations:no-messages-2"):oe()(a.msg_created).format(n)})})]}),Object(u.jsx)(Ae.a,{})]},a.id)}))})]})}}]),a}(s.Component),Ja=Object(Q.a)("AllConversations")(Object(A.b)((function(e){return{id:e.reduxTokenAuth.currentUser.attributes.id}}))(yt(Za))),Qa=function(e){var t,a,s,r,n,i,o,c=Object(p.a)("MessageBubble"),l=c.t,d=c.ready,h=de();o=window.navigator.userAgent.includes("Firefox")?"-moz-fit-content":"fit-content";return null===e.message.user?(t="left",a="row",s="0",r="1rem 1rem 1rem 0",n="https://ui-avatars.com/api/?name=[x]&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false",i=l("MessageBubble:nickname-deleted")):e.currentUsername===e.message.user.nickname?(t="right",a="row-reverse",s="auto 0 auto auto",r="1rem 1rem 0 1rem",n=e.currentAvatar,i=e.currentUsername):(t="left",a="row",s="0",r="1rem 1rem 1rem 0",n=e.otherAvatar,i=e.message.user.nickname),d?(oe.a.locale(h),Object(u.jsxs)("div",{style:{textAlign:t},"data-cy":"all-messages-individual-conversation",children:[Object(u.jsxs)("div",{style:{display:"flex",flexDirection:a,marginBottom:"0.5rem",alignItems:"center"},children:[Object(u.jsx)(F.a,{src:null===n?"https://ui-avatars.com/api/?name=".concat(i,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):n,size:"mini",style:{borderRadius:"50%",height:"2rem",width:"2rem"}}),Object(u.jsx)("p",{style:{color:"#c90c61",margin:"0 0.5rem"},children:Object(u.jsx)("strong",{children:i})})]}),Object(u.jsx)("div",{style:{backgroundColor:"#eeeeee",margin:s,borderRadius:r,display:""===e.message.body&&"flex",justifyContent:""===e.message.body&&"center",alignItems:""===e.message.body&&"center",overflow:""===e.message.body&&"hidden",padding:""===e.message.body?"none":"1rem",height:"min-content",width:o,maxWidth:"70%"},children:""===e.message.body?Object(u.jsx)("a",{href:e.message.image,target:"_blank",rel:"noopener noreferrer",style:{lineHeight:"0"},children:Object(u.jsx)("img",{onLoad:function(t){return function(t){e.scrollDown(),t.target.naturalHeight>t.target.naturalWidth?t.target.classList.add("portrait-img"):t.target.classList.add("landscape-img")}(t)},alt:l("MessageBubble:image-alt-txt"),style:{flexShrink:"0",minWidth:"100%",minHeight:"100%"},src:e.message.image})}):Object(u.jsxs)("p",{children:[e.message.body," "]})}),Object(u.jsx)("p",{style:{fontSize:"small",marginBottom:"1rem"},children:oe()(e.message.created_at).format(Wa(e.message.created_at))})]})):Object(u.jsx)(j,{})},Xa=a(230),$a=a.n(Xa),es=a(239),ts=a(231),as=a.n(ts),ss=function(e){var t=Object(p.a)("ImageUploadPopup"),a=t.t;return t.ready?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(as.a,{buttonText:Object(u.jsxs)(g.a.Group,{size:"huge",color:"white",children:[Object(u.jsx)(g.a,{name:"photo"}),Object(u.jsx)(g.a,{corner:"bottom right",name:"add",style:{textShadow:"none",color:"#c90c61"}})]}),fileContainerStyle:{boxShadow:"none",padding:"0",margin:"0"},buttonStyles:{position:"relative",margin:"0",width:"100%",height:"8rem",background:"#eeeeee",borderRadius:"0",display:e.imageUploadButton?"block":"none"},withLabel:!1,withIcon:!1,withPreview:""!==e.uploadedImage,singleImage:!0,onChange:e.onImageDropHandler,imgExtension:[".jpg",".png",".jpeg"],maxFileSize:5242880}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("svg",{style:{cursor:"pointer",position:"absolute",right:"1.3rem",top:"1.3rem",margin:"0",height:"2rem",display:""===e.uploadedImage||e.loadingUploadButton?"none":"block"},onClick:e.clearImage,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[Object(u.jsx)("circle",{cx:"50%",cy:"50%",r:"50%",fill:"#ffffff"}),Object(u.jsx)("path",{fill:"#c90c61",d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM11.4 10l2.83-2.83-1.41-1.41L10 8.59 7.17 5.76 5.76 7.17 8.59 10l-2.83 2.83 1.41 1.41L10 11.41l2.83 2.83 1.41-1.41L11.41 10z"})]}),Object(u.jsxs)("p",{className:"small-centered-paragraph",style:{marginTop:"1rem"},children:[a("ImageUploadPopup:file-size"),Object(u.jsx)("br",{}),a("ImageUploadPopup:supported-formats")]})]}),Object(u.jsx)(m.a,{onClick:e.handleSendEvent,disabled:(""===e.uploadedImage||e.loadingUploadButton)&&!0,loading:e.loadingUploadButton,children:a("ImageUploadPopup:cta-send")})]}):Object(u.jsx)(j,{})},rs=a(232),ns=a.n(rs),is=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(T.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={newMessage:"",chatLogs:[],messagesHistory:[],errorDisplay:!1,errors:"",scrollYPosition:0,loading:!0,footerHeight:"38px",imageUploadPopupOpen:!1,imageUploadButton:!0,uploadedImage:"",loadingUploadButton:!1,secondaryStickyStyle:{boxShadow:"none",borderBottom:"1px solid rgba(34,36,38,.15)"}},e.scrollDown=function(){"undefined"!==typeof e.bottom&&e.bottom.scrollIntoView({behavior:"smooth"}),e.setState({imageUploadPopupOpen:!1,loadingUploadButton:!1})},e.handleScroll=function(t){var a=t.target.scrollTop>0?{boxShadow:"0 0 20px -5px rgba(0,0,0,.2)",borderBottom:"none"}:{boxShadow:"none",borderBottom:"1px solid rgba(34,36,38,.15)"};e.setState({secondaryStickyStyle:a})},e.listenEnterKeyMessage=function(t){"Enter"===t.key&&e.handleSendEvent(t)},e.onChangeHandler=function(t){var a;e.setState((a={},Object(ee.a)(a,t.target.id,t.target.value),Object(ee.a)(a,"errorDisplay",!1),Object(ee.a)(a,"errors",""),a))},e.clearImage=function(){e.setState({imageUploadButton:!0,uploadedImage:""})},e.deleteConversation=function(){var t=e.props.t,a=de();if(e.setState({loading:!0}),!1===window.navigator.onLine)e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(window.confirm(t("SingleConversation:del-conversation"))){var s="/api/v1/conversations/".concat(e.props.location.state.id),r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},n={hidden:e.props.id,locale:a};E.a.patch(s,n,{headers:r}).then((function(){window.location.replace("/messenger")})).catch((function(a){void 0===a.response?q("/is-not-available?atm"):500===a.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===a.response.status?q("/is-not-available?atm"):401===a.response.status?(window.alert(t("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:a.response.data.error})}))}else e.setState({loading:!1})},e.onImageDropHandler=function(){var t=Object(c.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>0)){t.next=10;break}return t.t0=e,t.next=4,ns()(a[0],750);case 4:t.t1=t.sent,t.t2=[t.t1],t.t3={imageUploadButton:!1,uploadedImage:t.t2},t.t0.setState.call(t.t0,t.t3),t.next=11;break;case 10:e.clearImage();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(L.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t;if(!1===window.navigator.onLine)this.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:window-navigator"]});else if(null===window.history.state)window.location.replace("/messenger");else{var a=de(),s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")},r="/api/v1/conversations/".concat(this.props.location.state.id,"?locale=").concat(a);E.a.get(r,{headers:s}).then((function(t){var a=t.data.message.sort((function(e,t){return new Date(e.created_at)-new Date(t.created_at)}));e.setState({messagesHistory:a,loading:!1,errorDisplay:!1,errors:""}),"undefined"!==typeof e.bottom&&e.bottom.scrollIntoView({behavior:"smooth"})})).catch((function(a){void 0===a.response?q("/is-not-available?atm"):500===a.response.status?e.setState({loading:!1,errorDisplay:!0,errors:["reusable:errors:500"]}):503===a.response.status?q("/is-not-available?atm"):401===a.response.status?(window.alert(t("reusable:errors:401")),q("/")):e.setState({loading:!1,errorDisplay:!0,errors:a.response.data.error})}))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleError",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({errors:t,errorDisplay:!0});case 2:"undefined"!==typeof this.bottom&&this.bottom.scrollIntoView({behavior:"smooth"});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSendEvent",value:function(e){var t=this;e.preventDefault();var a=this.props.t;if(!1===window.navigator.onLine)this.setState({imageUploadPopupOpen:!1}),this.handleError(["reusable:errors:window-navigator"]);else{var s={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.get("/api/v1/auth/validate_token",{headers:s}).then((function(){""!==t.state.uploadedImage?(t.chats.create(t.state.newMessage,t.state.uploadedImage,t.props.location.state.id,t.props.id),t.setState({newMessage:"",loadingUploadButton:!0})):t.state.newMessage.length<1||t.state.newMessage.length>1e3?t.handleError(["SingleConversation:message-body-error"]):(t.chats.create(t.state.newMessage,t.state.uploadedImage,t.props.location.state.id,t.props.id),t.setState({newMessage:""}))})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?t.handleError(["reusable:errors:500"]):503===e.response.status?q("/is-not-available?atm"):401===e.response.status?(window.alert(a("reusable:errors:401")),q("/")):t.handleError(e.response.data.error)}))}}},{key:"createSocket",value:function(){var e=this,t=window.localStorage.getItem("uid"),a=window.localStorage.getItem("client"),s=window.localStorage.getItem("access-token"),r=de(),n=$a.a.createConsumer("".concat("https://yet-another-url.herokuapp.com","/api/v1/cable/conversation/").concat(this.props.location.state.id,"?token=").concat(s,"&uid=").concat(t,"&client=").concat(a,"&locale=").concat(r));this.chats=n.subscriptions.create({channel:"ConversationsChannel",conversations_id:this.props.location.state.id},{connected:function(){},received:function(t){var a=e.state.chatLogs;a.push(t.message),e.setState({chatLogs:a}),"undefined"!==typeof e.bottom&&e.bottom.scrollIntoView({behavior:"smooth"})},create:function(e,t,a,s){this.perform("send_message",{body:e,image:t,user_id:s,conversation_id:a})}})}},{key:"componentWillMount",value:function(){null===window.history.state?window.location.replace("/messenger"):this.createSocket()}},{key:"render",value:function(){var e=this,t=this.props.t,a=1e3-this.state.newMessage.length;return this.state.loading?Object(u.jsx)(j,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Re.a,{modal:!0,open:this.state.imageUploadPopupOpen,closeOnDocumentClick:!this.state.loadingUploadButton,onClose:function(){e.setState({imageUploadPopupOpen:!1,uploadedImage:"",imageUploadButton:!0})},position:"top center",children:Object(u.jsx)("div",{children:Object(u.jsx)(ss,{onImageDropHandler:this.onImageDropHandler.bind(this),imageUploadButton:this.state.imageUploadButton,handleSendEvent:this.handleSendEvent.bind(this),uploadedImage:this.state.uploadedImage,loadingUploadButton:this.state.loadingUploadButton,clearImage:this.clearImage})})}),Object(u.jsx)("div",{id:"secondary-sticky",style:Object(d.a)({height:"80px",display:"flex",flexDirection:"column",justifyContent:"center"},this.state.secondaryStickyStyle),children:Object(u.jsxs)("div",{className:"max-width-wrapper",style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(g.a,{name:"arrow left",size:"large",style:{color:"#c90c61",cursor:"pointer"},onClick:function(){e.props.history.push("/messenger")}}),Object(u.jsxs)("div",{style:{display:"flex",margin:"auto",cursor:null!==this.props.location.state.user.id&&"pointer"},onClick:function(){null!==e.props.location.state.user.id&&e.props.history.push({pathname:"/host-profile",state:{userId:e.props.location.state.user.id,avatar:e.props.location.state.user.profile_avatar,nickname:e.props.location.state.user.nickname,location:e.props.location.state.user.location,errors:"",noMessage:!0}})},children:[Object(u.jsx)(F.a,{src:null===this.props.location.state.user.profile_avatar?"https://ui-avatars.com/api/?name=".concat("Deleted user"===this.props.location.state.user.nickname?"[x]":this.props.location.state.user.nickname,"&size=150&length=3&font-size=0.3&rounded=true&background=d8d8d8&color=c90c61&uppercase=false"):this.props.location.state.user.profile_avatar,size:"mini",style:{borderRadius:"50%",height:"2rem",width:"2rem",marginTop:"0",marginRight:"1rem"}}),Object(u.jsx)(x.a,{as:"h2",style:{marginTop:"0"},children:this.props.location.state.user.nickname})]}),Object(u.jsx)(g.a,{id:"delete-conversation",name:"trash alternate outline",size:"large",style:{color:"#c90c61",cursor:"pointer"},onClick:this.deleteConversation})]})}),Object(u.jsxs)("div",{className:"messenger-wrapper single-conversation",style:{overflow:"scroll",marginBottom:38===parseInt(this.state.footerHeight)?"80px":"".concat(30+parseInt(this.state.footerHeight),"px"),height:"calc(var(--vh, 1vh) * 100 - var(--nav) - ".concat(38===parseInt(this.state.footerHeight)?"80px":"".concat(30+parseInt(this.state.footerHeight),"px"),")")},onScroll:this.handleScroll,children:[Object(u.jsxs)("div",{className:"single-conversation-wrapper",style:{paddingTop:"80px"},children:[Object(u.jsx)("div",{style:{height:"1rem"}}),this.state.messagesHistory.length<1&&this.state.chatLogs.length<1&&!1===this.state.errorDisplay&&Object(u.jsx)("p",{style:{textAlign:"center",fontStyle:"italic"},children:t("SingleConversation:no-messages-yet")}),this.state.messagesHistory.length>0&&this.state.messagesHistory.map((function(t){return Object(u.jsx)("div",{children:Object(u.jsx)(Qa,{currentUsername:e.props.username,currentAvatar:e.props.avatar,otherAvatar:e.props.location.state.user.profile_avatar,message:t,scrollDown:e.scrollDown.bind(e)})},t.id)})),this.state.chatLogs.length>0&&this.state.chatLogs.map((function(t){return Object(u.jsx)("div",{children:Object(u.jsx)(Qa,{currentUsername:e.props.username,currentAvatar:e.props.avatar,otherAvatar:e.props.location.state.user.profile_avatar,message:t,scrollDown:e.scrollDown.bind(e)})},t.id)})),this.state.errorDisplay&&Object(u.jsxs)(ae.a,{negative:!0,style:{width:"inherit"},children:[Object(u.jsx)(ae.a.Header,{style:{textAlign:"center"},children:t("SingleConversation:error-message-header")}),Object(u.jsx)("ul",{id:"message-error-list",children:this.state.errors.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})]})]}),Object(u.jsx)("div",{ref:function(t){e.bottom=t},style:{height:"1px"}})]}),Object(u.jsx)("div",{style:{minHeight:"80px",width:"100%",position:"fixed",bottom:"0",background:"white",zIndex:"100",boxShadow:"0 0 20px -5px rgba(0,0,0,.2)",paddingTop:"1rem"},children:Object(u.jsxs)("div",{className:"single-conversation-wrapper",children:[Object(u.jsxs)("div",{style:{display:"inline-flex",width:"100%"},children:[Object(u.jsx)(g.a,{id:"upload-image",name:"photo",size:"big",style:{display:(null===this.props.location.state.user.id||this.state.newMessage.length>0)&&"none",cursor:"pointer",color:"#d8d8d8",fontSize:"2.5em",marginRight:"0.5rem",alignSelf:"flex-end"},onClick:function(){e.setState({imageUploadPopupOpen:!0})}}),Object(u.jsxs)("div",{style:{width:"100%",alignSelf:"flex-end",minHeight:"2.5em",position:"relative",bottom:"0px",display:"flex",flexDirection:"column-reverse",height:this.state.footerHeight},children:[Object(u.jsx)(es.a,{minRows:1,maxRows:6,className:"expanding-textarea disable-scrollbars",placeholder:t("SingleConversation:textarea-plch"),id:"newMessage",value:this.state.newMessage,onChange:this.onChangeHandler,onKeyPress:this.listenEnterKeyMessage,onHeightChange:function(t){return e.setState({footerHeight:"".concat(t,"px")})},disabled:null===this.props.location.state.user.id&&!0,style:{paddingRight:"40px"}}),Object(u.jsx)("div",{style:{display:""===this.state.newMessage?"none":"block",zIndex:"4000",alignSelf:"flex-end",marginBottom:"0.6rem",marginRight:"0.5rem",background:"white",paddingLeft:"0.5rem",paddingTop:"0.4rem"},children:Object(u.jsx)(g.a,{id:"send",name:"arrow alternate circle up",link:!0,size:"large",onClick:function(t){return e.handleSendEvent(t)},style:{color:"#c90c61"}})})]})]}),Object(u.jsxs)("p",{style:{textAlign:"end",fontSize:"smaller",fontStyle:"italic",visibility:a<100?"visible":"hidden"},children:[t("reusable:remaining-chars")," ",a]})]})})]})}}]),a}(s.Component),os=Object(Q.a)("SingleConversation")(Object(A.b)((function(e){return{username:e.reduxTokenAuth.currentUser.attributes.username,id:e.reduxTokenAuth.currentUser.attributes.id,avatar:e.reduxTokenAuth.currentUser.attributes.avatar}}))(yt(is))),cs=function(e){var t=Object(p.a)("HostProfileViewWrapper").t,a=Object(s.useState)([]),r=Object(l.a)(a,2),n=r[0],i=r[1],o=Object(s.useState)(null),c=Object(l.a)(o,2),d=c[0],h=c[1],b=Object(s.useState)(null),m=Object(l.a)(b,2),g=m[0],x=m[1],O=Object(s.useState)(!0),v=Object(l.a)(O,2),f=v[0],y=v[1],w=Object(s.useState)(!1),k=Object(l.a)(w,2),S=k[0],C=k[1],D=Object(s.useState)([]),I=Object(l.a)(D,2),N=I[0],M=I[1];Object(s.useEffect)((function(){void 0===e.location.state||"POP"===e.history.action?window.location.replace("/"):_()}),[]);var _=function(){if(!1===window.navigator.onLine)y(!1),C(!0),M(["reusable:errors:window-navigator"]);else{var t=de();E.a.get("/api/v1/host_profiles?user_id=".concat(e.location.state.userId,"&locale=").concat(t)).then((function(e){e.data.length>0?(i(e.data[0]),h(e.data[0].lat),x(e.data[0].long),y(!1),C(!1),M([])):(y(!1),C(!1),M([]))})).catch((function(e){void 0===e.response?q("/is-not-available?atm"):500===e.response.status?(y(!1),C(!0),M(["reusable:errors:500"])):503===e.response.status?q("/is-not-available?atm"):(y(!1),C(!0),M([e.response.data.error]))}))}};return f?Object(u.jsx)(j,{}):S?Object(u.jsx)("div",{className:"content-wrapper",children:Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:N.map((function(e){return Object(u.jsx)("li",{children:t(e)},e)}))})})}):null!==d&&null!==g?Object(u.jsx)("div",{style:{height:"100%"},children:Object(u.jsx)(Ue,{numberOfCats:0,hostId:e.location.state.userId,avatar:e.location.state.avatar,nickname:e.location.state.nickname,location:e.location.state.location,rate:parseFloat(n.price_per_day_1_cat),supplement:parseFloat(n.supplement_price_per_cat_per_day),description:n.description,lat:d,long:g,noMessage:e.location.state.noMessage,score:n.score,hostProfileId:n.id})}):Object(u.jsx)("div",{className:"content-wrapper",children:Object(u.jsx)("p",{style:{textAlign:"center",fontStyle:"italic"},children:t("HostProfileViewWrapper:no-profile")})})},ls=function(e){var t=Object(p.a)("Error503"),a=t.t,r=t.ready;return Object(s.useEffect)((function(){"?atm"!==e.location.search&&q("/")}),[]),r?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("Error503:title")}),Object(u.jsx)(U.a,{className:"whitebox",style:{textAlign:"center"},children:Object(u.jsx)("p",{children:a("Error503:desc")})})]}):Object(u.jsx)(j,{})},ds=function(){var e=Object(p.a)("Partners"),t=e.t;return e.ready?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:t("reusable:title.partners")}),Object(u.jsx)("p",{style:{textAlign:"center"},children:t("Partners:p1")}),Object(u.jsx)("div",{style:{maxWidth:"200px",margin:"auto"},children:Object(u.jsx)("a",{href:"https://craftacademy.se/",target:"_blank",rel:"noopener noreferrer",children:Object(u.jsx)(F.a,{src:"craftacademylogo.png",style:{maxWidth:"200px",margin:"auto",cursor:"pointer"}})})})]}):Object(u.jsx)(j,{})},us=Object(A.b)((function(e){return{currentUserIn:e.reduxTokenAuth.currentUser.isSignedIn}}))((function(e){var t=Object(s.useRef)(null),a=Object(s.useState)(0),r=Object(l.a)(a,2),n=r[0],i=r[1],o=Object(s.useState)("3rem"),c=Object(l.a)(o,2),d=c[0],h=c[1],j=Object(s.useState)("1"),p=Object(l.a)(j,2),b=p[0],g=p[1];Object(s.useEffect)((function(){window.localStorage.setItem("I18N_LANGUAGE","en"),t.current.load(),t.current.play()}),[]);return Object(u.jsxs)("div",{className:"device-height",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"Become a cat sitter on KattBNB!"}),Object(u.jsx)("meta",{name:"description",content:"Getting paid for chilling with cats. Sounds like a dream? Sign up today at KattBNB."}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/become-host"}),Object(u.jsx)("meta",{property:"og:title",content:"Become a cat sitter on KattBNB!"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/become-host"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"Getting paid for looking after cats. Sounds like a dream? Sign up today at KattBNB."}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/bli_kattvakt_og.png"})]}),Object(u.jsxs)("div",{className:"onboarding-video-wrapper",children:[Object(u.jsx)("video",{width:"100%",ref:t,muted:"muted",playsinline:"playsinline","webkit-playsinline":!0,autoplay:!0,onEnded:function(){return i(1),h("0"),void g("0")},style:{maxWidth:"500px"},children:Object(u.jsx)("source",{src:"host_480.mp4",type:"video/mp4"})}),Object(u.jsx)(O.b,{to:e.currentUserIn?"/user-page":"/sign-up",children:Object(u.jsx)(m.a,{style:{position:"absolute",marginLeft:"-44px",bottom:"30%",marginTop:"0",left:"50%",opacity:n},children:e.currentUserIn?"My profile":"Sign up"})})]}),Object(u.jsx)(O.b,{to:e.currentUserIn?"/user-page":"/sign-up",style:{margin:"auto",position:"absolute",opacity:b,bottom:d,left:"0",width:"100vw",transition:"all .35s ease-in-out"},children:Object(u.jsx)("p",{style:{textTransform:"uppercase",color:"silver",textAlign:"center"},children:"Skip this"})})]})})),hs=Object(A.b)((function(e){return{currentUserIn:e.reduxTokenAuth.currentUser.isSignedIn}}))((function(e){var t=Object(s.useRef)(null),a=Object(s.useState)(0),r=Object(l.a)(a,2),n=r[0],i=r[1],o=Object(s.useState)("3rem"),c=Object(l.a)(o,2),d=c[0],h=c[1],j=Object(s.useState)("1"),p=Object(l.a)(j,2),b=p[0],g=p[1];Object(s.useEffect)((function(){t.current.load(),t.current.play()}),[]);return Object(u.jsxs)("div",{className:"device-height",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)("title",{children:"Bli kattvakt p\xe5 KattBNB!"}),Object(u.jsx)("meta",{name:"description",content:"F\xe5 betalt f\xf6r att gosa med katter. L\xe5ter det som en dr\xf6m? Registrera dig idag p\xe5 KattBNB."}),Object(u.jsx)("link",{rel:"canonical",href:"https://kattbnb.se/bli-kattvakt"}),Object(u.jsx)("meta",{property:"og:title",content:"Bli kattvakt p\xe5 KattBNB!"}),Object(u.jsx)("meta",{property:"og:url",content:"https://kattbnb.se/bli-kattvakt"}),Object(u.jsx)("meta",{property:"og:type",content:"website"}),Object(u.jsx)("meta",{property:"og:description",content:"F\xe5 betalt f\xf6r att gosa med katter. L\xe5ter det som en dr\xf6m? Registrera dig idag p\xe5 KattBNB."}),Object(u.jsx)("meta",{property:"og:image",content:"https://kattbnb.se/bli_kattvakt_og.png"})]}),Object(u.jsxs)("div",{className:"onboarding-video-wrapper",children:[Object(u.jsx)("video",{width:"100%",ref:t,muted:"muted",playsinline:"playsinline","webkit-playsinline":!0,autoplay:!0,onEnded:function(){return i(1),h("0"),void g("0")},children:Object(u.jsx)("source",{src:"kattvakt_480.mp4",type:"video/mp4"})}),Object(u.jsx)(O.b,{to:e.currentUserIn?"/user-page":"/sign-up",children:Object(u.jsx)(m.a,{style:{position:"absolute",marginLeft:"-73px",bottom:"30%",marginTop:"0",left:"50%",opacity:n},children:e.currentUserIn?"Min profil":"Registrera konto"})})]}),Object(u.jsx)(O.b,{to:e.currentUserIn?"/user-page":"/sign-up",style:{margin:"auto",position:"absolute",opacity:b,bottom:d,left:"0",width:"100vw",transition:"all .35s ease-in-out"},children:Object(u.jsx)("p",{style:{textTransform:"uppercase",color:"silver",textAlign:"center"},children:"Hoppa \xf6ver"})})]})})),js=yt((function(e){var t=Object(p.a)("LeaveReview"),a=t.t,r=t.ready,n=Object(s.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],d=Object(s.useState)([]),h=Object(l.a)(d,2),g=h[0],O=h[1],v=Object(s.useState)(!1),f=Object(l.a)(v,2),y=f[0],w=f[1],k=Object(s.useState)(""),S=Object(l.a)(k,2),C=S[0],D=S[1],I=Object(s.useState)(0),N=Object(l.a)(I,2),M=N[0],_=N[1],H=Object(s.useState)(null),B=Object(l.a)(H,2),F=B[0],A=B[1],z=Object(s.useState)(null),T=Object(l.a)(z,2),L=T[0],P=T[1],Y=Object(s.useState)(null),V=Object(l.a)(Y,2),R=V[0],K=V[1],G=Object(s.useState)(null),W=Object(l.a)(G,2),Z=W[0],J=W[1],Q=Object(s.useState)(null),X=Object(l.a)(Q,2),$=X[0],ee=X[1],te=Object(s.useState)(null),re=Object(l.a)(te,2),ne=re[0],ie=re[1];Object(s.useEffect)((function(){window.onpopstate=function(t){e.history.push("/all-bookings")},e.location.state?(A(e.location.state.hostNickname),P(e.location.state.userId),K(e.location.state.bookingId),J(e.location.state.hostProfileId),ee(e.location.state.startDate),ie(e.location.state.endDate)):(A(We.a.parse(e.location.search).hostNickname),P(We.a.parse(e.location.search).userId),K(We.a.parse(e.location.search).bookingId),J(We.a.parse(e.location.search).hostProfileId),ee(We.a.parse(e.location.search).startDate),ie(We.a.parse(e.location.search).endDate))}),[]);return r?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:a("LeaveReview:title")}),Object(u.jsxs)(U.a,{className:"whitebox",children:[Object(u.jsx)("p",{className:"small-centered-paragraph",style:{marginBottom:"2rem"},children:Object(u.jsxs)(b.a,{i18nKey:"LeaveReview:desc",children:["Your cat(s) stayed with ",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{host:F}})," during the dates of ",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{startDate:$}})," until",Object(u.jsx)("strong",{style:{color:"#c90c61"},children:{endDate:ne}}),". Help us to improve KattBNB community by reviewing your experience."]})}),Object(u.jsx)(se.a,{children:Object(u.jsxs)("div",{className:"required field",children:[Object(u.jsx)("label",{children:a("LeaveReview:label")}),Object(u.jsx)(ge,{setScore:function(e){return function(e){_(parseInt(e.currentTarget.id))}(e)},score:M,clickable:!0,displayNumerical:!0}),Object(u.jsx)(se.a.TextArea,{placeholder:a("LeaveReview:placeholder"),required:!0,id:"review-body",value:C,onChange:function(e){return D(e.target.value)}})]})}),Object(u.jsxs)("p",{style:{textAlign:"end",fontSize:"smaller",fontStyle:"italic"},children:[a("reusable:remaining-chars")," ",1e3-C.length]}),y&&Object(u.jsx)(ae.a,{negative:!0,children:Object(u.jsx)("ul",{id:"message-error-list",children:g.map((function(e){return Object(u.jsx)("li",{children:a(e)},e)}))})}),Object(u.jsx)(m.a,{onClick:function(){return function(){var t=de();if(c(!0),!1===window.navigator.onLine)c(!1),O(["reusable:errors:window-navigator"]),w(!0);else if(M<1)c(!1),O(["LeaveReview:error-no-score"]),w(!0);else if(""===C)c(!1),O(["LeaveReview:error-empty"]),w(!0);else if(C.length>1e3)c(!1),O(["LeaveReview:error-length"]),w(!0);else{var s={score:M,body:C,host_nickname:F,user_id:L,booking_id:R,host_profile_id:Z,locale:t},r={uid:window.localStorage.getItem("uid"),client:window.localStorage.getItem("client"),"access-token":window.localStorage.getItem("access-token")};E.a.post("/api/v1/reviews",s,{headers:r}).then((function(){e.history.push("/successful-review")})).catch((function(t){void 0===t.response?q("/is-not-available?atm"):500===t.response.status?(c(!1),w(!0),O(["reusable:errors:500"])):422===t.response.status?(window.alert(a("LeaveReview:error-no-host")),e.history.push("/all-bookings")):503===t.response.status?q("/is-not-available?atm"):401===t.response.status?(window.alert(a("reusable:errors:401")),q("/")):(c(!1),w(!0),O([t.response.data.error]))}))}}()},className:"submit-button",loading:o,disabled:o,children:a("LeaveReview:cta")})]})]}):Object(u.jsx)(j,{})})),ps=function(){var e=Object(p.a)("SuccessfulReview"),t=e.t;return e.ready?Object(u.jsxs)("div",{className:"content-wrapper",children:[Object(u.jsx)(x.a,{as:"h1",children:t("SuccessfulReview:title")}),Object(u.jsxs)(U.a,{className:"whitebox",style:{textAlign:"center"},children:[Object(u.jsx)("p",{children:t("SuccessfulReview:text")}),Object(u.jsx)(O.b,{to:"all-bookings",id:"back-to-bookings",className:"fake-link-underlined-reg",children:t("SuccessfulReview:bookings-cta")})]})]}):Object(u.jsx)(j,{})},bs=function(e){return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 360",width:e.width,className:e.class,children:[Object(u.jsx)("path",{fill:"#C90B61",d:"M150,262.33L150,262.33c-72.44,0-131.16-58.72-131.16-131.16v0C18.84,58.72,77.56,0,150,0h0 c72.44,0,131.16,58.72,131.16,131.16v0C281.16,203.6,222.44,262.33,150,262.33z"}),Object(u.jsx)("path",{fill:"#ffffff",d:"M110.57,87.58l-31.03,24.54c-1.24,0.98-3.06,0.1-3.06-1.48V74.07c0-3.1,3.07-5.27,5.98-4.23l27.82,14.58 C111.48,85.06,111.64,86.73,110.57,87.58z"}),Object(u.jsx)("path",{fill:"#ffffff",d:"M223.52,74.07v36.59c0,1.58-1.82,2.46-3.06,1.48L189.4,87.6c-1.07-0.85-0.92-2.52,0.29-3.15l27.82-14.61 C220.45,68.8,223.52,70.97,223.52,74.07z"}),Object(u.jsx)("path",{fill:"#ffffff",d:"M223.51,142.31v44.58c0,3.24-2.62,5.86-5.86,5.86h-30.81v-34.98c0-1.61-1.3-2.91-2.91-2.91h-31.13 c-1.61,0-2.91,1.3-2.91,2.91v34.98H82.33c-3.24,0-5.86-2.63-5.86-5.86v-44.58c0-1.77,0.03-3.73,2.22-5.91l67.67-53.47 c1.06-0.86,2.32-1.27,3.63-1.27c1.27,0,2.52,0.4,3.59,1.27l67.66,53.47C223.49,138.65,223.51,140.54,223.51,142.31z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M0,303.19h11.41v22.88l21.45-22.88h14.99l-22.79,22.84l23.96,32.69H34.11L17,334.48l-5.59,5.67v18.57H0V303.19 z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M69.31,333.74c2-0.25,3.43-0.57,4.29-0.94c1.54-0.65,2.31-1.67,2.31-3.05c0-1.68-0.59-2.84-1.78-3.48 c-1.18-0.64-2.92-0.96-5.21-0.96c-2.57,0-4.39,0.63-5.46,1.88c-0.76,0.93-1.27,2.18-1.53,3.77H51.58c0.23-3.59,1.24-6.54,3.03-8.85 c2.85-3.62,7.74-5.42,14.68-5.42c4.51,0,8.52,0.89,12.03,2.67c3.51,1.78,5.26,5.15,5.26,10.1v18.84c0,1.31,0.02,2.89,0.08,4.75 c0.08,1.41,0.29,2.36,0.64,2.86c0.35,0.5,0.88,0.92,1.58,1.24v1.58H77.2c-0.33-0.83-0.55-1.61-0.68-2.34 c-0.13-0.73-0.23-1.56-0.3-2.49c-1.49,1.61-3.21,2.98-5.15,4.11c-2.32,1.33-4.95,2-7.88,2c-3.74,0-6.83-1.06-9.26-3.18 c-2.44-2.12-3.66-5.13-3.66-9.02c0-5.05,1.96-8.7,5.88-10.96c2.15-1.23,5.31-2.11,9.49-2.64L69.31,333.74z M75.88,338.75 c-0.69,0.43-1.38,0.77-2.08,1.04c-0.7,0.26-1.66,0.51-2.88,0.73l-2.44,0.45c-2.29,0.4-3.94,0.89-4.94,1.47 c-1.69,0.98-2.54,2.5-2.54,4.56c0,1.83,0.52,3.16,1.55,3.97c1.03,0.82,2.29,1.22,3.77,1.22c2.35,0,4.51-0.68,6.48-2.03 c1.98-1.36,3-3.83,3.08-7.42V338.75z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M90.36,325.68v-7.65h5.73v-11.45h10.62v11.45h6.67v7.65h-6.67v21.7c0,1.68,0.21,2.73,0.64,3.15 c0.43,0.41,1.73,0.62,3.92,0.62c0.33,0,0.67-0.01,1.04-0.02c0.36-0.01,0.72-0.03,1.07-0.06v8.02l-5.09,0.19 c-5.07,0.18-8.54-0.7-10.4-2.64c-1.21-1.23-1.81-3.13-1.81-5.69v-25.28H90.36z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M116.12,325.68v-7.65h5.73v-11.45h10.62v11.45h6.67v7.65h-6.67v21.7c0,1.68,0.21,2.73,0.64,3.15 c0.43,0.41,1.73,0.62,3.92,0.62c0.33,0,0.67-0.01,1.04-0.02c0.36-0.01,0.72-0.03,1.07-0.06v8.02l-5.09,0.19 c-5.07,0.18-8.54-0.7-10.4-2.64c-1.21-1.23-1.81-3.13-1.81-5.69v-25.28H116.12z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M187.08,309.1c1.7,2.36,2.55,5.19,2.55,8.48c0,3.39-0.86,6.12-2.57,8.17c-0.96,1.16-2.37,2.21-4.24,3.16 c2.83,1.03,4.97,2.66,6.41,4.9c1.44,2.24,2.16,4.95,2.16,8.14c0,3.29-0.82,6.24-2.47,8.85c-1.05,1.73-2.36,3.19-3.93,4.37 c-1.77,1.36-3.86,2.29-6.27,2.79c-2.41,0.5-5.02,0.75-7.85,0.75h-25.02v-55.53h26.83C179.46,303.29,184.26,305.26,187.08,309.1z M156.93,312.83v12.24h13.5c2.41,0,4.37-0.46,5.87-1.38c1.5-0.92,2.26-2.54,2.26-4.88c0-2.59-0.99-4.29-2.98-5.12 c-1.72-0.58-3.9-0.87-6.56-0.87H156.93z M156.93,334.27v14.81h13.48c2.41,0,4.28-0.33,5.62-0.98c2.43-1.21,3.65-3.52,3.65-6.93 c0-2.89-1.18-4.87-3.54-5.95c-1.32-0.6-3.17-0.92-5.55-0.94H156.93z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M199.5,303.19h12.16l22.04,38.72v-38.72h10.81v55.53h-11.6l-22.61-39.4v39.4H199.5V303.19z"}),Object(u.jsx)("path",{fill:"#C90B61",d:"M295.68,309.1c1.7,2.36,2.55,5.19,2.55,8.48c0,3.39-0.86,6.12-2.57,8.17c-0.96,1.16-2.37,2.21-4.24,3.16 c2.83,1.03,4.97,2.66,6.41,4.9c1.44,2.24,2.16,4.95,2.16,8.14c0,3.29-0.82,6.24-2.47,8.85c-1.05,1.73-2.36,3.19-3.93,4.37 c-1.77,1.36-3.86,2.29-6.27,2.79c-2.41,0.5-5.02,0.75-7.85,0.75h-25.02v-55.53h26.83C288.06,303.29,292.86,305.26,295.68,309.1z M265.53,312.83v12.24h13.5c2.41,0,4.37-0.46,5.87-1.38c1.5-0.92,2.26-2.54,2.26-4.88c0-2.59-0.99-4.29-2.98-5.12 c-1.72-0.58-3.9-0.87-6.56-0.87H265.53z M265.53,334.27v14.81h13.48c2.41,0,4.28-0.33,5.62-0.98c2.43-1.21,3.65-3.52,3.65-6.93 c0-2.89-1.18-4.87-3.54-5.95c-1.32-0.6-3.17-0.92-5.55-0.94H265.53z"})]})},ms=yt((function(e){var t=e.history,a=Object(p.a)("Receipt"),r=a.t,n=a.ready;if(Object(s.useEffect)((function(){void 0!==t.location.state&&"POP"!==t.action||t.push({pathname:"/all-bookings"})}),[]),n){var i=t.location.state,o=i.createdAt,c=i.numberOfCats,l=i.bookingId,d=i.nickname,h=i.startDate,m=i.endDate,g=i.priceTotal,O=ye(g)-xe(g)-xe(.17*g);return Object(u.jsx)("div",{className:"content-wrapper",style:{display:"flex",flexDirection:"column"},children:Object(u.jsxs)(U.a,{className:"whitebox",style:{marginTop:"0"},children:[Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:Object(u.jsx)(bs,{width:"75px"})}),Object(u.jsxs)("p",{children:["KattBNB AB",Object(u.jsx)("br",{}),"Reg. nr. 559252-4481",Object(u.jsx)("br",{}),r("Receipt:issued",{date:o})]}),Object(u.jsx)(x.a,{as:"h2",style:{margin:"3rem auto 2rem"},children:r("Receipt:header",{nr:l})}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[Object(u.jsx)("p",{style:{width:"75%"},children:Object(u.jsxs)(b.a,{i18nKey:"Receipt:info",count:parseInt(c),children:["A stay for ",Object(u.jsxs)("strong",{children:[{count:c}," cat"]})," with ",Object(u.jsx)("strong",{children:{host:d}}),"between ",Object(u.jsx)("strong",{style:{whiteSpace:"nowrap"},children:{checkin:h}})," until",Object(u.jsx)("strong",{style:{whiteSpace:"nowrap"},children:{checkout:m}}),":"]})}),Object(u.jsxs)("p",{style:{marginBottom:"1em"},children:[xe(g)," kr"]})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(u.jsx)("p",{style:{width:"75%"},children:r("Receipt:service-fee")}),Object(u.jsxs)("p",{children:[xe(.17*g)," kr"]})]}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(u.jsx)("p",{style:{width:"75%"},children:r("Receipt:vat")}),Object(u.jsxs)("p",{children:[xe(O)," kr"]})]}),Object(u.jsx)(Ae.a,{}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(u.jsx)("p",{style:{width:"75%"},children:Object(u.jsx)("strong",{style:{color:"#c90c61"},children:r("Receipt:total")})}),Object(u.jsx)("p",{children:Object(u.jsxs)("strong",{style:{color:"#c90c61"},children:[ye(g)," kr"]})})]})]})})}return Object(u.jsx)(j,{})})),gs=function(){var e=Object(p.a)().t;return Object(u.jsxs)("div",{className:"content-wrapper",style:{maxWidth:"1024px",margin:"auto"},children:[Object(u.jsx)(x.a,{as:"h1",style:{marginBottom:"2rem"},children:e("reusable:title.area")}),Object(u.jsx)("div",{className:"flex-grid",children:ne.map((function(e){return Object(u.jsx)("p",{children:Object(u.jsx)(O.b,{className:"discreet-link",to:"/search-results?location=".concat(e.text),style:{whiteSpace:"nowrap"},children:e.text})},e.text)}))})]})},xs=a(61),Os=a(62),vs=Os.b.div(Pt||(Pt=Object(xs.a)(["\n  &&& {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 4rem;\n\n    @media (min-width: 640px) {\n      flex-direction: row;\n      margin-bottom: 3rem;\n      align-items: center;\n    }\n  }\n"]))),fs=Os.b.img(Yt||(Yt=Object(xs.a)(["\n  &&& {\n    width: 100%;\n    margin-bottom: 1rem;\n\n    @media (min-width: 640px) {\n      width: 200px;\n      height: 200px;\n      margin: 0 2rem 0 0;\n    }\n  }\n"]))),ys=Os.b.img(Vt||(Vt=Object(xs.a)(["\n  &&& {\n    width: 100%;\n    max-height: 300px;\n    object-fit: cover;\n    @media (min-width: 640px) {\n      max-height: 400px;\n    }\n    margin-bottom: 2rem;\n  }\n"]))),ws=(Os.b.hr(Ut||(Ut=Object(xs.a)(["\n  &&& {\n    width: 100%;\n    border: solid 0.25pt silver;\n    width: 100%;\n    margin: 3rem auto;\n  }\n"]))),Os.b.img(Rt||(Rt=Object(xs.a)(["\n  &&& {\n    width: 30px;\n    height: 30px;\n    border-radius: 9999px;\n    margin-right: 0.5rem;\n  }\n"])))),ks=Os.b.div(qt||(qt=Object(xs.a)(["\n  &&& {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 0.5rem auto 4rem;\n    & > p {\n      margin: 0;\n    }\n  }\n"]))),Ss=Os.b.div(Kt||(Kt=Object(xs.a)(["\n  &&& {\n    @media (max-width: 768px) {\n    padding-left: 2rem;\n    padding-right: 2rem;\n    }\n    margin: 0 auto;\n    padding-top: 5vw;\n    padding-bottom: 10vw;\n    max-width: 768px;\n  }\n"]))),Cs=function(){var e=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=tt.a.client("https://kattbnb.prismic.io/api/v2"),e.next=3,t.query(tt.a.Predicates.at("document.type","post"),{orderings:"[my.post.date desc]",pageSize:10});case 3:a=e.sent,n(a.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=Object(s.useState)([]),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(p.a)().t;return Object(s.useEffect)((function(){try{e()}catch(t){window.alertwindow.alert(i("reusable:errors:500"))}}),[]),r?Object(u.jsx)(Ss,{children:r.map((function(e){return Object(u.jsx)(O.b,{to:{pathname:"/blog/".concat(e.uid),state:{post:e}},children:Object(u.jsxs)(vs,{children:[Object(u.jsx)(fs,{src:e.data.featured_image.url}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:e.data.title[0].text}),Object(u.jsx)("p",{children:e.data.date})]})]})})}))}):Object(u.jsx)(j,{})},Ds=function(e){var t=Object(s.useState)(null),a=Object(l.a)(t,2),r=a[0],n=a[1];return Object(s.useEffect)((function(){if(e.location.state){var t=e.location.state.post.data,a=t.title,s=t.featured_image,r=t.text,i=t.date,o=t.author_image,c=t.author_name;n((function(e){return Object(d.a)(Object(d.a)({},e),{},{title:a,featured_image:s,text:r,date:i,author_image:o,author_name:c})}))}else{tt.a.client("https://kattbnb.prismic.io/api/v2").getByUID("post",window.location.pathname.split("/blog/")[1]).then((function(e){var t=e.data,a=t.title,s=t.featured_image,r=t.text,i=t.date,o=t.author_image,c=t.author_name;n((function(e){return Object(d.a)(Object(d.a)({},e),{},{title:a,featured_image:s,text:r,date:i,author_image:o,author_name:c})}))}))}}),[]),r?Object(u.jsxs)(Ss,{children:[Object(u.jsx)(ys,{src:r.featured_image.url}),Object(u.jsx)("h1",{children:r.title[0].text}),Object(u.jsxs)(ks,{children:[Object(u.jsx)(ws,{src:r.author_image.url}),Object(u.jsxs)("p",{children:[r.author_name[0].text," | ",Object(u.jsx)("i",{children:r.date})]})]}),at.RichText.render(r.text)]}):Object(u.jsx)(j,{})},Is=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(L.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(s.Component),Ns=Object(R.f)(Is),Ms=Object(Os.a)(Et||(Et=Object(xs.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');\n\n  p {\n    font-family: 'Lato', sans-serif;\n    font-size: 16px;\n    color: #808080;\n    font-weight: 400;\n    margin: 0.5rem 0 0 0;\n    &first-child {\n      margin-top: 0;\n    }\n  }\n\n  h1 {\n    font-family: 'Lato', sans-serif;\n    font-size: 2rem;\n    color: #c90c61;\n    font-weight: 700;\n    margin: 0;\n  }\n\n  h2 {\n    font-family: 'Lato', sans-serif;\n    font-size: 1.7rem;\n    color: #59565e;\n    font-weight: 700;\n    margin: 0;\n  }\n\n  .block-img > img {\n    width: 100%;\n  }\n"]))),_s=Object(A.b)((function(e){return{menuVisible:e.animation.menuVisible}}))((function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),r=a[0],n=a[1],i=Object(p.a)().t,d=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=tt.a.client("https://kattbnb.prismic.io/api/v2"),e.next=3,t.query(tt.a.Predicates.at("document.type","post"),{fetch:"post.uid"});case 3:a=e.sent,n(a.results.map((function(e){return e.uid})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){try{d()}catch(e){window.alertwindow.alert(i("reusable:errors:500"))}}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ms,{}),Object(u.jsx)(z,{}),Object(u.jsxs)(V.a.Pushable,{onClick:e.menuVisible?function(){e.dispatch({type:"CHANGE_VISIBILITY"})}:function(){},as:B.a,id:"app-content",className:"disable-scrollbars",children:[Object(u.jsx)(Ns,{children:Object(u.jsxs)(R.c,{children:[Object(u.jsx)(R.a,{exact:!0,path:"/",component:_}),Object(u.jsx)(R.a,{exact:!0,path:"/search",component:pe}),Object(u.jsx)(R.a,{exact:!0,path:"/search-results",component:Ze}),Object(u.jsx)(R.a,{exact:!0,path:"/about-us",component:Je}),Object(u.jsx)(R.a,{exact:!0,path:"/contact-us",component:$e}),Object(u.jsx)(R.a,{exact:!0,path:"/faq",component:st}),Object(u.jsx)(R.a,{exact:!0,path:"/legal",component:rt}),Object(u.jsx)(R.a,{exact:!0,path:"/login",component:ht}),Object(u.jsx)(R.a,{exact:!0,path:"/sign-up",component:pt}),Object(u.jsx)(R.a,{exact:!0,path:"/signup-success",component:bt}),Object(u.jsx)(R.a,{exact:!0,path:"/password-reset",component:gt}),Object(u.jsx)(R.a,{exact:!0,path:"/change-password",component:Ot}),Object(u.jsx)(R.a,{exact:!0,path:"/password-reset-success",component:vt}),Object(u.jsx)(R.a,{exact:!0,path:"/request-to-book",component:ga}),Object(u.jsx)(R.a,{exact:!0,path:"/successful-request",component:Oa}),Object(u.jsx)(R.a,{exact:!0,path:"/request-accepted-success",component:Ka}),Object(u.jsx)(R.a,{exact:!0,path:"/booking-details",component:Ga}),Object(u.jsx)(R.a,{exact:!0,path:"/host-profile",component:cs}),Object(u.jsx)(R.a,{exact:!0,path:"/partners",component:ds}),Object(u.jsx)(R.a,{exact:!0,path:"/guidelines",component:nt}),Object(u.jsx)(R.a,{exact:!0,path:"/is-not-available",component:ls}),Object(u.jsx)(R.a,{exact:!0,path:"/become-host",component:us}),Object(u.jsx)(R.a,{exact:!0,path:"/bli-kattvakt",component:hs}),Object(u.jsx)(R.a,{exact:!0,path:"/successful-review",component:ps}),Object(u.jsx)(R.a,{exact:!0,path:"/user-page",component:la}),Object(u.jsx)(R.a,{exact:!0,path:"/all-bookings",component:fa}),Object(u.jsx)(R.a,{exact:!0,path:"/outgoing-bookings",component:Ma}),Object(u.jsx)(R.a,{exact:!0,path:"/incoming-bookings",component:Ua}),Object(u.jsx)(R.a,{exact:!0,path:"/messenger",component:Ja}),Object(u.jsx)(R.a,{exact:!0,path:"/conversation",component:os}),Object(u.jsx)(R.a,{exact:!0,path:"/leave-a-review",component:js}),Object(u.jsx)(R.a,{exact:!0,path:"/booking-receipt",component:ms}),Object(u.jsx)(R.a,{exact:!0,path:"/area-list",component:gs}),Object(u.jsx)(R.a,{exact:!0,path:"/blog",component:Cs}),r.map((function(e){return Object(u.jsx)(R.a,{exact:!0,path:"/blog/".concat(e),component:Ds})}))]})}),Object(u.jsx)($,{})]})]})})),Hs={menuVisible:!1},Bs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_VISIBILITY":return{menuVisible:!e.menuVisible};default:return e}},Fs=Object(ft.c)({animation:Bs,reduxTokenAuth:it.reduxTokenAuthReducer}),As=a(235),zs=(a(367),Object(ft.e)(Fs,Object(ft.a)(As.a))),Ts=function(){return zs};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ls=a(236),Ps=a.n(Ls),Ys=a(242),Vs=a(237);Object(Ys.a)(),E.a.defaults.baseURL="https://yet-another-url.herokuapp.com";var Us=Object(Vs.a)("pk_test_51HChrlC7F7FPrB6NjYWhZ34jgLXsTdqfdowqK3RFYvQlaVeAGBXk7dbumJPvXxxwkIvAeEyXDqpKd1ZYM3YQ1FMU002EGt6jZD"),Rs=Ts();ut(Rs),Ps.a.polyfill(),n.a.render(Object(u.jsx)(A.a,{store:Rs,children:Object(u.jsx)(da.Elements,{stripe:Us,children:Object(u.jsx)(O.a,{children:Object(u.jsx)(_s,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[368,1,2]]]);
//# sourceMappingURL=main.fbb1da99.chunk.js.map